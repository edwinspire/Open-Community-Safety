module.exports=function(e){var t={};function n(a){if(t[a])return t[a].exports;var s=t[a]={i:a,l:!1,exports:{}};return e[a].call(s.exports,s,s.exports,n),s.l=!0,s.exports}return n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(a,s,function(t){return e[t]}.bind(null,s));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=31)}([function(e,t){e.exports=require("fs")},function(e,t){e.exports=require("stream")},function(e,t){e.exports=require("path")},function(e,t){e.exports=require("zlib")},function(e,t){e.exports=require("dotenv")},function(e,t){e.exports=require("url")},function(e,t,n){"use strict";n.r(t),n.d(t,"Token",(function(){return l}));const a=n(2),s=n(0),{TOKEN_ENCRYPT:o}=process.env,i=n(33),{createHash:r}=n(10);class l{constructor(){this._path_token="tmptoken"}all(){let e={};return s.existsSync(this._path_token)?s.readdirSync(this._path_token).forEach((t,n)=>{let o=a.join(this._path_token,t);if(s.lstatSync(o).isDirectory()){let n=s.readdirSync(o).map(e=>{let t=a.join(o,e);if(s.lstatSync(t).isFile())try{return JSON.parse(s.readFileSync(t,"utf8"))}catch(e){console.error(e)}});e[t]=n}}):console.log("No hay carpetas en "+this._path_token),e}read(e){let t;try{const n=this.getUser(e);n&&n.username&&(t=JSON.parse(s.readFileSync(this._file_token(n.username,n.idtoken))))}catch(e){console.log("Error al leer archivo token")}return t}deleteAll(){this._rmDir(this._path_token)}_file_token(e,t){return a.join(this._path_token,e,t+".token")}_user_path(e){return a.join(this._path_token,e)}_create_user_dir(e){s.existsSync(this._path_token)||s.mkdirSync(this._path_token);let t=this._user_path(e);return s.existsSync(t)||s.mkdirSync(t),t}save(e){try{const t=this.getUser(e);return t&&0==t.multilogin&&this.deleteByUser(t.username),!t||!t.username||(this._create_user_dir(t.username),s.writeFileSync(this._file_token(t.username,t.idtoken),JSON.stringify(t,null,4)),!1)}catch(e){return console.log(e),!1}}token(e,t,n,a,s,l,c,d){let A;if(c||(c="2h"),d=void 0===d,!t)throw"uniq_username not found";{a=a||!1;let u,p=e.headers["x-forwarded-for"]||e.connection.remoteAddress;const h=r("sha256");if(h.update(JSON.stringify(p)+JSON.stringify(e.headers["user-agent"])),u=h.digest("hex"),u){let e={device:u,username:t,multilogin:a,profile:s,payload:l,fullname:n||t,idtoken:Math.random(),isSession:d};A=i.sign(e,o,{expiresIn:c}),this.save(A)}}return A}_dirUser(e){return a.join(this._path_token,e)}_rmDir(e){s.existsSync(e)&&(s.readdirSync(e).forEach((t,n)=>{var o=a.join(e,t);s.lstatSync(o).isDirectory()?this._rmDir(o):s.unlinkSync(o)}),s.rmdirSync(e))}deleteByUser(e){this._rmDir(this._user_path(e))}getUser(e){let t=null;if(e&&"string"==typeof e)try{t=i.verify(e,o)}catch(e){console.error(e.message)}return t}getUserFromRequest(e){let t=e.cookies.TOKEN_USER,n=this.validateSession(t);if(!n&&e.headers.authorization&&e.headers.authorization.indexOf("Basic ")>=0){const t=e.headers.authorization.split(" ")[1],a=Buffer.from(t,"base64").toString("ascii"),[s,o]=a.split(":");s==o&&(n=this.getUser(o))}return n}validateAsMiddleware(e,t,n){if((new l).getUserFromRequest(e))return n();t.status(401).json({session:!1})}validateSession(e){let t=this.getUser(e);if(t&&t.isSession)try{void 0===this.read(e)&&(t=null)}catch(e){console.error(e.message)}else this.delete(e);return t}delete(e){try{var t=i.decode(e,{complete:!1});if(t)if(t.multilogin){let e=this._file_token(t.username,t.idtoken);s.existsSync(e)&&s.unlinkSync(e)}else this.deleteByUser(t.username)}catch(e){console.error("Error al eliminar archivo token")}}}},function(e,t){e.exports=require("xlsx")},function(e,t,n){"use strict";function a(e,t){var n=0,a=e.length,s=[];for(t=parseInt(t),n=0;n<a;n+=t){let a=e.slice(n,n+t);s.push(a)}return s}n.d(t,"a",(function(){return a}))},function(e,t){e.exports=require("http")},function(e,t){e.exports=require("crypto")},function(e,t,n){"use strict";function a(e,t,n,a){return n&&n.user?{page:t,session:n}:e.redirect(302,a)}n.r(t),n.d(t,"CheckSession",(function(){return a}))},function(e,t){e.exports=require("node-fetch")},function(e,t){const{PORT:n,OMS_SERVER:a}=process.env;e.exports=function(){return a+":"+n}},function(e,t){e.exports=require("passport")},function(e,t){e.exports=require("events")},function(e,t){e.exports=require("https")},function(e,t){e.exports=require("moment")},function(e,t){e.exports=require("express-promise-router")},function(e,t,n){n(4).config();const{Pool:a}=n(20),s=new a({connectionString:process.env.DATABASE_URL,idleTimeoutMillis:1e3,max:20,ssl:{rejectUnauthorized:!1}});e.exports={query:(e,t)=>s.query(e,t)}},function(e,t){e.exports=require("pg")},function(e,t){e.exports=require("tedious")},function(e,t){e.exports=require("soap")},function(e,t,n){const a=n(12),s=n(40),o=n(13);e.exports=async function(e){try{let t=await a(o()+"/pgapi/events/receiver",{method:"POST",headers:{"Content-Type":"application/json",Authorization:s()},body:JSON.stringify(e)});return await t.json()}catch(e){return console.error(e),e}}},function(e,t,n){const{BOT_TOKEN:a}=process.env,s=n(10),o=n(15),i=n(47),r=n(48),l=n(13),{FetchDataNode:c}=n(25);e.exports.Telegraf=class e extends o{constructor(){super(),this.FDataNode=new c,this.bot=new i(a),this.bot.command("getid",t=>{t.reply("idgroup: "+e.getidgroup(t.update.message.chat.id))}),this.bot.command("register",async e=>{e.reply("Un momento por favor. Se est√° registrando el grupo...");try{let t=await this.FDataNode.post(l()+"/pgapi/OpenCommunitySecurity/Account",e.update.message),n=await t.json();e.reply(n.account_name+" se encuentra registrado. ID: "+n.uniqueid)}catch(t){console.log(t),e.reply("Ocurri√≥ un error, no se pudo registrar")}}),this.bot.command("/start",({reply:e})=>e("Seleccione una opci√≥n",r.keyboard([["üö® EMERGENCIA"],["‚ö† ADVERTENCIA"],["üîà PRUEBA","üîá APAGAR"]]).oneTime().resize().extra())),this.bot.hears("üö® EMERGENCIA",async t=>{let n="";try{n=(await e.SendEvent(t,"ocs001")).message}catch(e){n="Ocurri√≥ un error: "+JSON.stringify(e)}t.reply(n)}),this.bot.hears("‚ö† ADVERTENCIA",async t=>{let n="";try{n=(await e.SendEvent(t,"ocs003")).message}catch(e){n="Ocurri√≥ un error: "+JSON.stringify(e)}t.reply(n)}),this.bot.hears("üîà PRUEBA",async t=>{let n="";try{n=(await e.SendEvent(t,"ocs004")).message}catch(e){n="Ocurri√≥ un error: "+JSON.stringify(e)}t.reply(n)}),this.bot.hears("üîá APAGAR",async t=>{let n="";try{n=(await e.SendEvent(t,"ocs002")).message}catch(e){n="Ocurri√≥ un error: "+JSON.stringify(e),console.log(e)}t.reply(n)})}static getidgroup(e){return s.createHash("md5").update(JSON.stringify(e)).digest("hex")}launch(){this.bot.launch()}static async SendEventOCS(e){console.log("SendEventOCS",e);try{let t=new c,n=await t.post(l()+"/pgapi/OpenCommunitySecurity/event",e),a=await n.json();return Array.isArray(a)&&a.length>0?a[0]:(console.log(a),a)}catch(e){return console.log(e),e}}static async SendEvent(t,n){console.log("SendEvent",n);try{let a={idgroup:e.getidgroup(t.message.chat.id),message:t.message,eventcode:n};return await e.SendEventOCS(a)}catch(e){return console.log(e),e}}static async getEventById(e){try{let t=new c,n=await t.get(l()+"/pgapi/OpenCommunitySecurity/event",{idevent:e}),a=await n.json();return Array.isArray(a)&&a.length>0?a[0]:(console.log("OJO ==>>>> ",a),a)}catch(e){return console.log("getEventById",e),e}}sendMessageToGroup(e){e&&e.idevent>0?void 0!==e.identification&&this.bot.telegram.sendMessage(e.identification,e.label+" "+e.details.message.description):console.trace("sendMessageToGroup evento no v√°lido",e)}async ProcessPgNotification(t,n){if(console.log("===>>>>   pgNotifyEvent.channel",n.channel),n&&n.channel)try{let a=JSON.parse(n.payload);switch(n.channel){case"events.data":if(a&&a.idevent&&a.idevent>0){let n=await e.getEventById(a.idevent);e.EmitEventToNameSpace(t,n),this.sendMessageToGroup(n)}else console.error("pgNotifyProcess - El evento no es v√°lido",n)}}catch(e){console.error("ProcessPgNotification 2",n,e)}else console.error("ProcessPgNotification 1",n)}static EmitEventToNameSpace(t,n){let a="/appocs";n&&void 0!==n.identification?(a+="-"+e.getidgroup(Number(n.identification)),t.of(a).emit(n.code,{}),console.log("EmitEventToNameSpace emite "+n.code)):console.log("EmitEventToNameSpace Evento no v√°lido",n)}static CreateSocketIONameSpace(t){t.of(/\/appocs-(.+)/g).on("connection",t=>{console.log("NAMESPACE DINAMICO"),t.use((t,n)=>{switch(t[1]){case"ocsdevconnected":e.SendEventOCS({idgroup:t[0].idgroup,message:t[0],eventcode:"ocsdevconnected"});break;case"device":e.SendEventOCS({idgroup:t[0].idgroup,message:t[0],eventcode:"device"})}n()})})}}},function(e,t,n){"use strict";n.r(t),n.d(t,"FetchDataNode",(function(){return s}));const a=n(12);class s{constructor(e){this.Authorization=e}async put(e,t,n){n||(n={"Content-Type":"application/json",Authorization:this.Authorization});try{return await a(e,{method:"PUT",body:JSON.stringify(t),headers:n})}catch(e){throw console.log(e),e}}async delete(e,t,n){n||(n={"Content-Type":"application/json",Authorization:this.Authorization});try{return await a(e,{method:"DELETE",body:JSON.stringify(t),headers:n})}catch(e){throw console.log(e),e}}async post(e,t,n){let s;n||(n={"Content-Type":"application/json",Authorization:this.Authorization});try{return s=await a(e,{method:"POST",body:JSON.stringify(t),headers:n}),s}catch(e){if(console.log(e),s)return s;throw e}}async get(e,t,n){let s;n||(n={"Content-Type":"application/json",Authorization:this.Authorization});try{let o=e+"?"+new URLSearchParams(t).toString();return s=await a(o,{method:"GET",headers:n}),s}catch(e){if(console.error(error),s)return s;throw e}}}},function(e,t,n){"use strict";n.r(t),n.d(t,"Server",(function(){return Gn}));var a={};n.r(a),n.d(a,"registration",(function(){return r}));var s=n(0),o=n(2);class i{getCurrentPosition(){var e={coords:{},timestamp:new Date,supported:navigator.geolocation,error:void 0};return new Promise((t,n)=>{e.supported?navigator.geolocation.getCurrentPosition(n=>{e.timestamp=n.timestamp,e.coords.latitude=n.coords.latitude,e.coords.longitude=n.coords.longitude,e.coords.accuracy=n.coords.accuracy,e.coords.altitude=n.coords.altitude,e.coords.altitudeAccuracy=n.coords.altitudeAccuracy,e.coords.heading=n.coords.heading,e.coords.speed=n.coords.speed,t(e)},t=>{e.error=t,n(e)}):n(e)})}}async function r(){if("serviceWorker"in navigator){console.log(navigator.serviceWorker);const e=await navigator.serviceWorker.ready;let t=await e.pushManager.getSubscription();console.log(t),t=await l(e)}else console.log("serviceWorker Unsoported")}const l=async e=>{const t=(e=>{const t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=window.atob(t),a=new Uint8Array(n.length);for(let e=0;e<n.length;++e)a[e]=n.charCodeAt(e);return a})("BNi_4RFjAjaObFkgSvt3TSwUGg1cAO9aGiZlglXexl-U8U8zrqeOrUJR9nMRa6X2p4ECzk7XAivknIp1AMyIYfY"),n=await e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:t});var a=new i;let s=await a.getCurrentPosition();return await function(e,t){let n={subscription:e.toJSON(),geolocation:t};return console.log(n),fetch("/webpush-subscription",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)})}(n,s),n};function c(){}function d(e){return e()}function A(){return Object.create(null)}function u(e){e.forEach(d)}function p(e){return"function"==typeof e}function h(e){return 0===Object.keys(e).length}function m(e,...t){if(null==e)return c;const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}new Set;function f(e,t){const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!1,!1,t),n}new Set;let C;function v(e){C=e}function b(){if(!C)throw new Error("Function called outside component initialization");return C}function g(e){b().$$.on_mount.push(e)}function y(){const e=b();return(t,n)=>{const a=e.$$.callbacks[t];if(a){const s=f(t,n);a.slice().forEach(t=>{t.call(e,s)})}}}Promise.resolve();new Set;new Set;"undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;new Set(["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"]);const w={'"':"&quot;","'":"&#39;","&":"&amp;","<":"&lt;",">":"&gt;"};function x(e){return String(e).replace(/["'&<>]/g,e=>w[e])}function _(e,t){let n="";for(let a=0;a<e.length;a+=1)n+=t(e[a],a);return n}const E={$$render:()=>""};function k(e,t){if(!e||!e.$$render)throw"svelte:component"===t&&(t+=" this={...}"),new Error(`<${t}> is not a valid SSR component. You may need to review your build config to ensure that dependencies are compiled, rather than imported as pre-compiled modules`);return e}let S,T;function $(e){function t(t,n,a,s,o){const i=C;v({$$:{on_destroy:S,context:new Map(i?i.$$.context:o||[]),on_mount:[],before_update:[],after_update:[],callbacks:A()}});const r=e(t,n,a,s);return v(i),r}return{render:(e={},{$$slots:n={},context:a=new Map}={})=>{S=[];const s={title:"",head:"",css:new Set},o=t(s,e,{},n,a);return u(S),{html:o,css:{code:Array.from(s.css).map(e=>e.code).join("\n"),map:null},head:s.title+s.head}},$$render:t}}function B(e,t,n){return null==t||n&&!t?"":` ${e}${!0===t?"":"="+("string"==typeof t?JSON.stringify(x(t)):`"${t}"`)}`}function I(e,t){const n=e.$$;null!==n.fragment&&(u(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}"function"==typeof HTMLElement&&(T=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){const{on_mount:e}=this.$$;this.$$.on_disconnect=e.map(d).filter(p);for(const e in this.$$.slotted)this.appendChild(this.$$.slotted[e])}attributeChangedCallback(e,t,n){this[e]=n}disconnectedCallback(){u(this.$$.on_disconnect)}$destroy(){I(this,1),this.$destroy=c}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){this.$$set&&!h(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}});class O{constructor(e){this._redirect_in_unauthorized_internal=e}async put(e,t,n){n||(n={"Content-Type":"application/json"});try{let a=await fetch(e,{method:"PUT",body:JSON.stringify(t),headers:n});return this._redirect_in_unauthorized&&401==a.status&&(window.location.href=redirect_in_unauthorized),a}catch(e){throw console.log(e),e}}async delete(e,t,n){n||(n={"Content-Type":"application/json"});try{let a=await fetch(e,{method:"DELETE",body:JSON.stringify(t),headers:n});return this._redirect_in_unauthorized&&401==a.status&&(window.location.href=redirect_in_unauthorized),a}catch(e){throw console.log(e),e}}async post(e,t,n){let a;n||(n={"Content-Type":"application/json"});try{return a=await fetch(e,{method:"POST",body:JSON.stringify(t),headers:n}),this._redirect_in_unauthorized&&401==a.status&&(window.location.href=redirect_in_unauthorized),a}catch(e){if(console.log(e),a)return a;throw e}}async get(e,t,n){let a;n||(n={"Content-Type":"application/json"});try{let s=e+"?"+new URLSearchParams(t).toString();return a=await fetch(s,{method:"GET",headers:n}),this._redirect_in_unauthorized&&401==a.status&&(window.location.href=redirect_in_unauthorized),a}catch(e){if(a)return a;throw e}}}const M={code:'@font-face{font-family:"Source Sans Pro";font-style:normal;font-weight:200;src:local("Source Sans Pro ExtraLight"), local("SourceSansPro-ExtraLight"),\n      url(https://fonts.gstatic.com/s/sourcesanspro/v13/6xKydSBYKcSV-LCoeQqfX1RYOo3i94_wlxdr.ttf)\n        format("truetype")}@font-face{font-family:"Source Sans Pro";font-style:normal;font-weight:300;src:local("Source Sans Pro Light"), local("SourceSansPro-Light"),\n      url(https://fonts.gstatic.com/s/sourcesanspro/v13/6xKydSBYKcSV-LCoeQqfX1RYOo3ik4zwlxdr.ttf)\n        format("truetype")}.root.svelte-1a2fiz0.svelte-1a2fiz0{box-sizing:border-box;margin:0;padding:0;font-weight:300;display:block}.body.svelte-1a2fiz0.svelte-1a2fiz0{font-family:"Source Sans Pro", sans-serif;color:white;font-weight:300}.body.svelte-1a2fiz0 .svelte-1a2fiz0::-webkit-input-placeholder{font-family:"Source Sans Pro", sans-serif;color:white;font-weight:300}.body.svelte-1a2fiz0 .svelte-1a2fiz0:-moz-placeholder{font-family:"Source Sans Pro", sans-serif;color:white;opacity:1;font-weight:300}.body.svelte-1a2fiz0 .svelte-1a2fiz0::-moz-placeholder{font-family:"Source Sans Pro", sans-serif;color:white;opacity:1;font-weight:300}.body.svelte-1a2fiz0 .svelte-1a2fiz0:-ms-input-placeholder{font-family:"Source Sans Pro", sans-serif;color:white;font-weight:300}.wrapper.svelte-1a2fiz0.svelte-1a2fiz0{background:#4877af;background:-webkit-gradient(\n      linear,\n      left top,\n      right bottom,\n      from(#4877af),\n      to(#12284a)\n    );background:linear-gradient(to bottom right, #4877af 0%, #12284a 100%);position:absolute;left:0;width:100%;height:100%;overflow:hidden}.wrapper.form-success .container.svelte-1a2fiz0 h1.svelte-1a2fiz0{-webkit-transform:translateY(85px) !important;transform:translateY(85px) !important}.container.svelte-1a2fiz0.svelte-1a2fiz0{max-width:300px;margin:0 auto;padding:80px 0;height:400px;text-align:center}.container.svelte-1a2fiz0 h1.svelte-1a2fiz0{font-size:40px !important;-webkit-transition-duration:1s;transition-duration:1s;-webkit-transition-timing-function:ease-in-put;transition-timing-function:ease-in-put;font-weight:200 !important}.form.svelte-1a2fiz0.svelte-1a2fiz0{padding:20px 0;z-index:99;position:relative}.links_block.svelte-1a2fiz0.svelte-1a2fiz0{text-align:right;padding:1em}.form.svelte-1a2fiz0 a.svelte-1a2fiz0{color:white}.form.svelte-1a2fiz0 a.svelte-1a2fiz0:visited{color:floralwhite}.form.svelte-1a2fiz0 input.svelte-1a2fiz0{-webkit-appearance:none;-moz-appearance:none;appearance:none;outline:0;border:1px solid rgba(255, 255, 255, 0.4);background-color:rgba(255, 255, 255, 0.2);width:-webkit-fill-available !important;border-radius:3px;padding:10px 15px;margin:0 auto 10px auto;display:block;text-align:center;font-size:1em !important;color:white;-webkit-transition-duration:0.25s;transition-duration:0.25s;font-weight:300 !important}.form.svelte-1a2fiz0 input.svelte-1a2fiz0:hover{background-color:rgba(255, 255, 255, 0.4)}.form.svelte-1a2fiz0 input.svelte-1a2fiz0:focus{background-color:white;width:300px;color:#12284a}.bg_bubbles.svelte-1a2fiz0.svelte-1a2fiz0{position:absolute;top:0;left:0;width:100%;height:100%;z-index:1}.bg_bubbles.svelte-1a2fiz0 li.svelte-1a2fiz0{position:absolute;list-style:none;display:block;width:40px;height:40px;background-color:rgba(255, 255, 255, 0.15);bottom:-160px;-webkit-animation:svelte-1a2fiz0-square 25s infinite;animation:svelte-1a2fiz0-square 25s infinite;-webkit-transition-timing-function:linear;transition-timing-function:linear}.bg_bubbles.svelte-1a2fiz0 li.svelte-1a2fiz0:nth-child(1){left:10%}.bg_bubbles.svelte-1a2fiz0 li.svelte-1a2fiz0:nth-child(2){left:20%;width:80px;height:80px;-webkit-animation-delay:2s;animation-delay:2s;-webkit-animation-duration:17s;animation-duration:17s}.bg_bubbles.svelte-1a2fiz0 li.svelte-1a2fiz0:nth-child(3){left:25%;-webkit-animation-delay:4s;animation-delay:4s}.bg_bubbles.svelte-1a2fiz0 li.svelte-1a2fiz0:nth-child(4){left:40%;width:60px;height:60px;-webkit-animation-duration:22s;animation-duration:22s;background-color:rgba(255, 255, 255, 0.25)}.bg_bubbles.svelte-1a2fiz0 li.svelte-1a2fiz0:nth-child(5){left:70%}.bg_bubbles.svelte-1a2fiz0 li.svelte-1a2fiz0:nth-child(6){left:80%;width:120px;height:120px;-webkit-animation-delay:3s;animation-delay:3s;background-color:rgba(255, 255, 255, 0.2)}.bg_bubbles.svelte-1a2fiz0 li.svelte-1a2fiz0:nth-child(7){left:32%;width:160px;height:160px;-webkit-animation-delay:7s;animation-delay:7s}.bg_bubbles.svelte-1a2fiz0 li.svelte-1a2fiz0:nth-child(8){left:55%;width:20px;height:20px;-webkit-animation-delay:15s;animation-delay:15s;-webkit-animation-duration:40s;animation-duration:40s}.bg_bubbles.svelte-1a2fiz0 li.svelte-1a2fiz0:nth-child(9){left:25%;width:10px;height:10px;-webkit-animation-delay:2s;animation-delay:2s;-webkit-animation-duration:40s;animation-duration:40s;background-color:rgba(255, 255, 255, 0.3)}.bg_bubbles.svelte-1a2fiz0 li.svelte-1a2fiz0:nth-child(10){left:90%;width:160px;height:160px;-webkit-animation-delay:11s;animation-delay:11s}@-webkit-keyframes svelte-1a2fiz0-square{0%{-webkit-transform:translateY(0);transform:translateY(0)}100%{-webkit-transform:translateY(-330vh) rotate(600deg);transform:translateY(-330vh) rotate(600deg)}}@keyframes svelte-1a2fiz0-square{0%{-webkit-transform:translateY(0);transform:translateY(0)}100%{-webkit-transform:translateY(-330vh) rotate(600deg);transform:translateY(-330vh) rotate(600deg)}}',map:'{"version":3,"file":"index.svelte","sources":["index.svelte"],"sourcesContent":["<script>\\n  import { onMount } from \\"svelte\\";\\n  import { FetchData } from \\"@edwinspire/fetch/FetchData.js\\";\\n  //const io = require(\\"socket.io-client\\");\\n\\n  let username = \\"\\";\\n  let password = \\"\\";\\n  let FData;\\n\\n  async function digestMessage(message) {\\n    const msgUint8 = new TextEncoder().encode(message); // encode as (utf-8) Uint8Array\\n    const hashBuffer = await crypto.subtle.digest(\\"SHA-256\\", msgUint8); // hash the message\\n    const hashArray = Array.from(new Uint8Array(hashBuffer)); // convert buffer to byte array\\n    const hashHex = hashArray\\n      .map((b) => b.toString(16).padStart(2, \\"0\\"))\\n      .join(\\"\\"); // convert bytes to hex string\\n    return hashHex;\\n  }\\n\\n  async function Login(event) {\\n    if (username && password && username.length > 0 && password.length > 0) {\\n      let response = await FData.post(\\"/login\\", {\\n        user: username,\\n        pwd: password,\\n      });\\n\\n      let data = await response.json();\\n\\n      if (!data.login) {\\n        alert(data.message);\\n      } else {\\n        window.location.href = \\"/home\\";\\n      }\\n    } else {\\n      alert(\\"Debe llenar los campos de usuario y clave\\");\\n    }\\n  }\\n\\n  onMount(() => {\\n    //const socket = io(\\"https://localhost:3000\\");\\n    \\n    /*\\n    const socket = io();\\n\\n    socket.on(\\"chat\\", (...args) => {\\n      console.log(args);\\n    });\\n\\n    socket.on(\\"registred\\", (...args) => {\\n      console.log(args);\\n    });\\n\\n    setTimeout(() => {\\n      socket.emit(\\"register\\", { hola: \\"mundo\\" });\\n    }, 5000);\\n\\n*/\\n\\n    FData = new FetchData();\\n    // Borra todas las cookies de la aplicaci√≥n\\n    (function () {\\n      var cookies = document.cookie.split(\\"; \\");\\n      for (var c = 0; c < cookies.length; c++) {\\n        var d = window.location.hostname.split(\\".\\");\\n        while (d.length > 0) {\\n          var cookieBase =\\n            encodeURIComponent(cookies[c].split(\\";\\")[0].split(\\"=\\")[0]) +\\n            \\"=; expires=Thu, 01-Jan-1970 00:00:01 GMT; domain=\\" +\\n            d.join(\\".\\") +\\n            \\" ;path=\\";\\n          var p = location.pathname.split(\\"/\\");\\n          document.cookie = cookieBase + \\"/\\";\\n          while (p.length > 0) {\\n            document.cookie = cookieBase + p.join(\\"/\\");\\n            p.pop();\\n          }\\n          d.shift();\\n        }\\n      }\\n    })();\\n  });\\n<\/script>\\n\\n<div class=\\"root\\">\\n  <div class=\\"body\\">\\n    <div class=\\"wrapper\\">\\n      <div class=\\"container\\">\\n        <h1>Login</h1>\\n        <form\\n          class=\\"form\\"\\n          action=\\"/signin\\"\\n          method=\\"post\\"\\n          on:submit|preventDefault={Login}\\n        >\\n          <input\\n            bind:value={username}\\n            name=\\"user\\"\\n            type=\\"text\\"\\n            placeholder=\\"Usuario\\"\\n            required=\\"required\\"\\n          />\\n          <input\\n            bind:value={password}\\n            name=\\"pwd\\"\\n            type=\\"password\\"\\n            placeholder=\\"Contrase√±a\\"\\n            required=\\"required\\"\\n          />\\n          <input type=\\"submit\\" name=\\"submit\\" value=\\"Aceptar\\" />\\n          <div class=\\"links_block\\">\\n            <a href=\\"register\\">Registro</a>\\n          </div>\\n        </form>\\n      </div>\\n    </div>\\n  </div>\\n  <ul class=\\"bg_bubbles\\">\\n    <li />\\n    <li />\\n    <li />\\n    <li />\\n    <li />\\n    <li />\\n    <li />\\n    <li />\\n    <li />\\n    <li />\\n  </ul>\\n</div>\\n\\n<style>\\n  @font-face {\\n    font-family: \\"Source Sans Pro\\";\\n    font-style: normal;\\n    font-weight: 200;\\n    src: local(\\"Source Sans Pro ExtraLight\\"), local(\\"SourceSansPro-ExtraLight\\"),\\n      url(https://fonts.gstatic.com/s/sourcesanspro/v13/6xKydSBYKcSV-LCoeQqfX1RYOo3i94_wlxdr.ttf)\\n        format(\\"truetype\\");\\n  }\\n  @font-face {\\n    font-family: \\"Source Sans Pro\\";\\n    font-style: normal;\\n    font-weight: 300;\\n    src: local(\\"Source Sans Pro Light\\"), local(\\"SourceSansPro-Light\\"),\\n      url(https://fonts.gstatic.com/s/sourcesanspro/v13/6xKydSBYKcSV-LCoeQqfX1RYOo3ik4zwlxdr.ttf)\\n        format(\\"truetype\\");\\n  }\\n  .root {\\n    box-sizing: border-box;\\n    margin: 0;\\n    padding: 0;\\n    font-weight: 300;\\n    display: block;\\n  }\\n  .body {\\n    font-family: \\"Source Sans Pro\\", sans-serif;\\n    color: white;\\n    font-weight: 300;\\n  }\\n  .body ::-webkit-input-placeholder {\\n    /* WebKit browsers */\\n    font-family: \\"Source Sans Pro\\", sans-serif;\\n    color: white;\\n    font-weight: 300;\\n  }\\n  .body :-moz-placeholder {\\n    /* Mozilla Firefox 4 to 18 */\\n    font-family: \\"Source Sans Pro\\", sans-serif;\\n    color: white;\\n    opacity: 1;\\n    font-weight: 300;\\n  }\\n  .body ::-moz-placeholder {\\n    /* Mozilla Firefox 19+ */\\n    font-family: \\"Source Sans Pro\\", sans-serif;\\n    color: white;\\n    opacity: 1;\\n    font-weight: 300;\\n  }\\n  .body :-ms-input-placeholder {\\n    /* Internet Explorer 10+ */\\n    font-family: \\"Source Sans Pro\\", sans-serif;\\n    color: white;\\n    font-weight: 300;\\n  }\\n  .wrapper {\\n    background: #4877af;\\n    background: -webkit-gradient(\\n      linear,\\n      left top,\\n      right bottom,\\n      from(#4877af),\\n      to(#12284a)\\n    );\\n    background: linear-gradient(to bottom right, #4877af 0%, #12284a 100%);\\n    position: absolute;\\n    left: 0;\\n    width: 100%;\\n    height: 100%;\\n    overflow: hidden;\\n  }\\n  .wrapper.form-success .container h1 {\\n    -webkit-transform: translateY(85px) !important;\\n    transform: translateY(85px) !important;\\n  }\\n  .container {\\n    max-width: 300px;\\n    margin: 0 auto;\\n    padding: 80px 0;\\n    height: 400px;\\n    text-align: center;\\n  }\\n  .container h1 {\\n    font-size: 40px !important;\\n    -webkit-transition-duration: 1s;\\n    transition-duration: 1s;\\n    -webkit-transition-timing-function: ease-in-put;\\n    transition-timing-function: ease-in-put;\\n    font-weight: 200 !important;\\n  }\\n  .form {\\n    padding: 20px 0;\\n    z-index: 99;\\n    position: relative;\\n  }\\n\\n  .links_block {\\n    text-align: right;\\n    padding: 1em;\\n  }\\n\\n  .form a {\\n    color: white;\\n  }\\n  .form a:visited {\\n    color: floralwhite;\\n  }\\n  .form input {\\n    -webkit-appearance: none;\\n    -moz-appearance: none;\\n    appearance: none;\\n    outline: 0;\\n    border: 1px solid rgba(255, 255, 255, 0.4);\\n    background-color: rgba(255, 255, 255, 0.2);\\n    width: -webkit-fill-available !important;\\n    border-radius: 3px;\\n    padding: 10px 15px;\\n    margin: 0 auto 10px auto;\\n    display: block;\\n    text-align: center;\\n    font-size: 1em !important;\\n    color: white;\\n    -webkit-transition-duration: 0.25s;\\n    transition-duration: 0.25s;\\n    font-weight: 300 !important;\\n  }\\n  .form input:hover {\\n    background-color: rgba(255, 255, 255, 0.4);\\n  }\\n  .form input:focus {\\n    background-color: white;\\n    width: 300px;\\n    color: #12284a;\\n  }\\n\\n  .bg_bubbles {\\n    position: absolute;\\n    top: 0;\\n    left: 0;\\n    width: 100%;\\n    height: 100%;\\n    z-index: 1;\\n  }\\n  .bg_bubbles li {\\n    position: absolute;\\n    list-style: none;\\n    display: block;\\n    width: 40px;\\n    height: 40px;\\n    background-color: rgba(255, 255, 255, 0.15);\\n    bottom: -160px;\\n    -webkit-animation: square 25s infinite;\\n    animation: square 25s infinite;\\n    -webkit-transition-timing-function: linear;\\n    transition-timing-function: linear;\\n  }\\n  .bg_bubbles li:nth-child(1) {\\n    left: 10%;\\n  }\\n  .bg_bubbles li:nth-child(2) {\\n    left: 20%;\\n    width: 80px;\\n    height: 80px;\\n    -webkit-animation-delay: 2s;\\n    animation-delay: 2s;\\n    -webkit-animation-duration: 17s;\\n    animation-duration: 17s;\\n  }\\n  .bg_bubbles li:nth-child(3) {\\n    left: 25%;\\n    -webkit-animation-delay: 4s;\\n    animation-delay: 4s;\\n  }\\n  .bg_bubbles li:nth-child(4) {\\n    left: 40%;\\n    width: 60px;\\n    height: 60px;\\n    -webkit-animation-duration: 22s;\\n    animation-duration: 22s;\\n    background-color: rgba(255, 255, 255, 0.25);\\n  }\\n  .bg_bubbles li:nth-child(5) {\\n    left: 70%;\\n  }\\n  .bg_bubbles li:nth-child(6) {\\n    left: 80%;\\n    width: 120px;\\n    height: 120px;\\n    -webkit-animation-delay: 3s;\\n    animation-delay: 3s;\\n    background-color: rgba(255, 255, 255, 0.2);\\n  }\\n  .bg_bubbles li:nth-child(7) {\\n    left: 32%;\\n    width: 160px;\\n    height: 160px;\\n    -webkit-animation-delay: 7s;\\n    animation-delay: 7s;\\n  }\\n  .bg_bubbles li:nth-child(8) {\\n    left: 55%;\\n    width: 20px;\\n    height: 20px;\\n    -webkit-animation-delay: 15s;\\n    animation-delay: 15s;\\n    -webkit-animation-duration: 40s;\\n    animation-duration: 40s;\\n  }\\n  .bg_bubbles li:nth-child(9) {\\n    left: 25%;\\n    width: 10px;\\n    height: 10px;\\n    -webkit-animation-delay: 2s;\\n    animation-delay: 2s;\\n    -webkit-animation-duration: 40s;\\n    animation-duration: 40s;\\n    background-color: rgba(255, 255, 255, 0.3);\\n  }\\n  .bg_bubbles li:nth-child(10) {\\n    left: 90%;\\n    width: 160px;\\n    height: 160px;\\n    -webkit-animation-delay: 11s;\\n    animation-delay: 11s;\\n  }\\n  @-webkit-keyframes square {\\n    0% {\\n      -webkit-transform: translateY(0);\\n      transform: translateY(0);\\n    }\\n    100% {\\n      -webkit-transform: translateY(-330vh) rotate(600deg);\\n      transform: translateY(-330vh) rotate(600deg);\\n    }\\n  }\\n  @keyframes square {\\n    0% {\\n      -webkit-transform: translateY(0);\\n      transform: translateY(0);\\n    }\\n    100% {\\n      -webkit-transform: translateY(-330vh) rotate(600deg);\\n      transform: translateY(-330vh) rotate(600deg);\\n    }\\n  }\\n</style>\\n"],"names":[],"mappings":"AAmIE,UAAU,AAAC,CAAC,AACV,WAAW,CAAE,iBAAiB,CAC9B,UAAU,CAAE,MAAM,CAClB,WAAW,CAAE,GAAG,CAChB,GAAG,CAAE,MAAM,4BAA4B,CAAC,CAAC,CAAC,MAAM,0BAA0B,CAAC,CAAC;MAC1E,IAAI,sFAAsF,CAAC;QACzF,OAAO,UAAU,CAAC,AACxB,CAAC,AACD,UAAU,AAAC,CAAC,AACV,WAAW,CAAE,iBAAiB,CAC9B,UAAU,CAAE,MAAM,CAClB,WAAW,CAAE,GAAG,CAChB,GAAG,CAAE,MAAM,uBAAuB,CAAC,CAAC,CAAC,MAAM,qBAAqB,CAAC,CAAC;MAChE,IAAI,sFAAsF,CAAC;QACzF,OAAO,UAAU,CAAC,AACxB,CAAC,AACD,KAAK,8BAAC,CAAC,AACL,UAAU,CAAE,UAAU,CACtB,MAAM,CAAE,CAAC,CACT,OAAO,CAAE,CAAC,CACV,WAAW,CAAE,GAAG,CAChB,OAAO,CAAE,KAAK,AAChB,CAAC,AACD,KAAK,8BAAC,CAAC,AACL,WAAW,CAAE,iBAAiB,CAAC,CAAC,UAAU,CAC1C,KAAK,CAAE,KAAK,CACZ,WAAW,CAAE,GAAG,AAClB,CAAC,AACD,oBAAK,gBAAC,2BAA2B,AAAC,CAAC,AAEjC,WAAW,CAAE,iBAAiB,CAAC,CAAC,UAAU,CAC1C,KAAK,CAAE,KAAK,CACZ,WAAW,CAAE,GAAG,AAClB,CAAC,AACD,oBAAK,gBAAC,iBAAiB,AAAC,CAAC,AAEvB,WAAW,CAAE,iBAAiB,CAAC,CAAC,UAAU,CAC1C,KAAK,CAAE,KAAK,CACZ,OAAO,CAAE,CAAC,CACV,WAAW,CAAE,GAAG,AAClB,CAAC,AACD,oBAAK,gBAAC,kBAAkB,AAAC,CAAC,AAExB,WAAW,CAAE,iBAAiB,CAAC,CAAC,UAAU,CAC1C,KAAK,CAAE,KAAK,CACZ,OAAO,CAAE,CAAC,CACV,WAAW,CAAE,GAAG,AAClB,CAAC,AACD,oBAAK,gBAAC,sBAAsB,AAAC,CAAC,AAE5B,WAAW,CAAE,iBAAiB,CAAC,CAAC,UAAU,CAC1C,KAAK,CAAE,KAAK,CACZ,WAAW,CAAE,GAAG,AAClB,CAAC,AACD,QAAQ,8BAAC,CAAC,AACR,UAAU,CAAE,OAAO,CACnB,UAAU,CAAE;MACV,MAAM,CAAC;MACP,IAAI,CAAC,GAAG,CAAC;MACT,KAAK,CAAC,MAAM,CAAC;MACb,KAAK,OAAO,CAAC,CAAC;MACd,GAAG,OAAO,CAAC;KACZ,CACD,UAAU,CAAE,gBAAgB,EAAE,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,CACtE,QAAQ,CAAE,QAAQ,CAClB,IAAI,CAAE,CAAC,CACP,KAAK,CAAE,IAAI,CACX,MAAM,CAAE,IAAI,CACZ,QAAQ,CAAE,MAAM,AAClB,CAAC,AACD,QAAQ,aAAa,CAAC,yBAAU,CAAC,EAAE,eAAC,CAAC,AACnC,iBAAiB,CAAE,WAAW,IAAI,CAAC,CAAC,UAAU,CAC9C,SAAS,CAAE,WAAW,IAAI,CAAC,CAAC,UAAU,AACxC,CAAC,AACD,UAAU,8BAAC,CAAC,AACV,SAAS,CAAE,KAAK,CAChB,MAAM,CAAE,CAAC,CAAC,IAAI,CACd,OAAO,CAAE,IAAI,CAAC,CAAC,CACf,MAAM,CAAE,KAAK,CACb,UAAU,CAAE,MAAM,AACpB,CAAC,AACD,yBAAU,CAAC,EAAE,eAAC,CAAC,AACb,SAAS,CAAE,IAAI,CAAC,UAAU,CAC1B,2BAA2B,CAAE,EAAE,CAC/B,mBAAmB,CAAE,EAAE,CACvB,kCAAkC,CAAE,WAAW,CAC/C,0BAA0B,CAAE,WAAW,CACvC,WAAW,CAAE,GAAG,CAAC,UAAU,AAC7B,CAAC,AACD,KAAK,8BAAC,CAAC,AACL,OAAO,CAAE,IAAI,CAAC,CAAC,CACf,OAAO,CAAE,EAAE,CACX,QAAQ,CAAE,QAAQ,AACpB,CAAC,AAED,YAAY,8BAAC,CAAC,AACZ,UAAU,CAAE,KAAK,CACjB,OAAO,CAAE,GAAG,AACd,CAAC,AAED,oBAAK,CAAC,CAAC,eAAC,CAAC,AACP,KAAK,CAAE,KAAK,AACd,CAAC,AACD,oBAAK,CAAC,gBAAC,QAAQ,AAAC,CAAC,AACf,KAAK,CAAE,WAAW,AACpB,CAAC,AACD,oBAAK,CAAC,KAAK,eAAC,CAAC,AACX,kBAAkB,CAAE,IAAI,CACxB,eAAe,CAAE,IAAI,CACrB,UAAU,CAAE,IAAI,CAChB,OAAO,CAAE,CAAC,CACV,MAAM,CAAE,GAAG,CAAC,KAAK,CAAC,KAAK,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAC1C,gBAAgB,CAAE,KAAK,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAC1C,KAAK,CAAE,sBAAsB,CAAC,UAAU,CACxC,aAAa,CAAE,GAAG,CAClB,OAAO,CAAE,IAAI,CAAC,IAAI,CAClB,MAAM,CAAE,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CACxB,OAAO,CAAE,KAAK,CACd,UAAU,CAAE,MAAM,CAClB,SAAS,CAAE,GAAG,CAAC,UAAU,CACzB,KAAK,CAAE,KAAK,CACZ,2BAA2B,CAAE,KAAK,CAClC,mBAAmB,CAAE,KAAK,CAC1B,WAAW,CAAE,GAAG,CAAC,UAAU,AAC7B,CAAC,AACD,oBAAK,CAAC,oBAAK,MAAM,AAAC,CAAC,AACjB,gBAAgB,CAAE,KAAK,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,AAC5C,CAAC,AACD,oBAAK,CAAC,oBAAK,MAAM,AAAC,CAAC,AACjB,gBAAgB,CAAE,KAAK,CACvB,KAAK,CAAE,KAAK,CACZ,KAAK,CAAE,OAAO,AAChB,CAAC,AAED,WAAW,8BAAC,CAAC,AACX,QAAQ,CAAE,QAAQ,CAClB,GAAG,CAAE,CAAC,CACN,IAAI,CAAE,CAAC,CACP,KAAK,CAAE,IAAI,CACX,MAAM,CAAE,IAAI,CACZ,OAAO,CAAE,CAAC,AACZ,CAAC,AACD,0BAAW,CAAC,EAAE,eAAC,CAAC,AACd,QAAQ,CAAE,QAAQ,CAClB,UAAU,CAAE,IAAI,CAChB,OAAO,CAAE,KAAK,CACd,KAAK,CAAE,IAAI,CACX,MAAM,CAAE,IAAI,CACZ,gBAAgB,CAAE,KAAK,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAC3C,MAAM,CAAE,MAAM,CACd,iBAAiB,CAAE,qBAAM,CAAC,GAAG,CAAC,QAAQ,CACtC,SAAS,CAAE,qBAAM,CAAC,GAAG,CAAC,QAAQ,CAC9B,kCAAkC,CAAE,MAAM,CAC1C,0BAA0B,CAAE,MAAM,AACpC,CAAC,AACD,0BAAW,CAAC,iBAAE,WAAW,CAAC,CAAC,AAAC,CAAC,AAC3B,IAAI,CAAE,GAAG,AACX,CAAC,AACD,0BAAW,CAAC,iBAAE,WAAW,CAAC,CAAC,AAAC,CAAC,AAC3B,IAAI,CAAE,GAAG,CACT,KAAK,CAAE,IAAI,CACX,MAAM,CAAE,IAAI,CACZ,uBAAuB,CAAE,EAAE,CAC3B,eAAe,CAAE,EAAE,CACnB,0BAA0B,CAAE,GAAG,CAC/B,kBAAkB,CAAE,GAAG,AACzB,CAAC,AACD,0BAAW,CAAC,iBAAE,WAAW,CAAC,CAAC,AAAC,CAAC,AAC3B,IAAI,CAAE,GAAG,CACT,uBAAuB,CAAE,EAAE,CAC3B,eAAe,CAAE,EAAE,AACrB,CAAC,AACD,0BAAW,CAAC,iBAAE,WAAW,CAAC,CAAC,AAAC,CAAC,AAC3B,IAAI,CAAE,GAAG,CACT,KAAK,CAAE,IAAI,CACX,MAAM,CAAE,IAAI,CACZ,0BAA0B,CAAE,GAAG,CAC/B,kBAAkB,CAAE,GAAG,CACvB,gBAAgB,CAAE,KAAK,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,AAC7C,CAAC,AACD,0BAAW,CAAC,iBAAE,WAAW,CAAC,CAAC,AAAC,CAAC,AAC3B,IAAI,CAAE,GAAG,AACX,CAAC,AACD,0BAAW,CAAC,iBAAE,WAAW,CAAC,CAAC,AAAC,CAAC,AAC3B,IAAI,CAAE,GAAG,CACT,KAAK,CAAE,KAAK,CACZ,MAAM,CAAE,KAAK,CACb,uBAAuB,CAAE,EAAE,CAC3B,eAAe,CAAE,EAAE,CACnB,gBAAgB,CAAE,KAAK,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,AAC5C,CAAC,AACD,0BAAW,CAAC,iBAAE,WAAW,CAAC,CAAC,AAAC,CAAC,AAC3B,IAAI,CAAE,GAAG,CACT,KAAK,CAAE,KAAK,CACZ,MAAM,CAAE,KAAK,CACb,uBAAuB,CAAE,EAAE,CAC3B,eAAe,CAAE,EAAE,AACrB,CAAC,AACD,0BAAW,CAAC,iBAAE,WAAW,CAAC,CAAC,AAAC,CAAC,AAC3B,IAAI,CAAE,GAAG,CACT,KAAK,CAAE,IAAI,CACX,MAAM,CAAE,IAAI,CACZ,uBAAuB,CAAE,GAAG,CAC5B,eAAe,CAAE,GAAG,CACpB,0BAA0B,CAAE,GAAG,CAC/B,kBAAkB,CAAE,GAAG,AACzB,CAAC,AACD,0BAAW,CAAC,iBAAE,WAAW,CAAC,CAAC,AAAC,CAAC,AAC3B,IAAI,CAAE,GAAG,CACT,KAAK,CAAE,IAAI,CACX,MAAM,CAAE,IAAI,CACZ,uBAAuB,CAAE,EAAE,CAC3B,eAAe,CAAE,EAAE,CACnB,0BAA0B,CAAE,GAAG,CAC/B,kBAAkB,CAAE,GAAG,CACvB,gBAAgB,CAAE,KAAK,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,AAC5C,CAAC,AACD,0BAAW,CAAC,iBAAE,WAAW,EAAE,CAAC,AAAC,CAAC,AAC5B,IAAI,CAAE,GAAG,CACT,KAAK,CAAE,KAAK,CACZ,MAAM,CAAE,KAAK,CACb,uBAAuB,CAAE,GAAG,CAC5B,eAAe,CAAE,GAAG,AACtB,CAAC,AACD,mBAAmB,qBAAO,CAAC,AACzB,EAAE,AAAC,CAAC,AACF,iBAAiB,CAAE,WAAW,CAAC,CAAC,CAChC,SAAS,CAAE,WAAW,CAAC,CAAC,AAC1B,CAAC,AACD,IAAI,AAAC,CAAC,AACJ,iBAAiB,CAAE,WAAW,MAAM,CAAC,CAAC,OAAO,MAAM,CAAC,CACpD,SAAS,CAAE,WAAW,MAAM,CAAC,CAAC,OAAO,MAAM,CAAC,AAC9C,CAAC,AACH,CAAC,AACD,WAAW,qBAAO,CAAC,AACjB,EAAE,AAAC,CAAC,AACF,iBAAiB,CAAE,WAAW,CAAC,CAAC,CAChC,SAAS,CAAE,WAAW,CAAC,CAAC,AAC1B,CAAC,AACD,IAAI,AAAC,CAAC,AACJ,iBAAiB,CAAE,WAAW,MAAM,CAAC,CAAC,OAAO,MAAM,CAAC,CACpD,SAAS,CAAE,WAAW,MAAM,CAAC,CAAC,OAAO,MAAM,CAAC,AAC9C,CAAC,AACH,CAAC"}'};var j=$((e,t,n,a)=>{let s;return g(()=>{s=new O,function(){for(var e=document.cookie.split("; "),t=0;t<e.length;t++)for(var n=window.location.hostname.split(".");n.length>0;){var a=encodeURIComponent(e[t].split(";")[0].split("=")[0])+"=; expires=Thu, 01-Jan-1970 00:00:01 GMT; domain="+n.join(".")+" ;path=",s=location.pathname.split("/");for(document.cookie=a+"/";s.length>0;)document.cookie=a+s.join("/"),s.pop();n.shift()}}()}),e.css.add(M),`<div class="root svelte-1a2fiz0"><div class="body svelte-1a2fiz0"><div class="wrapper svelte-1a2fiz0"><div class="container svelte-1a2fiz0"><h1 class="svelte-1a2fiz0">Login</h1>\n        <form class="form svelte-1a2fiz0" action="/signin" method="post"><input name="user" type="text" placeholder="Usuario" required="required" class="svelte-1a2fiz0"${B("value","",1)}>\n          <input name="pwd" type="password" placeholder="Contrase√±a" required="required" class="svelte-1a2fiz0"${B("value","",1)}>\n          <input type="submit" name="submit" value="Aceptar" class="svelte-1a2fiz0">\n          <div class="links_block svelte-1a2fiz0"><a href="register" class="svelte-1a2fiz0">Registro</a></div></form></div></div></div>\n  <ul class="bg_bubbles svelte-1a2fiz0"><li class="svelte-1a2fiz0"></li>\n    <li class="svelte-1a2fiz0"></li>\n    <li class="svelte-1a2fiz0"></li>\n    <li class="svelte-1a2fiz0"></li>\n    <li class="svelte-1a2fiz0"></li>\n    <li class="svelte-1a2fiz0"></li>\n    <li class="svelte-1a2fiz0"></li>\n    <li class="svelte-1a2fiz0"></li>\n    <li class="svelte-1a2fiz0"></li>\n    <li class="svelte-1a2fiz0"></li></ul>\n</div>`});const D=[];function z(e,t=c){let n;const a=[];function s(t){if(o=t,((s=e)!=s?o==o:s!==o||s&&"object"==typeof s||"function"==typeof s)&&(e=t,n)){const t=!D.length;for(let t=0;t<a.length;t+=1){const n=a[t];n[1](),D.push(n,e)}if(t){for(let e=0;e<D.length;e+=2)D[e][0](D[e+1]);D.length=0}}var s,o}return{set:s,update:function(t){s(t(e))},subscribe:function(o,i=c){const r=[o,i];return a.push(r),1===a.length&&(n=t(s)||c),o(e),()=>{const e=a.indexOf(r);-1!==e&&a.splice(e,1),0===a.length&&(n(),n=null)}}}}const P=z({});var N=$((e,t,n,a)=>{let s,o;o=m(P,e=>s=e);let i=!1,r=!1;return g(async()=>{console.dir(P),i=window.navigator.onLine,window.addEventListener("offline",e=>{i=!1}),window.addEventListener("online",e=>{i=!0})}),o(),`<nav class="navbar is-fixed-top" role="navigation" aria-label="main navigation"><div class="navbar-brand"><a class="navbar-item" href="/home"><span class="icon"><img src="logo.png" width="20" height="20" alt="TIENDA ONLINE"></span>\n  \n        <strong>TIENDA ONLINE</strong></a>\n      <span class="navbar-item"><span class="${["icon",(i?"has-text-success":"")+" "+(i?"":"has-text-danger")].join(" ").trim()}"><i class="fas fa-wifi"></i></span></span>\n  \n      \n      <a role="button" class="${["navbar-burger burger",r?"is-active":""].join(" ").trim()}" aria-label="menu" aria-expanded="false" data-target="navbarBasicExample"><span aria-hidden="true"></span>\n        <span aria-hidden="true"></span>\n        <span aria-hidden="true"></span></a></div>\n  \n    <div class="${["navbar-menu",r?"is-active":""].join(" ").trim()}"><div class="navbar-start"><a href="/pgAPI" class="navbar-item">pgAPI</a>\n  \n        \n        <a href="/pgapi/test" class="navbar-item">Test Session</a></div>\n  \n      <div class="navbar-end"><div class="navbar-item"><div class="buttons">\n            <a class="button is-light">${x(s.user.fullname)}</a></div></div>\n        <div class="navbar-item"><div class="buttons"><a class="button is-light" href="/logout">Logout </a></div></div></div></div></nav>`});var R=$((e,t,n,a)=>(g(async()=>{}),""+k(N,"Menu").$$render(e,{},{},{}))),K=(n(7),n(17)),U=n.n(K);var G=$((e,t,n,a)=>{let{value:s}=t;return void 0===t.value&&n.value&&void 0!==s&&n.value(s),""+(s?'<td class="has-text-centered"><div class="icon-text"><span class="icon has-text-success"><i class="fas fa-check"></i></span></div></td>':'<td class="has-text-centered"><div class="icon-text"><span class="icon has-text-danger"><i class="fas fa-times"></i></span></div></td>')});const q={code:".table.svelte-2kuugz{width:100%}.separator.svelte-2kuugz{margin:.5rem}",map:'{"version":3,"file":"CellIdEventType_100_101.svelte","sources":["CellIdEventType_100_101.svelte"],"sourcesContent":["<script>\\n  export let value;\\n  let Total = -1;\\n\\n  function CalculaTotal() {\\n    Total = 0;\\n    if (value && value.length > 0) {\\n      value.forEach((element) => {\\n        Total = Total + element.cantidad;\\n      });\\n    }\\n  }\\n\\n  $: value, CalculaTotal();\\n<\/script>\\n\\n{#if value && value.length > 0}\\n  <details>\\n    <summary><b>{Total}</b> documentos faltantes</summary>\\n    <hr class=\\"separator\\">\\n    <table class=\\"table\\">\\n      <tr>\\n        <th class=\\"has-text-info-dark\\">Fecha</th>\\n        <th class=\\"has-text-info-dark\\">Cantidad</th>\\n      </tr>\\n      {#each value as { fecha, cantidad }, i}\\n        <tr>\\n          <td>{fecha}</td>\\n          <td>{cantidad}</td>\\n        </tr>\\n      {/each}\\n    </table>\\n  </details>\\n{:else}\\n  <div>Sin novedades</div>\\n{/if}\\n\\n<style>\\n  .table {\\n    width: 100%;\\n  }\\n  .separator{\\n    margin: .5rem;\\n  }\\n</style>\\n"],"names":[],"mappings":"AAsCE,MAAM,cAAC,CAAC,AACN,KAAK,CAAE,IAAI,AACb,CAAC,AACD,wBAAU,CAAC,AACT,MAAM,CAAE,KAAK,AACf,CAAC"}'};var F=$((e,t,n,a)=>{let{value:s}=t,o=-1;return void 0===t.value&&n.value&&void 0!==s&&n.value(s),e.css.add(q),o=0,s&&s.length>0&&s.forEach(e=>{o+=e.cantidad}),""+(s&&s.length>0?`<details><summary><b>${x(o)}</b> documentos faltantes</summary>\n    <hr class="separator svelte-2kuugz">\n    <table class="table svelte-2kuugz"><tr><th class="has-text-info-dark">Fecha</th>\n        <th class="has-text-info-dark">Cantidad</th></tr>\n      ${_(s,({fecha:e,cantidad:t},n)=>`<tr><td>${x(e)}</td>\n          <td>${x(t)}</td>\n        </tr>`)}</table></details>`:"<div>Sin novedades</div>")});var L=$((e,t,n,a)=>{let{value:s}=t;return void 0===t.value&&n.value&&void 0!==s&&n.value(s),"<b>Pendientes:</b> "+x(s[0].cantidad)});const W={code:".table.svelte-8ec3rj{width:100%}.separator.svelte-8ec3rj{margin:0.5rem}",map:'{"version":3,"file":"CellIdEventType_104_105.svelte","sources":["CellIdEventType_104_105.svelte"],"sourcesContent":["<script>\\n  export let value;\\n  let Total = -1;\\n\\n  function CalculaTotal() {\\n    Total = 0;\\n    if (value && value.length > 0) {\\n      value.forEach((element) => {\\n        Total = Total + element.cantidad;\\n      });\\n    }\\n  }\\n\\n  $: value, CalculaTotal();\\n<\/script>\\n\\n{#if value && value.length > 0}\\n  <details>\\n    <summary>\\n      <b>{Total}</b> pendientes</summary\\n    >\\n    <hr class=\\"separator\\" />\\n\\n    <table class=\\"table\\">\\n      <tr>\\n        <th class=\\"has-text-info-dark\\">Fecha</th>\\n        <th class=\\"has-text-info-dark\\">Cantidad</th>\\n      </tr>\\n      {#each value as { fecha, cantidad }, i}\\n        <tr>\\n          <td>{fecha}</td>\\n          <td>{cantidad}</td>\\n        </tr>\\n      {/each}\\n    </table>\\n  </details>\\n{:else}\\n  <div>Sin novedades</div>\\n{/if}\\n\\n<style>\\n  .table {\\n    width: 100%;\\n  }\\n\\n  .separator {\\n    margin: 0.5rem;\\n  }\\n</style>\\n"],"names":[],"mappings":"AAyCE,MAAM,cAAC,CAAC,AACN,KAAK,CAAE,IAAI,AACb,CAAC,AAED,UAAU,cAAC,CAAC,AACV,MAAM,CAAE,MAAM,AAChB,CAAC"}'};var H=$((e,t,n,a)=>{let{value:s}=t,o=-1;return void 0===t.value&&n.value&&void 0!==s&&n.value(s),e.css.add(W),o=0,s&&s.length>0&&s.forEach(e=>{o+=e.cantidad}),""+(s&&s.length>0?`<details><summary><b>${x(o)}</b> pendientes</summary>\n    <hr class="separator svelte-8ec3rj">\n\n    <table class="table svelte-8ec3rj"><tr><th class="has-text-info-dark">Fecha</th>\n        <th class="has-text-info-dark">Cantidad</th></tr>\n      ${_(s,({fecha:e,cantidad:t},n)=>`<tr><td>${x(e)}</td>\n          <td>${x(t)}</td>\n        </tr>`)}</table></details>`:"<div>Sin novedades</div>")});const V={code:".table.svelte-k5wv9l{width:100%}.separator.svelte-k5wv9l{margin:0.5rem}",map:'{"version":3,"file":"CellIdEventType_106_107.svelte","sources":["CellIdEventType_106_107.svelte"],"sourcesContent":["<script>\\n  export let value;\\n  let Total = -1;\\n\\nfunction CalculaTotal() {\\n  Total = 0;\\n  if (value && value.length > 0) {\\n    value.forEach((element) => {\\n      Total = Total + element.cantidad;\\n    });\\n  }\\n}\\n\\n$: value, CalculaTotal();\\n\\n<\/script>\\n\\n{#if value && value.length > 0}\\n<details>\\n  <summary><b>{Total}</b> novedades</summary>\\n  <hr class=\\"separator\\">\\n\\n  <table class=\\"table\\">\\n    <tr>\\n      <th class=\\"has-text-info-dark\\">Fecha</th>\\n      <th class=\\"has-text-info-dark\\">Cantidad</th>\\n    </tr>\\n    {#each value as { fecha, cantidad }, i}\\n      <tr>\\n        <td>{fecha}</td>\\n        <td>{cantidad}</td>\\n      </tr>\\n    {/each}\\n  </table>\\n</details>\\n{:else}\\n  <div>Sin novedades</div>\\n{/if}\\n\\n<style>\\n  .table {\\n    width: 100%;\\n  }\\n  .separator {\\n    margin: 0.5rem;\\n  }\\n</style>\\n"],"names":[],"mappings":"AAwCE,MAAM,cAAC,CAAC,AACN,KAAK,CAAE,IAAI,AACb,CAAC,AACD,UAAU,cAAC,CAAC,AACV,MAAM,CAAE,MAAM,AAChB,CAAC"}'};var Y=$((e,t,n,a)=>{let{value:s}=t,o=-1;return void 0===t.value&&n.value&&void 0!==s&&n.value(s),e.css.add(V),o=0,s&&s.length>0&&s.forEach(e=>{o+=e.cantidad}),""+(s&&s.length>0?`<details><summary><b>${x(o)}</b> novedades</summary>\n  <hr class="separator svelte-k5wv9l">\n\n  <table class="table svelte-k5wv9l"><tr><th class="has-text-info-dark">Fecha</th>\n      <th class="has-text-info-dark">Cantidad</th></tr>\n    ${_(s,({fecha:e,cantidad:t},n)=>`<tr><td>${x(e)}</td>\n        <td>${x(t)}</td>\n      </tr>`)}</table></details>`:"<div>Sin novedades</div>")});const J={code:".table.svelte-k5wv9l{width:100%}.separator.svelte-k5wv9l{margin:0.5rem}",map:'{"version":3,"file":"CellIdEventType_108_109.svelte","sources":["CellIdEventType_108_109.svelte"],"sourcesContent":["<script>\\n  export let value;\\n  let Total = -1;\\n\\n  function CalculaTotal() {\\n    Total = 0;\\n    if (value && value.length > 0) {\\n      value.forEach((element) => {\\n        Total = Total + element.cantidad;\\n      });\\n    }\\n  }\\n\\n  $: value, CalculaTotal();\\n<\/script>\\n\\n{#if value && value.length > 0}\\n  <details>\\n    <summary><b>{Total}</b> pendientes</summary>\\n    <hr class=\\"separator\\" />\\n\\n    <table class=\\"table\\">\\n      <tr>\\n        <th class=\\"has-text-info-dark\\">Fecha</th>\\n        <th class=\\"has-text-info-dark\\">Cantidad</th>\\n      </tr>\\n      {#each value as { fecha, cantidad }, i}\\n        <tr>\\n          <td>{fecha}</td>\\n          <td>{cantidad}</td>\\n        </tr>\\n      {/each}\\n    </table>\\n  </details>\\n{:else}\\n  <div>Sin novedades</div>\\n{/if}\\n\\n<style>\\n  .table {\\n    width: 100%;\\n  }\\n  .separator {\\n    margin: 0.5rem;\\n  }\\n</style>\\n"],"names":[],"mappings":"AAuCE,MAAM,cAAC,CAAC,AACN,KAAK,CAAE,IAAI,AACb,CAAC,AACD,UAAU,cAAC,CAAC,AACV,MAAM,CAAE,MAAM,AAChB,CAAC"}'};var X=$((e,t,n,a)=>{let{value:s}=t,o=-1;return void 0===t.value&&n.value&&void 0!==s&&n.value(s),e.css.add(J),o=0,s&&s.length>0&&s.forEach(e=>{o+=e.cantidad}),""+(s&&s.length>0?`<details><summary><b>${x(o)}</b> pendientes</summary>\n    <hr class="separator svelte-k5wv9l">\n\n    <table class="table svelte-k5wv9l"><tr><th class="has-text-info-dark">Fecha</th>\n        <th class="has-text-info-dark">Cantidad</th></tr>\n      ${_(s,({fecha:e,cantidad:t},n)=>`<tr><td>${x(e)}</td>\n          <td>${x(t)}</td>\n        </tr>`)}</table></details>`:"<div>Sin novedades</div>")});const Q={code:".table.svelte-k5wv9l{width:100%}.separator.svelte-k5wv9l{margin:0.5rem}",map:'{"version":3,"file":"CellIdEventType_110_111.svelte","sources":["CellIdEventType_110_111.svelte"],"sourcesContent":["<script>\\n  export let value;\\n\\n  let Total = -1;\\n\\n  function CalculaTotal() {\\n    Total = 0;\\n    if (value && value.length > 0) {\\n      value.forEach((element) => {\\n        Total = Total + element.cantidad;\\n      });\\n    }\\n  }\\n\\n  $: value, CalculaTotal();\\n<\/script>\\n\\n{#if value && value.length > 0}\\n  <details>\\n    <summary><b>{Total}</b> para volver a ejecutar</summary>\\n    <hr class=\\"separator\\" />\\n\\n    <table class=\\"table\\">\\n      <tr>\\n        <th class=\\"has-text-info-dark\\">Fecha</th>\\n        <th class=\\"has-text-info-dark\\">Cantidad</th>\\n      </tr>\\n      {#each value as { fecha, cantidad }, i}\\n        <tr>\\n          <td>{fecha}</td>\\n          <td>{cantidad}</td>\\n        </tr>\\n      {/each}\\n    </table>\\n  </details>\\n{:else}\\n  <div>Sin novedades</div>\\n{/if}\\n\\n<style>\\n  .table {\\n    width: 100%;\\n  }\\n  .separator {\\n    margin: 0.5rem;\\n  }\\n</style>\\n"],"names":[],"mappings":"AAwCE,MAAM,cAAC,CAAC,AACN,KAAK,CAAE,IAAI,AACb,CAAC,AACD,UAAU,cAAC,CAAC,AACV,MAAM,CAAE,MAAM,AAChB,CAAC"}'};var Z=$((e,t,n,a)=>{let{value:s}=t,o=-1;return void 0===t.value&&n.value&&void 0!==s&&n.value(s),e.css.add(Q),o=0,s&&s.length>0&&s.forEach(e=>{o+=e.cantidad}),""+(s&&s.length>0?`<details><summary><b>${x(o)}</b> para volver a ejecutar</summary>\n    <hr class="separator svelte-k5wv9l">\n\n    <table class="table svelte-k5wv9l"><tr><th class="has-text-info-dark">Fecha</th>\n        <th class="has-text-info-dark">Cantidad</th></tr>\n      ${_(s,({fecha:e,cantidad:t},n)=>`<tr><td>${x(e)}</td>\n          <td>${x(t)}</td>\n        </tr>`)}</table></details>`:"<div>Sin novedades</div>")});var ee=$((e,t,n,a)=>{let{value:s}=t;return void 0===t.value&&n.value&&void 0!==s&&n.value(s),""+(s&&s.time?`<span class="icon  has-text-success  fa-lg"><i class="fas fa-clock"></i></span>\n  <span>${x(s.time)} ms</span>`:'<span class="icon  has-text-danger  fa-lg"><i class="fas fa-unlink"></i></span>\n  <span>Sin respuesta</span>')});const te={code:".table.svelte-k5wv9l{width:100%}.separator.svelte-k5wv9l{margin:0.5rem}",map:'{"version":3,"file":"CellIdEventType_114_115.svelte","sources":["CellIdEventType_114_115.svelte"],"sourcesContent":["<script>\\n  export let value;\\n  let Total = -1;\\n\\n  function CalculaTotal() {\\n    Total = 0;\\n    if (value && value.length > 0) {\\n      value.forEach((element) => {\\n        Total = Total + element.pendientes;\\n      });\\n    }\\n  }\\n\\n  $: value, CalculaTotal();\\n<\/script>\\n\\n{#if value && value.length > 0}\\n  <details>\\n    <summary><b>{Total}</b> por enviar</summary>\\n    <hr class=\\"separator\\" />\\n\\n    <table class=\\"table\\">\\n      <tr>\\n        <th class=\\"has-text-info-dark\\">Fecha</th>\\n        <th class=\\"has-text-info-dark\\">Cantidad</th>\\n      </tr>\\n      {#each value as { fecha, pendientes }, i}\\n        <tr>\\n          <td>{fecha}</td>\\n          <td>{pendientes}</td>\\n        </tr>\\n      {/each}\\n    </table>\\n  </details>\\n{:else}\\n  <div>Sin novedades</div>\\n{/if}\\n\\n<style>\\n  .table {\\n    width: 100%;\\n  }\\n  .separator {\\n    margin: 0.5rem;\\n  }\\n</style>\\n"],"names":[],"mappings":"AAuCE,MAAM,cAAC,CAAC,AACN,KAAK,CAAE,IAAI,AACb,CAAC,AACD,UAAU,cAAC,CAAC,AACV,MAAM,CAAE,MAAM,AAChB,CAAC"}'};var ne=$((e,t,n,a)=>{let{value:s}=t,o=-1;return void 0===t.value&&n.value&&void 0!==s&&n.value(s),e.css.add(te),o=0,s&&s.length>0&&s.forEach(e=>{o+=e.pendientes}),""+(s&&s.length>0?`<details><summary><b>${x(o)}</b> por enviar</summary>\n    <hr class="separator svelte-k5wv9l">\n\n    <table class="table svelte-k5wv9l"><tr><th class="has-text-info-dark">Fecha</th>\n        <th class="has-text-info-dark">Cantidad</th></tr>\n      ${_(s,({fecha:e,pendientes:t},n)=>`<tr><td>${x(e)}</td>\n          <td>${x(t)}</td>\n        </tr>`)}</table></details>`:"<div>Sin novedades</div>")});const ae={code:".table.svelte-k5wv9l{width:100%}.separator.svelte-k5wv9l{margin:0.5rem}",map:'{"version":3,"file":"CellIdEventType_116_117.svelte","sources":["CellIdEventType_116_117.svelte"],"sourcesContent":["<script>\\n  export let value;\\n\\n  let Total = -1;\\n\\n  function CalculaTotal() {\\n    Total = 0;\\n    if (value && value.length > 0) {\\n      value.forEach((element) => {\\n        Total = Total + element.cantidad;\\n      });\\n    }\\n  }\\n\\n  $: value, CalculaTotal();\\n<\/script>\\n\\n{#if value && value.length > 0}\\n  <details>\\n    <summary><b>{Total}</b> por autorizar</summary>\\n    <hr class=\\"separator\\" />\\n\\n    <table class=\\"table\\">\\n      <tr>\\n        <th class=\\"has-text-info-dark\\">Fecha</th>\\n        <th class=\\"has-text-info-dark\\">Sucursal</th>\\n        <th class=\\"has-text-info-dark\\">Cantidad</th>\\n      </tr>\\n      {#each value as { fecha, cantidad, sucursal }, i}\\n        <tr>\\n          <td>{fecha}</td>\\n          <td>{sucursal}</td>\\n          <td>{cantidad}</td>\\n        </tr>\\n      {/each}\\n    </table>\\n  </details>\\n{:else}\\n  <div>Sin novedades</div>\\n{/if}\\n\\n<style>\\n  .table {\\n    width: 100%;\\n  }\\n  .separator {\\n    margin: 0.5rem;\\n  }\\n</style>\\n"],"names":[],"mappings":"AA0CE,MAAM,cAAC,CAAC,AACN,KAAK,CAAE,IAAI,AACb,CAAC,AACD,UAAU,cAAC,CAAC,AACV,MAAM,CAAE,MAAM,AAChB,CAAC"}'};var se=$((e,t,n,a)=>{let{value:s}=t,o=-1;return void 0===t.value&&n.value&&void 0!==s&&n.value(s),e.css.add(ae),o=0,s&&s.length>0&&s.forEach(e=>{o+=e.cantidad}),""+(s&&s.length>0?`<details><summary><b>${x(o)}</b> por autorizar</summary>\n    <hr class="separator svelte-k5wv9l">\n\n    <table class="table svelte-k5wv9l"><tr><th class="has-text-info-dark">Fecha</th>\n        <th class="has-text-info-dark">Sucursal</th>\n        <th class="has-text-info-dark">Cantidad</th></tr>\n      ${_(s,({fecha:e,cantidad:t,sucursal:n},a)=>`<tr><td>${x(e)}</td>\n          <td>${x(n)}</td>\n          <td>${x(t)}</td>\n        </tr>`)}</table></details>`:"<div>Sin novedades</div>")});const oe={code:".table.svelte-k5wv9l{width:100%}.separator.svelte-k5wv9l{margin:0.5rem}",map:'{"version":3,"file":"CellIdEventType_124_125.svelte","sources":["CellIdEventType_124_125.svelte"],"sourcesContent":["<script>\\n  export let value;\\n\\n  let Total = -1;\\n\\n  function CalculaTotal() {\\n    Total = 0;\\n    if (value && value.length > 0) {\\n      value.forEach((element) => {\\n        Total = Total + element.cantidad;\\n      });\\n    }\\n  }\\n\\n  $: value, CalculaTotal();\\n<\/script>\\n\\n{#if value && value.length > 0}\\n  <details>\\n    <summary><b>{Total}</b> recibir autorizar</summary>\\n    <hr class=\\"separator\\" />\\n\\n    <table class=\\"table\\">\\n      <tr>\\n        <th class=\\"has-text-info-dark\\">Fecha</th>\\n        <th class=\\"has-text-info-dark\\">Cantidad</th>\\n      </tr>\\n      {#each value as { fecha, cantidad }, i}\\n        <tr>\\n          <td>{fecha}</td>\\n          <td>{cantidad}</td>\\n        </tr>\\n      {/each}\\n    </table>\\n  </details>\\n{:else}\\n  <div>Sin novedades</div>\\n{/if}\\n\\n<style>\\n  .table {\\n    width: 100%;\\n  }\\n  .separator {\\n    margin: 0.5rem;\\n  }\\n</style>\\n"],"names":[],"mappings":"AAwCE,MAAM,cAAC,CAAC,AACN,KAAK,CAAE,IAAI,AACb,CAAC,AACD,UAAU,cAAC,CAAC,AACV,MAAM,CAAE,MAAM,AAChB,CAAC"}'};var ie=$((e,t,n,a)=>{let{value:s}=t,o=-1;return void 0===t.value&&n.value&&void 0!==s&&n.value(s),e.css.add(oe),o=0,s&&s.length>0&&s.forEach(e=>{o+=e.cantidad}),""+(s&&s.length>0?`<details><summary><b>${x(o)}</b> recibir autorizar</summary>\n    <hr class="separator svelte-k5wv9l">\n\n    <table class="table svelte-k5wv9l"><tr><th class="has-text-info-dark">Fecha</th>\n        <th class="has-text-info-dark">Cantidad</th></tr>\n      ${_(s,({fecha:e,cantidad:t},n)=>`<tr><td>${x(e)}</td>\n          <td>${x(t)}</td>\n        </tr>`)}</table></details>`:"<div>Sin novedades</div>")});const re={code:".table.svelte-k5wv9l{width:100%}.separator.svelte-k5wv9l{margin:0.5rem}",map:'{"version":3,"file":"CellIdEventType_126_127.svelte","sources":["CellIdEventType_126_127.svelte"],"sourcesContent":["<script>\\n  export let value;\\n\\n  let Total = -1;\\n\\n  function CalculaTotal() {\\n    Total = 0;\\n    if (value && value.length > 0) {\\n      value.forEach((element) => {\\n        Total = Total + element.cantidad;\\n      });\\n    }\\n  }\\n\\n  $: value, CalculaTotal();\\n<\/script>\\n\\n{#if value && value.length > 0}\\n  <details>\\n    <summary><b>{Total}</b> con novedades</summary>\\n    <hr class=\\"separator\\" />\\n\\n    <table class=\\"table\\">\\n      <tr>\\n        <th class=\\"has-text-info-dark\\">Fecha</th>\\n        <th class=\\"has-text-info-dark\\">Cantidad</th>\\n      </tr>\\n      {#each value as { fecha, cantidad }, i}\\n        <tr>\\n          <td>{fecha}</td>\\n          <td>{cantidad}</td>\\n        </tr>\\n      {/each}\\n    </table>\\n  </details>\\n{:else}\\n  <div>Sin novedades</div>\\n{/if}\\n\\n<style>\\n  .table {\\n    width: 100%;\\n  }\\n  .separator {\\n    margin: 0.5rem;\\n  }\\n</style>\\n"],"names":[],"mappings":"AAwCE,MAAM,cAAC,CAAC,AACN,KAAK,CAAE,IAAI,AACb,CAAC,AACD,UAAU,cAAC,CAAC,AACV,MAAM,CAAE,MAAM,AAChB,CAAC"}'};var le=$((e,t,n,a)=>{let{value:s}=t,o=-1;return void 0===t.value&&n.value&&void 0!==s&&n.value(s),e.css.add(re),o=0,s&&s.length>0&&s.forEach(e=>{o+=e.cantidad}),""+(s&&s.length>0?`<details><summary><b>${x(o)}</b> con novedades</summary>\n    <hr class="separator svelte-k5wv9l">\n\n    <table class="table svelte-k5wv9l"><tr><th class="has-text-info-dark">Fecha</th>\n        <th class="has-text-info-dark">Cantidad</th></tr>\n      ${_(s,({fecha:e,cantidad:t},n)=>`<tr><td>${x(e)}</td>\n          <td>${x(t)}</td>\n        </tr>`)}</table></details>`:"<div>Sin novedades</div>")});const ce={code:".table.svelte-k5wv9l{width:100%}.separator.svelte-k5wv9l{margin:0.5rem}",map:'{"version":3,"file":"CellIdEventType_128_129.svelte","sources":["CellIdEventType_128_129.svelte"],"sourcesContent":["<script>\\n  export let value;\\n\\n  let Total = -1;\\n\\n  function CalculaTotal() {\\n    Total = 0;\\n    if (value && value.length > 0) {\\n      value.forEach((element) => {\\n        Total = Total + element.cantidad;\\n      });\\n    }\\n  }\\n\\n  $: value, CalculaTotal();\\n<\/script>\\n\\n{#if value && value.length > 0}\\n  <details>\\n    <summary><b>{Total}</b> por enviar</summary>\\n    <hr class=\\"separator\\" />\\n\\n    <table class=\\"table\\">\\n      <tr>\\n        <th class=\\"has-text-info-dark\\">Fecha</th>\\n        <th class=\\"has-text-info-dark\\">Origen</th>\\n        <th class=\\"has-text-info-dark\\">Cantidad</th>\\n      </tr>\\n      {#each value as { fecha, cantidad, nombre }, i}\\n        <tr>\\n          <td>{fecha}</td>\\n          <td>{nombre}</td>\\n          <td>{cantidad}</td>\\n        </tr>\\n      {/each}\\n    </table>\\n  </details>\\n{:else}\\n  <div>Sin novedades</div>\\n{/if}\\n\\n<style>\\n  .table {\\n    width: 100%;\\n  }\\n  .separator {\\n    margin: 0.5rem;\\n  }\\n</style>\\n"],"names":[],"mappings":"AA0CE,MAAM,cAAC,CAAC,AACN,KAAK,CAAE,IAAI,AACb,CAAC,AACD,UAAU,cAAC,CAAC,AACV,MAAM,CAAE,MAAM,AAChB,CAAC"}'};var de=$((e,t,n,a)=>{let{value:s}=t,o=-1;return void 0===t.value&&n.value&&void 0!==s&&n.value(s),e.css.add(ce),o=0,s&&s.length>0&&s.forEach(e=>{o+=e.cantidad}),""+(s&&s.length>0?`<details><summary><b>${x(o)}</b> por enviar</summary>\n    <hr class="separator svelte-k5wv9l">\n\n    <table class="table svelte-k5wv9l"><tr><th class="has-text-info-dark">Fecha</th>\n        <th class="has-text-info-dark">Origen</th>\n        <th class="has-text-info-dark">Cantidad</th></tr>\n      ${_(s,({fecha:e,cantidad:t,nombre:n},a)=>`<tr><td>${x(e)}</td>\n          <td>${x(n)}</td>\n          <td>${x(t)}</td>\n        </tr>`)}</table></details>`:"<div>Sin novedades</div>")});const Ae={code:".table.svelte-k5wv9l{width:100%}.separator.svelte-k5wv9l{margin:0.5rem}",map:'{"version":3,"file":"CellIdEventType_130_131.svelte","sources":["CellIdEventType_130_131.svelte"],"sourcesContent":["<script>\\n  export let value;\\n\\n  let Total = -1;\\n\\n  function CalculaTotal() {\\n    Total = 0;\\n    if (value && value.length > 0) {\\n      value.forEach((element) => {\\n        Total = Total + element.cantidad;\\n      });\\n    }\\n  }\\n\\n  $: value, CalculaTotal();\\n<\/script>\\n\\n{#if value && value.length > 0}\\n  <details>\\n    <summary><b>{Total}</b> por autorizar</summary>\\n    <hr class=\\"separator\\" />\\n\\n    <table class=\\"table\\">\\n      <tr>\\n        <th class=\\"has-text-info-dark\\">Fecha</th>\\n        <th class=\\"has-text-info-dark\\">Origen</th>\\n        <th class=\\"has-text-info-dark\\">Cantidad</th>\\n      </tr>\\n      {#each value as { fecha, cantidad, nombre }, i}\\n        <tr>\\n          <td>{fecha}</td>\\n          <td>{nombre}</td>\\n          <td>{cantidad}</td>\\n        </tr>\\n      {/each}\\n    </table>\\n  </details>\\n{:else}\\n  <div>Sin novedades</div>\\n{/if}\\n\\n<style>\\n  .table {\\n    width: 100%;\\n  }\\n  .separator {\\n    margin: 0.5rem;\\n  }\\n</style>\\n"],"names":[],"mappings":"AA0CE,MAAM,cAAC,CAAC,AACN,KAAK,CAAE,IAAI,AACb,CAAC,AACD,UAAU,cAAC,CAAC,AACV,MAAM,CAAE,MAAM,AAChB,CAAC"}'};var ue=$((e,t,n,a)=>{let{value:s}=t,o=-1;return void 0===t.value&&n.value&&void 0!==s&&n.value(s),e.css.add(Ae),o=0,s&&s.length>0&&s.forEach(e=>{o+=e.cantidad}),""+(s&&s.length>0?`<details><summary><b>${x(o)}</b> por autorizar</summary>\n    <hr class="separator svelte-k5wv9l">\n\n    <table class="table svelte-k5wv9l"><tr><th class="has-text-info-dark">Fecha</th>\n        <th class="has-text-info-dark">Origen</th>\n        <th class="has-text-info-dark">Cantidad</th></tr>\n      ${_(s,({fecha:e,cantidad:t,nombre:n},a)=>`<tr><td>${x(e)}</td>\n          <td>${x(n)}</td>\n          <td>${x(t)}</td>\n        </tr>`)}</table></details>`:"<div>Sin novedades</div>")});const pe={code:".table.svelte-k5wv9l{width:100%}.separator.svelte-k5wv9l{margin:0.5rem}",map:'{"version":3,"file":"CellIdEventType_132_133.svelte","sources":["CellIdEventType_132_133.svelte"],"sourcesContent":["<script>\\n  export let value;\\n\\n  let Total = -1;\\n\\n  function CalculaTotal() {\\n    Total = 0;\\n    if (value && value.length > 0) {\\n      value.forEach((element) => {\\n        Total = Total + element.Documentos;\\n      });\\n    }\\n  }\\n\\n  $: value, CalculaTotal();\\n<\/script>\\n\\n{#if value && value.length > 0}\\n  <details>\\n    <summary><b>{Total}</b> documentos</summary>\\n    <hr class=\\"separator\\" />\\n\\n    <table class=\\"table\\">\\n      <tr>\\n        <th class=\\"has-text-info-dark\\">Fecha</th>\\n        <th class=\\"has-text-info-dark\\">Documentos</th>\\n        <th class=\\"has-text-info-dark\\">Tipo_Documento</th>\\n      </tr>\\n      {#each value as { Fecha, Documentos, Tipo_Documento }, i}\\n        <tr>\\n          <td>{Fecha}</td>\\n          <td>{Documentos}</td>\\n          <td>{Tipo_Documento}</td>\\n        </tr>\\n      {/each}\\n    </table>\\n  </details>\\n{:else}\\n  <div>Sin novedades</div>\\n{/if}\\n\\n<style>\\n  .table {\\n    width: 100%;\\n  }\\n  .separator {\\n    margin: 0.5rem;\\n  }\\n</style>\\n"],"names":[],"mappings":"AA0CE,MAAM,cAAC,CAAC,AACN,KAAK,CAAE,IAAI,AACb,CAAC,AACD,UAAU,cAAC,CAAC,AACV,MAAM,CAAE,MAAM,AAChB,CAAC"}'};var he=$((e,t,n,a)=>{let{value:s}=t,o=-1;return void 0===t.value&&n.value&&void 0!==s&&n.value(s),e.css.add(pe),o=0,s&&s.length>0&&s.forEach(e=>{o+=e.Documentos}),""+(s&&s.length>0?`<details><summary><b>${x(o)}</b> documentos</summary>\n    <hr class="separator svelte-k5wv9l">\n\n    <table class="table svelte-k5wv9l"><tr><th class="has-text-info-dark">Fecha</th>\n        <th class="has-text-info-dark">Documentos</th>\n        <th class="has-text-info-dark">Tipo_Documento</th></tr>\n      ${_(s,({Fecha:e,Documentos:t,Tipo_Documento:n},a)=>`<tr><td>${x(e)}</td>\n          <td>${x(t)}</td>\n          <td>${x(n)}</td>\n        </tr>`)}</table></details>`:"<div>Sin novedades</div>")});const me={code:".table.svelte-k5wv9l{width:100%}.separator.svelte-k5wv9l{margin:0.5rem}",map:'{"version":3,"file":"CellIdEventType_134_135.svelte","sources":["CellIdEventType_134_135.svelte"],"sourcesContent":["<script>\\n  export let value;\\n\\n  let mensaje = \\"\\";\\n\\n  $: value, CambiaMensaje();\\n\\n  function CambiaMensaje() {\\n    mensaje = \\"Sin Novedades\\";\\n    value.every((data) => {\\n      if (data.estado === \\"Revisar\\") {\\n        mensaje = \\"URGENTE REVISAR!\\";\\n        return true;\\n      } else {\\n        return false;\\n      }\\n    });\\n  }\\n<\/script>\\n\\n{#if value && value.length > 0}\\n  <details>\\n    <summary><b>{mensaje}</b></summary>\\n    <hr class=\\"separator\\" />\\n\\n    <table class=\\"table\\">\\n      <tr>\\n        <th class=\\"has-text-info-dark\\">Proceso</th>\\n        <th class=\\"has-text-info-dark\\">Fecha</th>\\n        <th class=\\"has-text-info-dark\\">Serie</th>\\n        <th class=\\"has-text-info-dark\\">Estado</th>\\n      </tr>\\n      {#each value as { concepto, serie, fecha, minutos, estado }, i}\\n        <tr>\\n          <td>{concepto}</td>\\n          <td>{fecha}</td>\\n          <td>{serie}</td>\\n          {#if estado === \\"Revisar\\"}\\n            <td><b>{estado}</b></td>\\n          {:else}\\n            <td>{estado}</td>\\n          {/if}\\n        </tr>\\n      {/each}\\n    </table>\\n  </details>\\n{:else}\\n  <div>No hay datos que mostrar, revise en ScheduledTask</div>\\n{/if}\\n\\n<style>\\n  .table {\\n    width: 100%;\\n  }\\n  .separator {\\n    margin: 0.5rem;\\n  }\\n</style>\\n"],"names":[],"mappings":"AAmDE,MAAM,cAAC,CAAC,AACN,KAAK,CAAE,IAAI,AACb,CAAC,AACD,UAAU,cAAC,CAAC,AACV,MAAM,CAAE,MAAM,AAChB,CAAC"}'};var fe=$((e,t,n,a)=>{let{value:s}=t,o="";return void 0===t.value&&n.value&&void 0!==s&&n.value(s),e.css.add(me),o="Sin Novedades",s.every(e=>"Revisar"===e.estado&&(o="URGENTE REVISAR!",!0)),""+(s&&s.length>0?`<details><summary><b>${x(o)}</b></summary>\n    <hr class="separator svelte-k5wv9l">\n\n    <table class="table svelte-k5wv9l"><tr><th class="has-text-info-dark">Proceso</th>\n        <th class="has-text-info-dark">Fecha</th>\n        <th class="has-text-info-dark">Serie</th>\n        <th class="has-text-info-dark">Estado</th></tr>\n      ${_(s,({concepto:e,serie:t,fecha:n,minutos:a,estado:s},o)=>`<tr><td>${x(e)}</td>\n          <td>${x(n)}</td>\n          <td>${x(t)}</td>\n          ${"Revisar"===s?`<td><b>${x(s)}</b></td>`:`<td>${x(s)}</td>`}\n        </tr>`)}</table></details>`:"<div>No hay datos que mostrar, revise en ScheduledTask</div>")});const Ce={code:".table.svelte-1dlqrdb{width:100%}.separator.svelte-1dlqrdb{margin:0.5rem}",map:'{"version":3,"file":"CellIdEventType_296_297.svelte","sources":["CellIdEventType_296_297.svelte"],"sourcesContent":["<script>\\n  export let value;\\n\\n<\/script>\\n\\n{#if value && value.length > 0}\\n<details>\\n  <summary><b>{value.length}</b> Novedades</summary>\\n  <hr class=\\"separator\\" />\\n\\n  <table class=\\"table\\">\\n    <tr>\\n      <th class=\\"has-text-info-dark\\">Num Transac</th>\\n      <th class=\\"has-text-info-dark\\">Id Cliente</th>\\n    </tr>\\n    {#each value as { cac_num_transcanc, cac_numero_idcliente }, i}\\n      <tr>\\n        <td>{cac_num_transcanc}</td>\\n        <td>{cac_numero_idcliente}</td>\\n      </tr>\\n    {/each}\\n  </table>\\n</details>\\n{:else}\\n  <div>Sin novedades</div>\\n{/if}\\n\\n<style>\\n  .table {\\n    width: 100%;\\n  }\\n  \\n  .separator {\\n    margin: 0.5rem;\\n  }\\n</style>\\n"],"names":[],"mappings":"AA4BE,MAAM,eAAC,CAAC,AACN,KAAK,CAAE,IAAI,AACb,CAAC,AAED,UAAU,eAAC,CAAC,AACV,MAAM,CAAE,MAAM,AAChB,CAAC"}'};var ve=$((e,t,n,a)=>{let{value:s}=t;return void 0===t.value&&n.value&&void 0!==s&&n.value(s),e.css.add(Ce),""+(s&&s.length>0?`<details><summary><b>${x(s.length)}</b> Novedades</summary>\n  <hr class="separator svelte-1dlqrdb">\n\n  <table class="table svelte-1dlqrdb"><tr><th class="has-text-info-dark">Num Transac</th>\n      <th class="has-text-info-dark">Id Cliente</th></tr>\n    ${_(s,({cac_num_transcanc:e,cac_numero_idcliente:t},n)=>`<tr><td>${x(e)}</td>\n        <td>${x(t)}</td>\n      </tr>`)}</table></details>`:"<div>Sin novedades</div>")});const be={code:".table.svelte-1dlqrdb{width:100%}.separator.svelte-1dlqrdb{margin:0.5rem}",map:'{"version":3,"file":"CellIdEventType_298_299.svelte","sources":["CellIdEventType_298_299.svelte"],"sourcesContent":["<script>\\n  export let value;\\n<\/script>\\n\\n{#if value && value.length > 0}\\n<details>\\n  <summary><b>{value.length}</b> colaboradores</summary>\\n  <hr class=\\"separator\\" />\\n\\n  <table class=\\"table\\">\\n    <tr>\\n      <th class=\\"has-text-info-dark\\">numero_idcliente</th>\\n    </tr>\\n    {#each value as { numero_idcliente }, i}\\n      <tr>\\n        <td>{numero_idcliente}</td>\\n      </tr>\\n    {/each} \\n  </table>\\n</details>\\n{:else}\\n  <div>Sin novedades</div>\\n{/if}\\n\\n<style>\\n  .table {\\n    width: 100%;\\n  }\\n  \\n  .separator {\\n    margin: 0.5rem;\\n  }\\n</style>\\n"],"names":[],"mappings":"AAyBE,MAAM,eAAC,CAAC,AACN,KAAK,CAAE,IAAI,AACb,CAAC,AAED,UAAU,eAAC,CAAC,AACV,MAAM,CAAE,MAAM,AAChB,CAAC"}'};var ge=$((e,t,n,a)=>{let{value:s}=t;return void 0===t.value&&n.value&&void 0!==s&&n.value(s),e.css.add(be),""+(s&&s.length>0?`<details><summary><b>${x(s.length)}</b> colaboradores</summary>\n  <hr class="separator svelte-1dlqrdb">\n\n  <table class="table svelte-1dlqrdb"><tr><th class="has-text-info-dark">numero_idcliente</th></tr>\n    ${_(s,({numero_idcliente:e},t)=>`<tr><td>${x(e)}</td>\n      </tr>`)}</table></details>`:"<div>Sin novedades</div>")});const ye={code:".table.svelte-k5wv9l{width:100%}.separator.svelte-k5wv9l{margin:0.5rem}",map:'{"version":3,"file":"CellIdEventType_300_301.svelte","sources":["CellIdEventType_300_301.svelte"],"sourcesContent":["<script>\\n  export let value;\\n\\n  let Total = -1;\\n\\n  function CalculaTotal() {\\n    Total = 0;\\n    if (value && value.length > 0) {\\n      value.forEach((element) => {\\n        Total = Total + element.cantidad;\\n      });\\n    }\\n  }\\n\\n  $: value, CalculaTotal();\\n<\/script>\\n\\n{#if value && value.length > 0}\\n  <details>\\n    <summary>\\n      <b>{value.length}</b> Corporativos - <b>{Total}</b> Colaboradores</summary\\n    >\\n    <hr class=\\"separator\\" />\\n    <table class=\\"table\\">\\n      <tr>\\n        <th class=\\"has-text-info-dark\\">Corporativo</th>\\n        <th class=\\"has-text-info-dark\\">Cantidad</th>\\n      </tr>\\n      {#each value as { rco_numero_id_grupo, cantidad }, i}\\n        <tr>\\n          <td>{rco_numero_id_grupo}</td>\\n          <td>{cantidad}</td>\\n        </tr>\\n      {/each}\\n    </table>\\n  </details>\\n{:else}\\n  <div>Sin novedades</div>\\n{/if}\\n\\n<style>\\n  .table {\\n    width: 100%;\\n  }\\n  .separator {\\n    margin: 0.5rem;\\n  }\\n</style>\\n"],"names":[],"mappings":"AAyCE,MAAM,cAAC,CAAC,AACN,KAAK,CAAE,IAAI,AACb,CAAC,AACD,UAAU,cAAC,CAAC,AACV,MAAM,CAAE,MAAM,AAChB,CAAC"}'};var we=$((e,t,n,a)=>{let{value:s}=t,o=-1;return void 0===t.value&&n.value&&void 0!==s&&n.value(s),e.css.add(ye),o=0,s&&s.length>0&&s.forEach(e=>{o+=e.cantidad}),""+(s&&s.length>0?`<details><summary><b>${x(s.length)}</b> Corporativos - <b>${x(o)}</b> Colaboradores</summary>\n    <hr class="separator svelte-k5wv9l">\n    <table class="table svelte-k5wv9l"><tr><th class="has-text-info-dark">Corporativo</th>\n        <th class="has-text-info-dark">Cantidad</th></tr>\n      ${_(s,({rco_numero_id_grupo:e,cantidad:t},n)=>`<tr><td>${x(e)}</td>\n          <td>${x(t)}</td>\n        </tr>`)}</table></details>`:"<div>Sin novedades</div>")});const xe={code:".table.svelte-k5wv9l{width:100%}.separator.svelte-k5wv9l{margin:0.5rem}",map:'{"version":3,"file":"CellIdEventType_302_303.svelte","sources":["CellIdEventType_302_303.svelte"],"sourcesContent":["<script>\\n  export let value;\\n\\n  let Total = -1;\\n\\n  function CalculaTotal() {\\n    Total = value.length;\\n  }\\n\\n  $: value, CalculaTotal();\\n<\/script>\\n\\n{#if value && value.length > 0}\\n  <details>\\n    <summary>\\n      <b>{value.length}</b> Colaboradores sin Relaciones </summary\\n    >\\n    <hr class=\\"separator\\" />\\n    <table class=\\"table\\">\\n      <tr>\\n        <th class=\\"has-text-info-dark\\">Cod_sap</th>\\n        <th class=\\"has-text-info-dark\\">Tipo_Identificacion</th>\\n        <th class=\\"has-text-info-dark\\">Identificacion</th>\\n        <th class=\\"has-text-info-dark\\">Nombre</th>\\n      </tr>\\n      {#each value as { Cod_sap, Tipo_Identificacion, Identificacion, Nombre}, i}\\n        <tr>\\n          <td>{Cod_sap}</td>\\n          <td>{Tipo_Identificacion}</td>\\n          <td>{Identificacion}</td>\\n          <td>{Nombre}</td>\\n        </tr>\\n      {/each}\\n    </table>\\n  </details>\\n{:else}\\n  <div>Sin novedades</div>\\n{/if}\\n\\n<style>\\n  .table {\\n    width: 100%;\\n  }\\n  .separator {\\n    margin: 0.5rem;\\n  }\\n</style>\\n"],"names":[],"mappings":"AAwCE,MAAM,cAAC,CAAC,AACN,KAAK,CAAE,IAAI,AACb,CAAC,AACD,UAAU,cAAC,CAAC,AACV,MAAM,CAAE,MAAM,AAChB,CAAC"}'};var _e=$((e,t,n,a)=>{let{value:s}=t,o=-1;return void 0===t.value&&n.value&&void 0!==s&&n.value(s),e.css.add(xe),o=s.length,""+(s&&s.length>0?`<details><summary><b>${x(s.length)}</b> Colaboradores sin Relaciones </summary>\n    <hr class="separator svelte-k5wv9l">\n    <table class="table svelte-k5wv9l"><tr><th class="has-text-info-dark">Cod_sap</th>\n        <th class="has-text-info-dark">Tipo_Identificacion</th>\n        <th class="has-text-info-dark">Identificacion</th>\n        <th class="has-text-info-dark">Nombre</th></tr>\n      ${_(s,({Cod_sap:e,Tipo_Identificacion:t,Identificacion:n,Nombre:a},s)=>`<tr><td>${x(e)}</td>\n          <td>${x(t)}</td>\n          <td>${x(n)}</td>\n          <td>${x(a)}</td>\n        </tr>`)}</table></details>`:"<div>Sin novedades</div>")});const Ee={code:".table.svelte-k5wv9l{width:100%}.separator.svelte-k5wv9l{margin:0.5rem}",map:'{"version":3,"file":"CellIdEventType_313_314.svelte","sources":["CellIdEventType_313_314.svelte"],"sourcesContent":["<script>\\n  export let value;\\n\\n  let Total = -1;\\n\\n  function CalculaTotal() {\\n    Total = value.length;\\n  }\\n\\n  $: value, CalculaTotal();\\n<\/script>\\n\\n{#if value && value.length > 0}\\n  <details>\\n    <summary>\\n      <b>{value.length}</b> Corporativos</summary\\n    >\\n    <hr class=\\"separator\\" />\\n    <table class=\\"table\\">\\n      <tr>\\n        <th class=\\"has-text-info-dark\\">Cod_sap</th>\\n        <th class=\\"has-text-info-dark\\">Tipo_Identificacion</th>\\n        <th class=\\"has-text-info-dark\\">Identificacion</th>\\n        <th class=\\"has-text-info-dark\\">Nombre</th>\\n      </tr>\\n      {#each value as { Cod_sap, Tipo_Identificacion, Identificacion, Nombre }, i}\\n        <tr>\\n          <td>{Cod_sap}</td>\\n          <td>{Tipo_Identificacion}</td>\\n          <td>{Identificacion}</td>\\n          <td>{Nombre}</td>\\n        </tr>\\n      {/each}\\n    </table>\\n  </details>\\n{:else}\\n  <div>Sin novedades</div>\\n{/if}\\n\\n<style>\\n  .table {\\n    width: 100%;\\n  }\\n  .separator {\\n    margin: 0.5rem;\\n  }\\n</style>\\n"],"names":[],"mappings":"AAwCE,MAAM,cAAC,CAAC,AACN,KAAK,CAAE,IAAI,AACb,CAAC,AACD,UAAU,cAAC,CAAC,AACV,MAAM,CAAE,MAAM,AAChB,CAAC"}'};var ke=$((e,t,n,a)=>{let{value:s}=t,o=-1;return void 0===t.value&&n.value&&void 0!==s&&n.value(s),e.css.add(Ee),o=s.length,""+(s&&s.length>0?`<details><summary><b>${x(s.length)}</b> Corporativos</summary>\n    <hr class="separator svelte-k5wv9l">\n    <table class="table svelte-k5wv9l"><tr><th class="has-text-info-dark">Cod_sap</th>\n        <th class="has-text-info-dark">Tipo_Identificacion</th>\n        <th class="has-text-info-dark">Identificacion</th>\n        <th class="has-text-info-dark">Nombre</th></tr>\n      ${_(s,({Cod_sap:e,Tipo_Identificacion:t,Identificacion:n,Nombre:a},s)=>`<tr><td>${x(e)}</td>\n          <td>${x(t)}</td>\n          <td>${x(n)}</td>\n          <td>${x(a)}</td>\n        </tr>`)}</table></details>`:"<div>Sin novedades</div>")});var Se=$((e,t,n,a)=>{let{value:s}=t,{row:o={}}=t;return void 0===t.value&&n.value&&void 0!==s&&n.value(s),void 0===t.row&&n.row&&void 0!==o&&n.row(o),`<td class="has-text-centered">${100==o.ideventtype||101==o.ideventtype?""+k(F,"CellIdEventType_100_101").$$render(e,{value:s},{},{}):""+(102==o.ideventtype||103==o.ideventtype?""+k(L,"CellIdEventType_102_103").$$render(e,{value:s},{},{}):""+(104==o.ideventtype||105==o.ideventtype?""+k(H,"CellIdEventType_104_105").$$render(e,{value:s},{},{}):""+(106==o.ideventtype||107==o.ideventtype?""+k(Y,"CellIdEventType_106_107").$$render(e,{value:s},{},{}):""+(108==o.ideventtype||109==o.ideventtype?""+k(X,"CellIdEventType_108_109").$$render(e,{value:s},{},{}):""+(110==o.ideventtype||111==o.ideventtype?""+k(Z,"CellIdEventType_110_111").$$render(e,{value:s},{},{}):""+(112==o.ideventtype||113==o.ideventtype?""+k(ee,"CellIdEventType_112_113").$$render(e,{value:s},{},{}):""+(114==o.ideventtype||115==o.ideventtype?""+k(ne,"CellIdEventType_114_115").$$render(e,{value:s},{},{}):""+(116==o.ideventtype||117==o.ideventtype?""+k(se,"CellIdEventType_116_117").$$render(e,{value:s},{},{}):""+(124==o.ideventtype||125==o.ideventtype?""+k(ie,"CellIdEventType_124_125").$$render(e,{value:s},{},{}):""+(126==o.ideventtype||127==o.ideventtype?""+k(le,"CellIdEventType_126_127").$$render(e,{value:s},{},{}):""+(128==o.ideventtype||129==o.ideventtype?""+k(de,"CellIdEventType_128_129").$$render(e,{value:s},{},{}):""+(130==o.ideventtype||131==o.ideventtype?""+k(ue,"CellIdEventType_130_131").$$render(e,{value:s},{},{}):""+(132==o.ideventtype||133==o.ideventtype?""+k(he,"CellIdEventType_132_133").$$render(e,{value:s},{},{}):""+(134==o.ideventtype||135==o.ideventtype?""+k(fe,"CellIdEventType_134_135").$$render(e,{value:s},{},{}):""+(296==o.ideventtype||297==o.ideventtype?""+k(ve,"CellIdEventType_296_297").$$render(e,{value:s},{},{}):""+(298==o.ideventtype||299==o.ideventtype?""+k(ge,"CellIdEventType_298_299").$$render(e,{value:s},{},{}):""+(300==o.ideventtype||301==o.ideventtype?""+k(we,"CellIdEventType_300_301").$$render(e,{value:s},{},{}):""+(302==o.ideventtype||303==o.ideventtype?""+k(_e,"CellIdEventType_302_303").$$render(e,{value:s},{},{}):""+(313==o.ideventtype||314==o.ideventtype?""+k(ke,"CellIdEventType_313_314").$$render(e,{value:s},{},{}):""+x(JSON.stringify(s)))))))))))))))))))))}\n</td>`});var Te=$((e,t,n,a)=>{let{value:s}=t,{icon:o}=t;const i={1:{has_text:"has-text-danger",icon:"fas fa-angry fa-lg"},2:{has_text:"has-text-warning",icon:"fas fa-exclamation-triangle fa-lg"},3:{has_text:"has-text-success",icon:"fas fa-check fa-lg"},4:{has_text:"has-text-primary",icon:"fas fa-thumbs-up fa-lg"},5:{has_text:"has-text-info",icon:"fas fa-bell fa-lg"},6:{has_text:"has-text-link",icon:"far fa-bell fa-lg"}};return console.log(o),void 0===t.value&&n.value&&void 0!==s&&n.value(s),void 0===t.icon&&n.icon&&void 0!==o&&n.icon(o),`<td class=" has-text-centered"><div class="icon-text"><span class="${"icon "+x(i[s.toString()].has_text||"has-text-grey-dark")}"><i${B("class",o||i[s.toString()].icon||"fas fa-bell fa-lg",0)}></i></span></div></td>`});var $e=$((e,t,n,a)=>{let{type:s}=t,{value:o}=t,{row:i}=t,r=!1;return void 0===t.type&&n.type&&void 0!==s&&n.type(s),void 0===t.value&&n.value&&void 0!==o&&n.value(o),void 0===t.row&&n.row&&void 0!==i&&n.row(i),"DateColor01"===s&&(r=!(new Date(o).getFullYear()===(new Date).getFullYear()&&new Date(o).getDate()===(new Date).getDate())),""+(s?""+("Date"===s?`<td>${x(U()(Date.parse(o)).format("YYYY-MM-DD HH:mm:ss"))}</td>`:""+("DateColor01"===s?`<td${l=[r?"has-text-danger":""].join(" ").trim(),l?` class="${l}"`:""}>${x(U()(Date.parse(o)).format("YYYY-MM-DD HH:mm:ss"))}</td>`:""+("Priority"===s?""+k(Te,"TableCellPriority").$$render(e,{value:o,icon:i.icon},{},{}):""+("EventDetails"===s?""+k(Se,"TableCellDetails").$$render(e,{value:o,row:i},{},{}):""+("Boolean01"===s?""+k(G,"TableCellBoolean01").$$render(e,{value:o,row:i},{},{}):""+("Boolean-Color"===s?""+(o?'<td class="has-background-success has-text-white has-text-centered"><i class="fa fa-check" aria-hidden="true"></i></td>':'<td class="has-background-danger has-text-white has-text-centered"><i class="fa fa-times" aria-hidden="true"></i></td>'):`<td>con tipo desconicido ${x(o)}</td>`)))))):""+("object"==typeof o&&null!==o?`<td>${JSON.stringify(o,null,"</br>")}</td>`:`<td>${x(o)}</td>`));var l});var Be=n(8);const Ie={code:".size_search.svelte-1f1n5ub{width:7em}.show_cursor_mouse.svelte-1f1n5ub{cursor:pointer}.table_pagination.svelte-1f1n5ub{width:98%;margin:auto}.label_rows_per_page.svelte-1f1n5ub{margin-right:1em}.margin_title.svelte-1f1n5ub{margin-left:0.5em}",map:'{"version":3,"file":"Table.svelte","sources":["Table.svelte"],"sourcesContent":["<script>\\n  const crypto = require(\\"crypto\\");\\n  import XLSX from \\"xlsx\\";\\n  import { createEventDispatcher } from \\"svelte\\";\\n  import { onDestroy, onMount } from \\"svelte\\";\\n  import TableCell from \\"./TableCell\\";\\n  import { GetData } from \\"./GetData\\";\\n  import { ArrayChunk } from \\"@edwinspire/utils/ArrayChunk\\";\\n  //-      -//\\n  const dispatch = createEventDispatcher();\\n  let DataTable = [];\\n  let SelectedRows = [];\\n  export let RawDataTable = [];\\n  let text_search;\\n  let loading = false;\\n  let showEdit = false;\\n  let showSelection = false;\\n  let ColumnSort;\\n  let ShowDialogColumn = false;\\n\\n  //-- Pagination --//\\n  let PageSelected = 1;\\n  let RowsPerPage = 20;\\n  let totalFilteredRows = 0;\\n  let TotalPages = 0;\\n  let paginatedData = [];\\n\\n  let SelectAll = false;\\n  export let columns = {};\\n  export let url = \\"\\";\\n  export let params = {};\\n  let orderASC = true;\\n  let internal_columns = {};\\n\\n  $: SelectedRows, OnSelection();\\n\\n  function OnSelection() {\\n    dispatch(\\"selectrows\\", { rows: GetSelectedRows()});\\n  }\\n\\n  onMount(() => {\\n    GetDataTable();\\n  });\\n\\n  function SetColumns() {\\n    if (RawDataTable && RawDataTable.length > 0) {\\n      let MaxSizeLabel = 15;\\n      internal_columns = {};\\n      Object.keys(RawDataTable[0]).forEach((item) => {\\n        if (item === \\"internal_hash_row\\") {\\n          internal_columns[item] = {\\n            label: item.substring(0, MaxSizeLabel),\\n            hidden: true,\\n          };\\n        } else if (columns[item]) {\\n          internal_columns[item] = columns[item];\\n          if (!internal_columns[item].label) {\\n            internal_columns[item].label = item.substring(0, MaxSizeLabel);\\n          }\\n        } else {\\n          // Tambien limita la longitud del nombre de la columna a 10 caracteres\\n          internal_columns[item] = {\\n            label: item.substring(0, MaxSizeLabel),\\n            hidden: false,\\n          };\\n        }\\n      });\\n    }\\n    //console.log(internal_columns);\\n  }\\n\\n  function RowIsSelected(internal_hash_row) {\\n    let isSelected = SelectedRows.includes(internal_hash_row);\\n    return isSelected;\\n  }\\n\\n  export function GetSelectedRows() {\\n    return RawDataTable.filter((row) => {\\n      return SelectedRows.includes(row.internal_hash_row);\\n    });\\n  }\\n\\n  function ExportTable() {\\n    try {\\n      // Filter only selection\\n      let filteredData = GetSelectedRows();\\n\\n      let FormatedData = filteredData.map((row) => {\\n        let r = { ...row };\\n        // Convert to string objects\\n        Object.keys(row).forEach((key) => {\\n          if (columns[key] && columns[key].type == \\"Date\\") {\\n            r[key] = new Date(row[key]).toString();\\n          } else if (row[key] !== null && typeof row[key] === \\"object\\") {\\n            r[key] = JSON.stringify(row[key], null, 4);\\n          }\\n        });\\n        delete r.internal_hash_row;\\n        return r;\\n      });\\n\\n      if (FormatedData && FormatedData.length > 0) {\\n        /* Create a worksheet */\\n        var ws = XLSX.utils.json_to_sheet(FormatedData);\\n        /* Create a new empty workbook, then add the worksheet */\\n        var wb = XLSX.utils.book_new();\\n        XLSX.utils.book_append_sheet(wb, ws, \\"Report\\");\\n        XLSX.writeFile(wb, \\"Table_\\" + Date.now() + \\".xlsx\\");\\n      }\\n    } catch (error) {\\n      console.error(error);\\n    }\\n  }\\n\\n  let auto_refresh = setInterval(() => {\\n    GetDataTable();\\n  }, 15 * 1000);\\n\\n  onDestroy(() => {\\n    console.log(\\"Mata refresh\\");\\n    clearInterval(auto_refresh);\\n  });\\n\\n  function SortColumn(key, order = \\"asc\\") {\\n    return function innerSort(a, b) {\\n      if (!a.hasOwnProperty(key) || !b.hasOwnProperty(key)) {\\n        return 0;\\n      }\\n\\n      const varA = typeof a[key] === \\"string\\" ? a[key].toUpperCase() : a[key];\\n      const varB = typeof b[key] === \\"string\\" ? b[key].toUpperCase() : b[key];\\n\\n      let comparison = 0;\\n      if (varA > varB) {\\n        comparison = 1;\\n      } else if (varA < varB) {\\n        comparison = -1;\\n      }\\n      return order === \\"desc\\" ? comparison * -1 : comparison;\\n    };\\n  }\\n\\n  function HClickCell(cell, row) {\\n    dispatch(\\"clickrow\\", { field: cell, data: row });\\n  }\\n\\n  function HClickEditRow(e) {\\n    dispatch(\\"editrow\\", { data: e });\\n  }\\n  function HClickNew(e) {\\n    dispatch(\\"newrow\\", e);\\n  }\\n  function HClickHeader(e) {\\n    ColumnSort = e.target.dataset.column;\\n    orderASC = !orderASC;\\n    FilterData();\\n  }\\n\\n  function handleClickSearch() {\\n    if (text_search && text_search.length > 0) {\\n      FilterData();\\n    } else {\\n      GetDataTable();\\n    }\\n  }\\n\\n  GetDataTable();\\n\\n  function handleChangeSelectAll(e) {\\n    SelectAll = e.target.checked;\\n\\n    if (SelectAll) {\\n      SelectedRows = [];\\n\\n      paginatedData.forEach((pag) => {\\n        SelectedRows = SelectedRows.concat(\\n          pag.map((item) => {\\n            return item.internal_hash_row;\\n          })\\n        );\\n      });\\n    } else {\\n      SelectedRows = [];\\n    }\\n    //console.log(SelectedRows);\\n    FilterData();\\n  }\\n\\n  function handleExportSelection(e) {\\n    ExportTable();\\n  }\\n\\n  function FilterData() {\\n    //console.log(\\"Filtrar\\", text_search);\\n    let TempData;\\n    if (text_search && text_search.length > 0) {\\n      TempData = RawDataTable.filter((d) => {\\n        let s = Object.values(d).filter((item) => {\\n          if (item) {\\n            return item\\n              .toString()\\n              .toUpperCase()\\n              .includes(text_search.toUpperCase());\\n          } else {\\n            return item;\\n          }\\n        });\\n        if (s.length > 0) {\\n          return true;\\n        } else {\\n          return false;\\n        }\\n      });\\n    } else {\\n      TempData = RawDataTable;\\n    }\\n    totalFilteredRows = TempData.length;\\n    Pagination(TempData);\\n  }\\n\\n  function Pagination(rows) {\\n    if (ColumnSort) {\\n      if (orderASC) {\\n        rows = rows.sort(SortColumn(ColumnSort));\\n      } else {\\n        rows = rows.sort(SortColumn(ColumnSort, \\"desc\\"));\\n      }\\n    }\\n\\n    paginatedData = ArrayChunk(rows, RowsPerPage);\\n    TotalPages = paginatedData.length;\\n    if (PageSelected > TotalPages) {\\n      PageSelected = 1;\\n    }\\n    SelectPage();\\n  }\\n\\n  function SelectPage() {\\n    DataTable = paginatedData[PageSelected - 1];\\n  }\\n\\n  function HandleOnClickEdit() {\\n    console.log(showEdit);\\n    showEdit = !showEdit;\\n    return false;\\n  }\\n\\n  function HandleOnClickSelection() {\\n    console.log(showSelection);\\n    showSelection = !showSelection;\\n    return false;\\n  }\\n\\n  function HandleOnRowSelected(event) {\\n    let internal_hash_row = event.target.dataset.internal_hash_row;\\n    if (event.target.checked) {\\n      SelectedRows.push(internal_hash_row);\\n    } else {\\n      SelectedRows = SelectedRows.filter((value) => {\\n        return value !== internal_hash_row;\\n      });\\n    }\\n    OnSelection();\\n  }\\n\\n  async function GetDataTable() {\\n    if (loading) {\\n      console.log(\\"Hay una petici√≥n en curso\\");\\n    } else {\\n      if (url && url.length > 0) {\\n        try {\\n          loading = true;\\n          RawDataTable = await GetData(url, params);\\n          let Listinternal_hash_row = {}; // Esta variable se usa unicamente para verificar que no se generen llaves duplicadas\\n          RawDataTable = RawDataTable.map((row) => {\\n            let c = crypto\\n              .createHash(\\"md5\\")\\n              .update(JSON.stringify(row))\\n              .digest(\\"base64\\");\\n\\n            if (Listinternal_hash_row[c]) {\\n              console.error(\\"Hay un registro duplicado en la tabla\\", row);\\n              c =\\n                c +\\n                \\"-\\" +\\n                new Date().getTime() +\\n                \\"-\\" +\\n                Math.floor(Math.random() * 10000);\\n              Listinternal_hash_row[c] = true;\\n            } else {\\n              Listinternal_hash_row[c] = true;\\n            }\\n            return { ...row, internal_hash_row: c };\\n          });\\n\\n          //console.log(RawDataTable);\\n\\n          SetColumns();\\n          FilterData();\\n          loading = false;\\n        } catch (error) {\\n          console.error(error);\\n          loading = false;\\n        }\\n      } else {\\n        console.warn(\\"Not url asigned\\");\\n      }\\n    }\\n  }\\n<\/script>\\n\\n\x3c!-- Main container --\x3e\\n<nav class=\\"level\\">\\n  \x3c!-- Left side --\x3e\\n  <div class=\\"level-left\\">\\n    <div class=\\"level-item\\">\\n      <span class=\\"margin_title\\"><slot name=\\"title\\">.</slot></span>\\n    </div>\\n  </div>\\n\\n  \x3c!-- Right side --\x3e\\n  <div class=\\"level-right\\">\\n    {#if loading}\\n      <div class=\\"level-item\\">\\n        <span class=\\"icon has-text-info\\">\\n          <i class=\\"fas fa-spinner fa-pulse\\" />\\n        </span>\\n      </div>\\n    {/if}\\n\\n    <slot name=\\"item-1\\" class=\\"level-item\\" />\\n    <slot name=\\"item-2\\" class=\\"level-item\\" />\\n    <slot name=\\"item-3\\" class=\\"level-item\\" />\\n    <slot name=\\"item-4\\" class=\\"level-item\\" />\\n    <slot name=\\"item-5\\" class=\\"level-item\\" />\\n\\n    <div class=\\"level-item\\">\\n      <div class=\\"dropdown is-hoverable is-right\\">\\n        <div class=\\"dropdown-trigger\\">\\n          <button\\n            class=\\"button is-small\\"\\n            aria-haspopup=\\"true\\"\\n            aria-controls=\\"dropdown-menu\\"\\n          >\\n            <span class=\\"icon\\">\\n              <i class=\\"fa fa-list\\" aria-hidden=\\"true\\" />\\n            </span>\\n            <span>Opciones</span>\\n            <span class=\\"icon is-small\\">\\n              <i class=\\"fas fa-angle-down\\" aria-hidden=\\"true\\" />\\n            </span>\\n          </button>\\n        </div>\\n        <div class=\\"dropdown-menu\\" role=\\"menu\\">\\n          <div class=\\"dropdown-content\\">\\n            \x3c!-- svelte-ignore a11y-missing-attribute --\x3e\\n            <a class=\\"dropdown-item is-size-7\\" on:click={HClickNew}>\\n              <span class=\\"icon\\">\\n                <i class=\\"fas fa-file\\" />\\n              </span>\\n              <span>Agregar</span>\\n            </a>\\n            <hr class=\\"dropdown-divider\\" />\\n\\n            \x3c!-- svelte-ignore a11y-missing-attribute --\x3e\\n            <a\\n              class=\\"dropdown-item is-size-7\\"\\n              class:is-active={showSelection}\\n              on:click={HandleOnClickSelection}\\n            >\\n              <span class=\\"icon\\">\\n                <i class=\\"fas fa-tasks\\" />\\n              </span>\\n              <span>Selecci√≥n</span>\\n            </a>\\n            \x3c!-- svelte-ignore a11y-missing-attribute --\x3e\\n            <a\\n              class=\\"dropdown-item is-size-7\\"\\n              class:is-active={showEdit}\\n              on:click={HandleOnClickEdit}\\n            >\\n              <span class=\\"icon\\">\\n                <i class=\\"fas fa-pen\\" />\\n              </span>\\n              <span>Editar</span>\\n            </a>\\n            \x3c!-- svelte-ignore a11y-missing-attribute --\x3e\\n            <a class=\\"dropdown-item is-size-7\\" on:click={handleExportSelection}>\\n              <span class=\\"icon\\">\\n                <i class=\\"far fa-file-excel\\" />\\n              </span>\\n              <span>Exportar</span>\\n            </a>\\n          </div>\\n        </div>\\n      </div>\\n    </div>\\n\\n    <div class=\\"level-item\\">\\n      <div class=\\"field has-addons\\">\\n        <p class=\\"control\\">\\n          <input\\n            class=\\"input size_search is-small\\"\\n            type=\\"text\\"\\n            placeholder=\\"Buscar\\"\\n            bind:value={text_search}\\n          />\\n        </p>\\n        <p class=\\"control\\">\\n          <button class=\\"button is-small\\" on:click={handleClickSearch}>\\n            <i class=\\"fas fa-search\\" />\\n          </button>\\n        </p>\\n      </div>\\n    </div>\\n  </div>\\n</nav>\\n\\n{#if DataTable && DataTable.length > 0}\\n  <div class=\\"table-container is-size-7\\">\\n    <table\\n      class=\\"table is-bordered is-striped is-narrow is-hoverable is-fullwidth\\"\\n    >\\n      \x3c!-- Aqui escribe el encabezado de la tabla --\x3e\\n      <thead>\\n        <tr>\\n          <th class=\\"has-text-centered\\">#</th>\\n\\n          {#if showSelection}\\n            <th class=\\"has-text-centered\\">\\n              <input type=\\"checkbox\\" on:click={handleChangeSelectAll} />\\n            </th>\\n          {/if}\\n\\n          {#if showEdit}\\n            <th class=\\"has-text-centered\\">\\n              <i class=\\"fas fa-pen\\" />\\n            </th>\\n          {/if}\\n\\n          {#each Object.keys(DataTable[0]) as item, ith}\\n            \x3c!-- Muestra las columnas que no se hayan especificado como ocultas --\x3e\\n            {#if internal_columns[item]}\\n              {#if !internal_columns[item].hidden || !internal_columns[item].hidden == null}\\n                \x3c!-- Mostramos label si esque existe --\x3e\\n                <th\\n                  class=\\"has-text-centered show_cursor_mouse\\"\\n                  data-column={item}\\n                  on:click={HClickHeader}\\n                >\\n                  {internal_columns[item].label}\\n                </th>\\n              {/if}\\n            {/if}\\n          {/each}\\n        </tr>\\n      </thead>\\n      <tbody>\\n        {#each DataTable as dataRow, i (dataRow.internal_hash_row)}\\n          <tr>\\n            <td>{i + 1 + RowsPerPage * (PageSelected - 1)}</td>\\n            {#if showSelection}\\n              <td class=\\"has-text-centered\\">\\n                <input\\n                  class=\\"show_cursor_mouse\\"\\n                  type=\\"checkbox\\"\\n                  checked={RowIsSelected(dataRow.internal_hash_row)}\\n                  data-internal_hash_row={dataRow.internal_hash_row}\\n                  on:click={HandleOnRowSelected}\\n                />\\n              </td>\\n            {/if}\\n\\n            {#if showEdit}\\n              <td\\n                class=\\"has-text-centered show_cursor_mouse\\"\\n                on:click={HClickEditRow(dataRow)}\\n              >\\n                <span class=\\"icon is-small\\">\\n                  <i class=\\"fas fa-pen\\" />\\n                </span>\\n              </td>\\n            {/if}\\n            {#each Object.keys(dataRow) as item, itd}\\n              \x3c!-- Muestra las columnas que no se hayan especificado como ocultas --\x3e\\n              {#if internal_columns[item]}\\n                {#if !internal_columns[item].hidden || internal_columns[item].hidden == null}\\n                  <TableCell\\n                    on:click={HClickCell(item, dataRow)}\\n                    row={dataRow}\\n                    value={dataRow[item]}\\n                    type={internal_columns[item].type}\\n                  />\\n                {/if}\\n              {/if}\\n            {/each}\\n          </tr>\\n        {/each}\\n      </tbody>\\n    </table>\\n  </div>\\n  <div class=\\"table_pagination\\">\\n    \x3c!-- Main container --\x3e\\n    <nav class=\\"level\\">\\n      \x3c!-- Left side --\x3e\\n      <div class=\\"level-left\\">\\n        {#if paginatedData && paginatedData.length > 1}\\n          <div class=\\"level-item\\">\\n            <span class=\\"\\">\\n              P√°gina {PageSelected} de {TotalPages} (Total {totalFilteredRows}\\n              filas)\\n            </span>\\n          </div>\\n          <div class=\\"level-item\\">\\n            <div class=\\"buttons has-addons\\">\\n              <button\\n                class=\\"button is-small\\"\\n                on:click={() => {\\n                  PageSelected = 1;\\n                  SelectPage();\\n                }}\\n              >\\n                <span class=\\"icon \\">\\n                  <i class=\\"fas fa-angle-double-left\\" />\\n                </span>\\n              </button>\\n              <button\\n                class=\\"button is-small\\"\\n                on:click={() => {\\n                  if (PageSelected > 1) {\\n                    PageSelected = PageSelected - 1;\\n                  }\\n                  SelectPage();\\n                }}\\n              >\\n                <span class=\\"icon \\">\\n                  <i class=\\"fas fa-angle-left\\" />\\n                </span>\\n              </button>\\n              <button\\n                class=\\"button is-small is-info\\"\\n                on:click={() => {\\n                  //PageSelected = 1;\\n                  SelectPage();\\n                }}>{PageSelected}</button\\n              >\\n              {#if PageSelected + 1 <= TotalPages}\\n                <button\\n                  class=\\"button is-small\\"\\n                  on:click={() => {\\n                    PageSelected = PageSelected + 1;\\n                    SelectPage();\\n                  }}>{PageSelected + 1}</button\\n                >\\n              {/if}\\n              {#if PageSelected + 2 <= TotalPages}\\n                <button\\n                  class=\\"button is-small\\"\\n                  on:click={() => {\\n                    PageSelected = PageSelected + 2;\\n                    SelectPage();\\n                  }}>{PageSelected + 2}</button\\n                >\\n              {/if}\\n\\n              {#if PageSelected + 3 <= TotalPages}\\n                <button\\n                  class=\\"button is-small\\"\\n                  on:click={() => {\\n                    PageSelected = PageSelected + 3;\\n                    SelectPage();\\n                  }}>{PageSelected + 3}</button\\n                >\\n              {/if}\\n\\n              {#if PageSelected + 4 <= TotalPages}\\n                <button\\n                  class=\\"button is-small\\"\\n                  on:click={() => {\\n                    PageSelected = PageSelected + 4;\\n                    SelectPage();\\n                  }}>{PageSelected + 4}</button\\n                >\\n              {/if}\\n\\n              <button\\n                class=\\"button is-small\\"\\n                on:click={() => {\\n                  if (PageSelected < TotalPages) {\\n                    PageSelected = PageSelected + 1;\\n                    SelectPage();\\n                  }\\n                }}\\n              >\\n                <span class=\\"icon\\">\\n                  <i class=\\"fas fa-angle-right\\" />\\n                </span>\\n              </button>\\n\\n              <button\\n                class=\\"button is-small\\"\\n                on:click={() => {\\n                  PageSelected = TotalPages;\\n                  SelectPage();\\n                }}\\n              >\\n                <span class=\\"icon\\">\\n                  <i class=\\"fas fa-angle-double-right\\" />\\n                </span>\\n              </button>\\n            </div>\\n          </div>\\n        {/if}\\n      </div>\\n\\n      \x3c!-- Right side --\x3e\\n      <div class=\\"level-right\\">\\n        <span class=\\"level-item\\">\\n          <span class=\\"label_rows_per_page\\">Filas por p√°gina</span>\\n          <div class=\\"select is-small\\">\\n            \x3c!-- svelte-ignore a11y-no-onchange --\x3e\\n            <select\\n              name=\\"rows_per_page\\"\\n              bind:value={RowsPerPage}\\n              on:change={() => {\\n                FilterData();\\n              }}\\n            >\\n              <option value=\\"20\\" selected>20</option>\\n              <option value=\\"50\\">50</option>\\n              <option value=\\"100\\">100</option>\\n              <option value=\\"200\\">200</option>\\n              <option value=\\"300\\">300</option>\\n            </select>\\n          </div>\\n        </span>\\n      </div>\\n    </nav>\\n  </div>\\n{:else}\\n  <div class=\\"has-text-centered has-text-link-dark\\">\\n    <i class=\\"fa fa-table\\" aria-hidden=\\"true\\" />\\n    No hay datos que mostrar\\n  </div>\\n{/if}\\n\\n<div class=\\"modal\\" class:is-active={ShowDialogColumn}>\\n  <div class=\\"modal-background\\" />\\n  <div class=\\"modal-card\\">\\n    <header class=\\"modal-card-head has-background-dark\\">\\n      <p class=\\"modal-card-title has-text-white\\">\\n        <b>\\n          <span>Columnas</span>\\n        </b>\\n      </p>\\n      <button\\n        class=\\"delete\\"\\n        aria-label=\\"close\\"\\n        on:click={(e) => {\\n          ShowDialogColumn = false;\\n        }}\\n      />\\n    </header>\\n    <section class=\\"modal-card-body\\">\\n      <div class=\\"columns\\">\\n        {#each Object.keys(columns) as col}\\n          <div class=\\"column\\">\\n            <label class=\\"checkbox\\">\\n              <input type=\\"checkbox\\" />\\n              {col}\\n            </label>\\n          </div>\\n        {/each}\\n      </div>\\n    </section>\\n    <footer class=\\"modal-card-foot has-background-dark\\">\\n      <button class=\\"button is-success is-small\\">\\n        <span>Aceptar</span>\\n      </button>\\n      <button\\n        class=\\"button is-small\\"\\n        on:click={(e) => {\\n          ShowDialogColumn = false;\\n        }}\\n      >\\n        <span>Cancelar</span>\\n      </button>\\n    </footer>\\n  </div>\\n</div>\\n\\n<style>\\n  .size_search {\\n    width: 7em;\\n  }\\n  .show_cursor_mouse {\\n    cursor: pointer;\\n  }\\n\\n  .table_pagination {\\n    width: 98%;\\n    margin: auto;\\n  }\\n  .label_rows_per_page {\\n    margin-right: 1em;\\n  }\\n  .margin_title {\\n    margin-left: 0.5em;\\n  }\\n</style>\\n"],"names":[],"mappings":"AAorBE,YAAY,eAAC,CAAC,AACZ,KAAK,CAAE,GAAG,AACZ,CAAC,AACD,kBAAkB,eAAC,CAAC,AAClB,MAAM,CAAE,OAAO,AACjB,CAAC,AAED,iBAAiB,eAAC,CAAC,AACjB,KAAK,CAAE,GAAG,CACV,MAAM,CAAE,IAAI,AACd,CAAC,AACD,oBAAoB,eAAC,CAAC,AACpB,YAAY,CAAE,GAAG,AACnB,CAAC,AACD,aAAa,eAAC,CAAC,AACb,WAAW,CAAE,KAAK,AACpB,CAAC"}'};function Oe(e,t="asc"){return function(n,a){if(!n.hasOwnProperty(e)||!a.hasOwnProperty(e))return 0;const s="string"==typeof n[e]?n[e].toUpperCase():n[e],o="string"==typeof a[e]?a[e].toUpperCase():a[e];let i=0;return s>o?i=1:s<o&&(i=-1),"desc"===t?-1*i:i}}var Me=$((e,t,a,s)=>{const o=n(10),i=y();let r,l=[],c=[],{RawDataTable:d=[]}=t,A=!1,u=!1,p=!1,h=1,m=0,f=0,C=[],{columns:v={}}=t,{url:w=""}=t,{params:E={}}=t,S=!0,T={};function $(){i("selectrows",{rows:I()})}function I(){return d.filter(e=>c.includes(e.internal_hash_row))}g(()=>{z()});let M=setInterval(()=>{z()},15e3);var j;function D(){let e;e=d,m=e.length,function(e){r&&(e=S?e.sort(Oe(r)):e.sort(Oe(r,"desc")));C=Object(Be.a)(e,20),f=C.length,h>f&&(h=1);l=C[h-1]}(e)}async function z(){if(A)console.log("Hay una petici√≥n en curso");else if(w&&w.length>0)try{A=!0,d=await async function(e,t,n){const a=new O;let s=[];if(a)try{let o;switch(n){case"GET":default:o=await a.get(e,t,{"Content-Type":"application/json"})}if(o&&o.ok){let e=await o.json();Array.isArray(e)?s=e:console.warn(e)}else console.error(o)}catch(e){console.warn(e)}else console.warn("FDada no ha sido inicializada");return s}(w,E);let e={};d=d.map(t=>{let n=o.createHash("md5").update(JSON.stringify(t)).digest("base64");return e[n]?(console.error("Hay un registro duplicado en la tabla",t),n=n+"-"+(new Date).getTime()+"-"+Math.floor(1e4*Math.random()),e[n]=!0):e[n]=!0,{...t,internal_hash_row:n}}),function(){if(d&&d.length>0){let e=15;T={},Object.keys(d[0]).forEach(t=>{"internal_hash_row"===t?T[t]={label:t.substring(0,e),hidden:!0}:v[t]?(T[t]=v[t],T[t].label||(T[t].label=t.substring(0,e))):T[t]={label:t.substring(0,e),hidden:!1}})}}(),D(),A=!1}catch(e){console.error(e),A=!1}else console.warn("Not url asigned")}return j=()=>{console.log("Mata refresh"),clearInterval(M)},b().$$.on_destroy.push(j),z(),void 0===t.RawDataTable&&a.RawDataTable&&void 0!==d&&a.RawDataTable(d),void 0===t.columns&&a.columns&&void 0!==v&&a.columns(v),void 0===t.url&&a.url&&void 0!==w&&a.url(w),void 0===t.params&&a.params&&void 0!==E&&a.params(E),void 0===t.GetSelectedRows&&a.GetSelectedRows&&void 0!==I&&a.GetSelectedRows(I),e.css.add(Ie),$(),`\n<nav class="level">\n  <div class="level-left"><div class="level-item"><span class="margin_title svelte-1f1n5ub">${s.title?s.title({}):"."}</span></div></div>\n\n  \n  <div class="level-right">${A?'<div class="level-item"><span class="icon has-text-info"><i class="fas fa-spinner fa-pulse"></i></span></div>':""}\n\n    ${s["item-1"]?s["item-1"]({class:"level-item"}):""}\n    ${s["item-2"]?s["item-2"]({class:"level-item"}):""}\n    ${s["item-3"]?s["item-3"]({class:"level-item"}):""}\n    ${s["item-4"]?s["item-4"]({class:"level-item"}):""}\n    ${s["item-5"]?s["item-5"]({class:"level-item"}):""}\n\n    <div class="level-item"><div class="dropdown is-hoverable is-right"><div class="dropdown-trigger"><button class="button is-small" aria-haspopup="true" aria-controls="dropdown-menu"><span class="icon"><i class="fa fa-list" aria-hidden="true"></i></span>\n            <span>Opciones</span>\n            <span class="icon is-small"><i class="fas fa-angle-down" aria-hidden="true"></i></span></button></div>\n        <div class="dropdown-menu" role="menu"><div class="dropdown-content">\n            <a class="dropdown-item is-size-7"><span class="icon"><i class="fas fa-file"></i></span>\n              <span>Agregar</span></a>\n            <hr class="dropdown-divider">\n\n            \n            <a class="${["dropdown-item is-size-7",p?"is-active":""].join(" ").trim()}"><span class="icon"><i class="fas fa-tasks"></i></span>\n              <span>Selecci√≥n</span></a>\n            \n            <a class="${["dropdown-item is-size-7",u?"is-active":""].join(" ").trim()}"><span class="icon"><i class="fas fa-pen"></i></span>\n              <span>Editar</span></a>\n            \n            <a class="dropdown-item is-size-7"><span class="icon"><i class="far fa-file-excel"></i></span>\n              <span>Exportar</span></a></div></div></div></div>\n\n    <div class="level-item"><div class="field has-addons"><p class="control"><input class="input size_search is-small svelte-1f1n5ub" type="text" placeholder="Buscar"${B("value",void 0,1)}></p>\n        <p class="control"><button class="button is-small"><i class="fas fa-search"></i></button></p></div></div></div></nav>\n\n${l&&l.length>0?`<div class="table-container is-size-7"><table class="table is-bordered is-striped is-narrow is-hoverable is-fullwidth">\n      <thead><tr><th class="has-text-centered">#</th>\n\n          ${p?'<th class="has-text-centered"><input type="checkbox"></th>':""}\n\n          ${u?'<th class="has-text-centered"><i class="fas fa-pen"></i></th>':""}\n\n          ${_(Object.keys(l[0]),(e,t)=>"\n            "+(T[e]?""+(T[e].hidden&&null!=!T[e].hidden?"":`\n                <th class="has-text-centered show_cursor_mouse svelte-1f1n5ub"${B("data-column",e,0)}>${x(T[e].label)}\n                </th>`):""))}</tr></thead>\n      <tbody>${_(l,(t,n)=>{return`<tr><td>${x(n+1+20*(h-1))}</td>\n            ${p?`<td class="has-text-centered"><input class="show_cursor_mouse svelte-1f1n5ub" type="checkbox" ${a=t.internal_hash_row,c.includes(a)?"checked":""}${B("data-internal_hash_row",t.internal_hash_row,0)}>\n              </td>`:""}\n\n            ${u?'<td class="has-text-centered show_cursor_mouse svelte-1f1n5ub"><span class="icon is-small"><i class="fas fa-pen"></i></span>\n              </td>':""}\n            ${_(Object.keys(t),(n,a)=>"\n              "+(T[n]?""+(T[n].hidden&&null!=T[n].hidden?"":""+k($e,"TableCell").$$render(e,{row:t,value:t[n],type:T[n].type},{},{})):""))}\n          </tr>`;var a})}</tbody></table></div>\n  <div class="table_pagination svelte-1f1n5ub">\n    <nav class="level">\n      <div class="level-left">${C&&C.length>1?`<div class="level-item"><span class="">P√°gina ${x(h)} de ${x(f)} (Total ${x(m)}\n              filas)\n            </span></div>\n          <div class="level-item"><div class="buttons has-addons"><button class="button is-small"><span class="icon "><i class="fas fa-angle-double-left"></i></span></button>\n              <button class="button is-small"><span class="icon "><i class="fas fa-angle-left"></i></span></button>\n              <button class="button is-small is-info">${x(h)}</button>\n              ${h+1<=f?`<button class="button is-small">${x(h+1)}</button>`:""}\n              ${h+2<=f?`<button class="button is-small">${x(h+2)}</button>`:""}\n\n              ${h+3<=f?`<button class="button is-small">${x(h+3)}</button>`:""}\n\n              ${h+4<=f?`<button class="button is-small">${x(h+4)}</button>`:""}\n\n              <button class="button is-small"><span class="icon"><i class="fas fa-angle-right"></i></span></button>\n\n              <button class="button is-small"><span class="icon"><i class="fas fa-angle-double-right"></i></span></button></div></div>`:""}</div>\n\n      \n      <div class="level-right"><span class="level-item"><span class="label_rows_per_page svelte-1f1n5ub">Filas por p√°gina</span>\n          <div class="select is-small">\n            <select name="rows_per_page"${B("value",20,1)}><option value="20" selected>20</option><option value="50">50</option><option value="100">100</option><option value="200">200</option><option value="300">300</option></select></div></span></div></nav></div>`:'<div class="has-text-centered has-text-link-dark"><i class="fa fa-table" aria-hidden="true"></i>\n    No hay datos que mostrar\n  </div>'}\n\n<div class="${["modal",""].join(" ").trim()}"><div class="modal-background"></div>\n  <div class="modal-card"><header class="modal-card-head has-background-dark"><p class="modal-card-title has-text-white"><b><span>Columnas</span></b></p>\n      <button class="delete" aria-label="close"></button></header>\n    <section class="modal-card-body"><div class="columns">${_(Object.keys(v),e=>`<div class="column"><label class="checkbox"><input type="checkbox">\n              ${x(e)}</label>\n          </div>`)}</div></section>\n    <footer class="modal-card-foot has-background-dark"><button class="button is-success is-small"><span>Aceptar</span></button>\n      <button class="button is-small"><span>Cancelar</span></button></footer></div>\n</div>`});var je=$((e,t,n,a)=>(g(async()=>{}),""+k(Me,"Tabla").$$render(e,{url:"/pgapi/scheduled_tasks/scheduled_tasks",columns:{idtask:{hidden:!0},ts:{hidden:!0},rowkey:{hidden:!0},task_start:{label:"Inicio",type:"Date"},task_end:{label:"Fin",type:"Date"},last_run:{label:"√öltima",type:"Date"},next_run:{label:"Pr√≥xima",type:"Date"},once_run:{label:"Correr",type:"Date"}}},{},{title:()=>'<span slot="title"><b>Tareas Programadas</b></span>'}))),{CheckSession:De}=n(11);var ze=$((e,t,n,a)=>{let{session:s}=t;return P.set(s),g(async()=>{}),void 0===t.session&&n.session&&void 0!==s&&n.session(s),`${k(R,"Menu").$$render(e,{},{},{})}\n\n${k(je,"Tabla").$$render(e,{},{},{})}`});var Pe=$((e,t,n,a)=>(e.head+=""+(e.title="<title>About</title>",""),"")+'\n\n<h1>About this site</h1>\n\n<p>This is the &#39;about&#39; page. There&#39;s not much here. ok</p>\n\n<div class="field">\n  <label class="label">Username</label>\n  <div class="control has-icons-left has-icons-right"><input class="input is-success" type="text" placeholder="Text input" value="bulma">\n    <span class="icon is-small is-left"><i class="fas fa-user-friends"></i></span>\n    <span class="icon is-small is-right"><i class="fas fa-check"></i></span></div>\n  <p class="help is-success">This username is available</p></div>');var Ne=$((e,t,n,a)=>{y();let{Show:s=!1}=t;return void 0===t.Show&&n.Show&&void 0!==s&&n.Show(s),`<div class="${["modal",s?"is-active":""].join(" ").trim()}"><div class="modal-background"></div>\n  <div class="modal-card"><header class="modal-card-head has-background-dark"><p class="modal-card-title has-text-white"><b>${a.title?a.title({}):""}</b></p>\n      <button class="delete" aria-label="close"></button></header>\n    <section class="modal-card-body">${a.body?a.body({}):""}</section>\n    <footer class="modal-card-foot has-background-dark"><button class="button is-success is-small">${a["label-ok"]?a["label-ok"]({}):"Guardar"}</button>\n      <button class="button is-small">${a["label-cancel"]?a["label-cancel"]({}):"Cancelar"}</button></footer></div></div>`});var Re=$((e,t,n,a)=>{let s,o,{EndPoint:i}=t,{Show:r=!1}=t;new O("/");void 0===t.EndPoint&&n.EndPoint&&void 0!==i&&n.EndPoint(i),void 0===t.Show&&n.Show&&void 0!==r&&n.Show(r);do{s=!0,o=""+k(Ne,"MessageD").$$render(e,{Show:r},{Show:e=>{r=e,s=!1}},{body:()=>`<div slot="body"><div class="field is-horizontal"><div class="field-label is-small">\n        <label class="label">Endpoint</label></div>\n      <div class="field-body"><div class="field"><p class="control"><input class="input is-small" type="text" placeholder="endpoint"${B("value",i.endpoint,1)}></p></div></div></div>\n\n    <div class="field is-horizontal"><div class="field-label is-small">\n        <label class="label">Habilitado</label></div>\n      <div class="field-body"><div class="field"><p class="control"><input type="checkbox"${B("checked",i.enabled,1)}></p></div></div></div>\n\n    <div class="field">\n      <label class="label is-small">Nota</label>\n      <div class="control"><textarea class="textarea has-fixed-size is-small" placeholder="Notes">${i.note||""}</textarea></div></div></div>`,title:()=>'<span slot="title">EndPoint</span>'})}while(!s);return o});var Ke=$((e,t,n,a)=>{let s,o,{Method:i}=t,{Show:r=!1}=t;new O("/");void 0===t.Method&&n.Method&&void 0!==i&&n.Method(i),void 0===t.Show&&n.Show&&void 0!==r&&n.Show(r);do{s=!0,console.log({Show:r}),o=""+(i?""+k(Ne,"MessageD").$$render(e,{Show:r},{Show:e=>{r=e,s=!1}},{body:()=>`<div slot="body"><div class="field is-horizontal"><div class="field-label is-small">\n          <label class="label">M√©todo</label></div>\n        <div class="field-body"><div class="field"><p class="control"><input class="input is-small" type="text" placeholder="Method"${B("value",i.method,1)}></p></div></div></div>\n\n      <div class="field is-horizontal"><div class="field-label is-small">\n          <label class="label">Habilitado</label></div>\n        <div class="field-body"><div class="field"><p class="control"><input type="checkbox"${B("checked",i.enabled,1)}></p></div></div></div>\n\n      <div class="field is-horizontal"><div class="field-label is-small">\n          <label class="label">P√∫blico</label></div>\n        <div class="field-body"><div class="field"><p class="control"><input type="checkbox"${B("checked",i.ispublic,1)}></p></div></div></div>\n\n      <div class="field">\n        <label class="label is-small">Variables</label>\n        <div class="control"><textarea class="textarea has-fixed-size is-small" placeholder="Notes">${i.declare||""}</textarea></div></div>\n\n      <div class="field">\n        <label class="label is-small">C√≥digo</label>\n        <div class="control"><textarea class="textarea has-fixed-size is-small" placeholder="Notes">${i.code||""}</textarea></div></div>\n\n      <div class="field">\n        <label class="label is-small">Nota</label>\n        <div class="control"><textarea class="textarea has-fixed-size is-small" placeholder="Notes">${i.note||""}</textarea></div></div></div>`,title:()=>'<span slot="title">M√©todo</span>'}):"")}while(!s);return o});var Ue=$((e,t,n,a)=>{new O("/");let s={idendpoint:{hidden:!0},ts:{hidden:!0},rowkey:{hidden:!0}},o=!1,i={};let r,l,c={method:{label:"M√©todo"},enabled:{label:"Habilitado",type:"checkbox"},ispublic:{label:"P√∫blico",type:"checkbox"},declare:{label:"Variables"},code:{label:"C√≥digo"},note:{label:"Notas"},idmethod:{hidden:!0},idendpoint:{hidden:!0},ts:{hidden:!0},rowkey:{hidden:!0},roles:{hidden:!0}},d={idendpoint:-1},A={},u=!1;do{r=!0,l=`<div class="container is-fullhd"><div class="columns"><div class="column">${k(Me,"Table").$$render(e,{url:"/pgapi/v2/endpoints",columns:s},{},{title:()=>'<span slot="title"><b>ENDPOINTS</b></span>'})}</div>\n    <div class="column">${d.idendpoint&&d.idendpoint>0?""+k(Me,"Table").$$render(e,{url:"/pgapi/v2/methods",params:d,columns:c},{},{title:()=>`<span slot="title"><b>${x(d.endpoint)}</b></span>`}):"<div>Seleccione un endpoint</div>"}</div></div></div>\n\n${k(Re,"EndpointForm").$$render(e,{Show:o,EndPoint:i},{Show:e=>{o=e,r=!1},EndPoint:e=>{i=e,r=!1}},{})}\n${k(Ke,"MethodForm").$$render(e,{Show:u,Method:A},{Show:e=>{u=e,r=!1},Method:e=>{A=e,r=!1}},{})}`}while(!r);return l}),{CheckSession:Ge}=n(11);var qe=$((e,t,n,a)=>"<h1>Asistente</h1>\n  "+k(Ue,"EndPoint").$$render(e,{},{},{}));var Fe=$((e,t,n,a)=>(g(async()=>{}),""+k(Me,"Tabla").$$render(e,{url:"/pgapi/v2/events",columns:{dateevent:{label:"Fecha",type:"DateColor01"},account_name:{label:"Cliente"},label:{label:"Evento"},priority:{label:"-",type:"Priority"},details:{label:"Datos",type:"EventDetails"},idevent:{hidden:!0},idaccount:{hidden:!0},ideventtype:{hidden:!0},iduser:{hidden:!0},idcontact:{hidden:!0},idsource:{hidden:!0},idstatustype:{hidden:!0},identification:{hidden:!0},account:{hidden:!0},iddivision:{hidden:!0},icon:{hidden:!0}}},{},{title:()=>'<span slot="title"><b>Ultimos Eventos</b></span>'}))),{CheckSession:Le}=n(11);var We=$((e,t,n,a)=>{let{session:s}=t;return P.set(s),g(async()=>{}),void 0===t.session&&n.session&&void 0!==s&&n.session(s),`${k(R,"Menu").$$render(e,{},{},{})}\n${k(Fe,"TablaUltimosEventos").$$render(e,{},{},{})}`});var He=$((e,t,n,a)=>""+(a.default?a.default({}):""));const Ve={code:"h1.svelte-8od9u6,p.svelte-8od9u6{margin:0 auto}h1.svelte-8od9u6{font-size:2.8em;font-weight:700;margin:0 0 0.5em 0}p.svelte-8od9u6{margin:1em auto}@media(min-width: 480px){h1.svelte-8od9u6{font-size:4em}}",map:'{"version":3,"file":"_error.svelte","sources":["_error.svelte"],"sourcesContent":["<script>\\n\\texport let status;\\n\\texport let error;\\n\\n\\tconst dev = process.env.NODE_ENV === \'development\';\\n<\/script>\\n\\n<style>\\n\\th1, p {\\n\\t\\tmargin: 0 auto;\\n\\t}\\n\\n\\th1 {\\n\\t\\tfont-size: 2.8em;\\n\\t\\tfont-weight: 700;\\n\\t\\tmargin: 0 0 0.5em 0;\\n\\t}\\n\\n\\tp {\\n\\t\\tmargin: 1em auto;\\n\\t}\\n\\n\\t@media (min-width: 480px) {\\n\\t\\th1 {\\n\\t\\t\\tfont-size: 4em;\\n\\t\\t}\\n\\t}\\n</style>\\n\\n<svelte:head>\\n\\t<title>{status}</title>\\n</svelte:head>\\n\\n<h1>{status}</h1>\\n\\n<p>{error.message}</p>\\n\\n{#if dev && error.stack}\\n\\t<pre>{error.stack}</pre>\\n{/if}\\n"],"names":[],"mappings":"AAQC,gBAAE,CAAE,CAAC,cAAC,CAAC,AACN,MAAM,CAAE,CAAC,CAAC,IAAI,AACf,CAAC,AAED,EAAE,cAAC,CAAC,AACH,SAAS,CAAE,KAAK,CAChB,WAAW,CAAE,GAAG,CAChB,MAAM,CAAE,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,AACpB,CAAC,AAED,CAAC,cAAC,CAAC,AACF,MAAM,CAAE,GAAG,CAAC,IAAI,AACjB,CAAC,AAED,MAAM,AAAC,YAAY,KAAK,CAAC,AAAC,CAAC,AAC1B,EAAE,cAAC,CAAC,AACH,SAAS,CAAE,GAAG,AACf,CAAC,AACF,CAAC"}'};var Ye=$((e,t,n,a)=>{let{status:s}=t,{error:o}=t;return void 0===t.status&&n.status&&void 0!==s&&n.status(s),void 0===t.error&&n.error&&void 0!==o&&n.error(o),e.css.add(Ve),`${e.head+=""+(e.title=`<title>${x(s)}</title>`,""),""}\n\n<h1 class="svelte-8od9u6">${x(s)}</h1>\n\n<p class="svelte-8od9u6">${x(o.message)}</p>\n\n`});decodeURIComponent;const Je={server_routes:[{pattern:/^\/web-push-client\/?$/,handlers:a,params:()=>({})}],pages:[{pattern:/^\/$/,parts:[{name:"index",file:"index.svelte",component:j}]},{pattern:/^\/scheduled_tasks\/main\/?$/,parts:[null,{name:"scheduled_tasks_main",file:"scheduled_tasks/main/index.svelte",component:ze,preload:function(e,t){return De(this,e,t,"/")}}]},{pattern:/^\/about\/?$/,parts:[{name:"about",file:"about.svelte",component:Pe}]},{pattern:/^\/pgAPI\/?$/,parts:[{name:"pgAPI",file:"pgAPI/index.svelte",component:qe,preload:function(e,t){return Ge(this,e,t,"/")}}]},{pattern:/^\/home\/?$/,parts:[{name:"home",file:"home/index.svelte",component:We,preload:function(e,t){return Le(this,e,t,"/")}}]}],root:He,root_preload:()=>{},error:Ye},Xe="__sapper__/build";var Qe=n(1),Ze=n(9),et=n(5),tt=n(16),nt=n(3);const at={};var st=$((e,t,n,a)=>{let{stores:s}=t,{error:o}=t,{status:i}=t,{segments:r}=t,{level0:l}=t,{level1:c=null}=t,{notify:d}=t;var A,u,p;return A=d,b().$$.after_update.push(A),u=at,p=s,b().$$.context.set(u,p),void 0===t.stores&&n.stores&&void 0!==s&&n.stores(s),void 0===t.error&&n.error&&void 0!==o&&n.error(o),void 0===t.status&&n.status&&void 0!==i&&n.status(i),void 0===t.segments&&n.segments&&void 0!==r&&n.segments(r),void 0===t.level0&&n.level0&&void 0!==l&&n.level0(l),void 0===t.level1&&n.level1&&void 0!==c&&n.level1(c),void 0===t.notify&&n.notify&&void 0!==d&&n.notify(d),"\n\n\n"+k(He,"Layout").$$render(e,Object.assign({segment:r[0]},l.props),{},{default:()=>""+(o?""+k(Ye,"Error").$$render(e,{error:o,status:i},{},{}):""+k(c.component||E,"svelte:component").$$render(e,Object.assign(c.props),{},{}))})});function ot(){this._types=Object.create(null),this._extensions=Object.create(null);for(var e=0;e<arguments.length;e++)this.define(arguments[e]);this.define=this.define.bind(this),this.getType=this.getType.bind(this),this.getExtension=this.getExtension.bind(this)}ot.prototype.define=function(e,t){for(var n in e){var a=e[n].map((function(e){return e.toLowerCase()}));n=n.toLowerCase();for(var s=0;s<a.length;s++){if("*"!=(o=a[s])[0]){if(!t&&o in this._types)throw new Error('Attempt to change mapping for "'+o+'" extension from "'+this._types[o]+'" to "'+n+'". Pass `force=true` to allow this, otherwise remove "'+o+'" from the list of extensions for "'+n+'".');this._types[o]=n}}if(t||!this._extensions[n]){var o=a[0];this._extensions[n]="*"!=o[0]?o:o.substr(1)}}},ot.prototype.getType=function(e){var t=(e=String(e)).replace(/^.*[/\\]/,"").toLowerCase(),n=t.replace(/^.*\./,"").toLowerCase(),a=t.length<e.length;return(n.length<t.length-1||!a)&&this._types[n]||null},ot.prototype.getExtension=function(e){return(e=/^\s*([^;\s]*)/.test(e)&&RegExp.$1)&&this._extensions[e.toLowerCase()]||null};var it=new ot({"application/andrew-inset":["ez"],"application/applixware":["aw"],"application/atom+xml":["atom"],"application/atomcat+xml":["atomcat"],"application/atomsvc+xml":["atomsvc"],"application/bdoc":["bdoc"],"application/ccxml+xml":["ccxml"],"application/cdmi-capability":["cdmia"],"application/cdmi-container":["cdmic"],"application/cdmi-domain":["cdmid"],"application/cdmi-object":["cdmio"],"application/cdmi-queue":["cdmiq"],"application/cu-seeme":["cu"],"application/dash+xml":["mpd"],"application/davmount+xml":["davmount"],"application/docbook+xml":["dbk"],"application/dssc+der":["dssc"],"application/dssc+xml":["xdssc"],"application/ecmascript":["ecma","es"],"application/emma+xml":["emma"],"application/epub+zip":["epub"],"application/exi":["exi"],"application/font-tdpfr":["pfr"],"application/geo+json":["geojson"],"application/gml+xml":["gml"],"application/gpx+xml":["gpx"],"application/gxf":["gxf"],"application/gzip":["gz"],"application/hjson":["hjson"],"application/hyperstudio":["stk"],"application/inkml+xml":["ink","inkml"],"application/ipfix":["ipfix"],"application/java-archive":["jar","war","ear"],"application/java-serialized-object":["ser"],"application/java-vm":["class"],"application/javascript":["js","mjs"],"application/json":["json","map"],"application/json5":["json5"],"application/jsonml+json":["jsonml"],"application/ld+json":["jsonld"],"application/lost+xml":["lostxml"],"application/mac-binhex40":["hqx"],"application/mac-compactpro":["cpt"],"application/mads+xml":["mads"],"application/manifest+json":["webmanifest"],"application/marc":["mrc"],"application/marcxml+xml":["mrcx"],"application/mathematica":["ma","nb","mb"],"application/mathml+xml":["mathml"],"application/mbox":["mbox"],"application/mediaservercontrol+xml":["mscml"],"application/metalink+xml":["metalink"],"application/metalink4+xml":["meta4"],"application/mets+xml":["mets"],"application/mods+xml":["mods"],"application/mp21":["m21","mp21"],"application/mp4":["mp4s","m4p"],"application/msword":["doc","dot"],"application/mxf":["mxf"],"application/n-quads":["nq"],"application/n-triples":["nt"],"application/octet-stream":["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"],"application/oda":["oda"],"application/oebps-package+xml":["opf"],"application/ogg":["ogx"],"application/omdoc+xml":["omdoc"],"application/onenote":["onetoc","onetoc2","onetmp","onepkg"],"application/oxps":["oxps"],"application/patch-ops-error+xml":["xer"],"application/pdf":["pdf"],"application/pgp-encrypted":["pgp"],"application/pgp-signature":["asc","sig"],"application/pics-rules":["prf"],"application/pkcs10":["p10"],"application/pkcs7-mime":["p7m","p7c"],"application/pkcs7-signature":["p7s"],"application/pkcs8":["p8"],"application/pkix-attr-cert":["ac"],"application/pkix-cert":["cer"],"application/pkix-crl":["crl"],"application/pkix-pkipath":["pkipath"],"application/pkixcmp":["pki"],"application/pls+xml":["pls"],"application/postscript":["ai","eps","ps"],"application/pskc+xml":["pskcxml"],"application/raml+yaml":["raml"],"application/rdf+xml":["rdf","owl"],"application/reginfo+xml":["rif"],"application/relax-ng-compact-syntax":["rnc"],"application/resource-lists+xml":["rl"],"application/resource-lists-diff+xml":["rld"],"application/rls-services+xml":["rs"],"application/rpki-ghostbusters":["gbr"],"application/rpki-manifest":["mft"],"application/rpki-roa":["roa"],"application/rsd+xml":["rsd"],"application/rss+xml":["rss"],"application/rtf":["rtf"],"application/sbml+xml":["sbml"],"application/scvp-cv-request":["scq"],"application/scvp-cv-response":["scs"],"application/scvp-vp-request":["spq"],"application/scvp-vp-response":["spp"],"application/sdp":["sdp"],"application/set-payment-initiation":["setpay"],"application/set-registration-initiation":["setreg"],"application/shf+xml":["shf"],"application/sieve":["siv","sieve"],"application/smil+xml":["smi","smil"],"application/sparql-query":["rq"],"application/sparql-results+xml":["srx"],"application/srgs":["gram"],"application/srgs+xml":["grxml"],"application/sru+xml":["sru"],"application/ssdl+xml":["ssdl"],"application/ssml+xml":["ssml"],"application/tei+xml":["tei","teicorpus"],"application/thraud+xml":["tfi"],"application/timestamped-data":["tsd"],"application/voicexml+xml":["vxml"],"application/wasm":["wasm"],"application/widget":["wgt"],"application/winhlp":["hlp"],"application/wsdl+xml":["wsdl"],"application/wspolicy+xml":["wspolicy"],"application/xaml+xml":["xaml"],"application/xcap-diff+xml":["xdf"],"application/xenc+xml":["xenc"],"application/xhtml+xml":["xhtml","xht"],"application/xml":["xml","xsl","xsd","rng"],"application/xml-dtd":["dtd"],"application/xop+xml":["xop"],"application/xproc+xml":["xpl"],"application/xslt+xml":["xslt"],"application/xspf+xml":["xspf"],"application/xv+xml":["mxml","xhvml","xvml","xvm"],"application/yang":["yang"],"application/yin+xml":["yin"],"application/zip":["zip"],"audio/3gpp":["*3gpp"],"audio/adpcm":["adp"],"audio/basic":["au","snd"],"audio/midi":["mid","midi","kar","rmi"],"audio/mp3":["*mp3"],"audio/mp4":["m4a","mp4a"],"audio/mpeg":["mpga","mp2","mp2a","mp3","m2a","m3a"],"audio/ogg":["oga","ogg","spx"],"audio/s3m":["s3m"],"audio/silk":["sil"],"audio/wav":["wav"],"audio/wave":["*wav"],"audio/webm":["weba"],"audio/xm":["xm"],"font/collection":["ttc"],"font/otf":["otf"],"font/ttf":["ttf"],"font/woff":["woff"],"font/woff2":["woff2"],"image/aces":["exr"],"image/apng":["apng"],"image/bmp":["bmp"],"image/cgm":["cgm"],"image/dicom-rle":["drle"],"image/emf":["emf"],"image/fits":["fits"],"image/g3fax":["g3"],"image/gif":["gif"],"image/heic":["heic"],"image/heic-sequence":["heics"],"image/heif":["heif"],"image/heif-sequence":["heifs"],"image/ief":["ief"],"image/jls":["jls"],"image/jp2":["jp2","jpg2"],"image/jpeg":["jpeg","jpg","jpe"],"image/jpm":["jpm"],"image/jpx":["jpx","jpf"],"image/jxr":["jxr"],"image/ktx":["ktx"],"image/png":["png"],"image/sgi":["sgi"],"image/svg+xml":["svg","svgz"],"image/t38":["t38"],"image/tiff":["tif","tiff"],"image/tiff-fx":["tfx"],"image/webp":["webp"],"image/wmf":["wmf"],"message/disposition-notification":["disposition-notification"],"message/global":["u8msg"],"message/global-delivery-status":["u8dsn"],"message/global-disposition-notification":["u8mdn"],"message/global-headers":["u8hdr"],"message/rfc822":["eml","mime"],"model/3mf":["3mf"],"model/gltf+json":["gltf"],"model/gltf-binary":["glb"],"model/iges":["igs","iges"],"model/mesh":["msh","mesh","silo"],"model/stl":["stl"],"model/vrml":["wrl","vrml"],"model/x3d+binary":["*x3db","x3dbz"],"model/x3d+fastinfoset":["x3db"],"model/x3d+vrml":["*x3dv","x3dvz"],"model/x3d+xml":["x3d","x3dz"],"model/x3d-vrml":["x3dv"],"text/cache-manifest":["appcache","manifest"],"text/calendar":["ics","ifb"],"text/coffeescript":["coffee","litcoffee"],"text/css":["css"],"text/csv":["csv"],"text/html":["html","htm","shtml"],"text/jade":["jade"],"text/jsx":["jsx"],"text/less":["less"],"text/markdown":["markdown","md"],"text/mathml":["mml"],"text/mdx":["mdx"],"text/n3":["n3"],"text/plain":["txt","text","conf","def","list","log","in","ini"],"text/richtext":["rtx"],"text/rtf":["*rtf"],"text/sgml":["sgml","sgm"],"text/shex":["shex"],"text/slim":["slim","slm"],"text/stylus":["stylus","styl"],"text/tab-separated-values":["tsv"],"text/troff":["t","tr","roff","man","me","ms"],"text/turtle":["ttl"],"text/uri-list":["uri","uris","urls"],"text/vcard":["vcard"],"text/vtt":["vtt"],"text/xml":["*xml"],"text/yaml":["yaml","yml"],"video/3gpp":["3gp","3gpp"],"video/3gpp2":["3g2"],"video/h261":["h261"],"video/h263":["h263"],"video/h264":["h264"],"video/jpeg":["jpgv"],"video/jpm":["*jpm","jpgm"],"video/mj2":["mj2","mjp2"],"video/mp2t":["ts"],"video/mp4":["mp4","mp4v","mpg4"],"video/mpeg":["mpeg","mpg","mpe","m1v","m2v"],"video/ogg":["ogv"],"video/quicktime":["qt","mov"],"video/webm":["webm"]});function rt(e){async function t(e,t,n,a){t.params=e.params(e.pattern.exec(t.path));const s=t.method.toLowerCase(),o="delete"===s?"del":s,i=e.handlers[o];if(i){if(process.env.SAPPER_EXPORT){const{write:e,end:a,setHeader:s}=n,o=[],i={};n.write=function(t){o.push(Buffer.from(t)),e.apply(n,arguments)},n.setHeader=function(e,t){i[e.toLowerCase()]=t,s.apply(n,arguments)},n.end=function(e){e&&o.push(Buffer.from(e)),a.apply(n,arguments),process.send({__sapper__:!0,event:"file",url:t.url,method:t.method,status:n.statusCode,type:i["content-type"],body:Buffer.concat(o).toString()})}}const e=e=>{e?(n.statusCode=500,n.end(e.message)):process.nextTick(a)};try{await i(t,n,e)}catch(t){console.error(t),e(t)}}else process.nextTick(a)}return function(n,a,s){for(const o of e)if(o.pattern.test(n.path))return void t(o,n,a,s);s()}}
/*!
 * cookie
 * Copyright(c) 2012-2014 Roman Shtylman
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */var lt=function(e,t){if("string"!=typeof e)throw new TypeError("argument str must be a string");for(var n={},a=t||{},s=e.split(ut),o=a.decode||dt,i=0;i<s.length;i++){var r=s[i],l=r.indexOf("=");if(!(l<0)){var c=r.substr(0,l).trim(),d=r.substr(++l,r.length).trim();'"'==d[0]&&(d=d.slice(1,-1)),null==n[c]&&(n[c]=ht(d,o))}}return n},ct=function(e,t,n){var a=n||{},s=a.encode||At;if("function"!=typeof s)throw new TypeError("option encode is invalid");if(!pt.test(e))throw new TypeError("argument name is invalid");var o=s(t);if(o&&!pt.test(o))throw new TypeError("argument val is invalid");var i=e+"="+o;if(null!=a.maxAge){var r=a.maxAge-0;if(isNaN(r))throw new Error("maxAge should be a Number");i+="; Max-Age="+Math.floor(r)}if(a.domain){if(!pt.test(a.domain))throw new TypeError("option domain is invalid");i+="; Domain="+a.domain}if(a.path){if(!pt.test(a.path))throw new TypeError("option path is invalid");i+="; Path="+a.path}if(a.expires){if("function"!=typeof a.expires.toUTCString)throw new TypeError("option expires is invalid");i+="; Expires="+a.expires.toUTCString()}a.httpOnly&&(i+="; HttpOnly");a.secure&&(i+="; Secure");if(a.sameSite){switch("string"==typeof a.sameSite?a.sameSite.toLowerCase():a.sameSite){case!0:i+="; SameSite=Strict";break;case"lax":i+="; SameSite=Lax";break;case"strict":i+="; SameSite=Strict";break;case"none":i+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return i},dt=decodeURIComponent,At=encodeURIComponent,ut=/; */,pt=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function ht(e,t){try{return t(e)}catch(t){return e}}var mt={parse:lt,serialize:ct},ft="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_$",Ct=/[<>\b\f\n\r\t\0\u2028\u2029]/g,vt=/^(?:do|if|in|for|int|let|new|try|var|byte|case|char|else|enum|goto|long|this|void|with|await|break|catch|class|const|final|float|short|super|throw|while|yield|delete|double|export|import|native|return|switch|throws|typeof|boolean|default|extends|finally|package|private|abstract|continue|debugger|function|volatile|interface|protected|transient|implements|instanceof|synchronized)$/,bt={"<":"\\u003C",">":"\\u003E","/":"\\u002F","\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\0":"\\0","\u2028":"\\u2028","\u2029":"\\u2029"},gt=Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function yt(e){var t=new Map;!function e(n){if("function"==typeof n)throw new Error("Cannot stringify a function");if(t.has(n))t.set(n,t.get(n)+1);else if(t.set(n,1),!wt(n))switch(_t(n)){case"Number":case"String":case"Boolean":case"Date":case"RegExp":return;case"Array":n.forEach(e);break;case"Set":case"Map":Array.from(n).forEach(e);break;default:var a=Object.getPrototypeOf(n);if(a!==Object.prototype&&null!==a&&Object.getOwnPropertyNames(a).sort().join("\0")!==gt)throw new Error("Cannot stringify arbitrary non-POJOs");if(Object.getOwnPropertySymbols(n).length>0)throw new Error("Cannot stringify POJOs with symbolic keys");Object.keys(n).forEach((function(t){return e(n[t])}))}}(e);var n=new Map;function a(e){if(n.has(e))return n.get(e);if(wt(e))return xt(e);var t=_t(e);switch(t){case"Number":case"String":case"Boolean":return"Object("+a(e.valueOf())+")";case"RegExp":return e.toString();case"Date":return"new Date("+e.getTime()+")";case"Array":var s=e.map((function(t,n){return n in e?a(t):""})),o=0===e.length||e.length-1 in e?"":",";return"["+s.join(",")+o+"]";case"Set":case"Map":return"new "+t+"(["+Array.from(e).map(a).join(",")+"])";default:var i="{"+Object.keys(e).map((function(t){return function(e){return/^[_$a-zA-Z][_$a-zA-Z0-9]*$/.test(e)?e:kt(JSON.stringify(e))}(t)+":"+a(e[t])})).join(",")+"}";return null===Object.getPrototypeOf(e)?Object.keys(e).length>0?"Object.assign(Object.create(null),"+i+")":"Object.create(null)":i}}Array.from(t).filter((function(e){return e[1]>1})).sort((function(e,t){return t[1]-e[1]})).forEach((function(e,t){n.set(e[0],function(e){var t="";do{t=ft[e%ft.length]+t,e=~~(e/ft.length)-1}while(e>=0);return vt.test(t)?t+"_":t}(t))}));var s=a(e);if(n.size){var o=[],i=[],r=[];return n.forEach((function(e,t){if(o.push(e),wt(t))r.push(xt(t));else switch(_t(t)){case"Number":case"String":case"Boolean":r.push("Object("+a(t.valueOf())+")");break;case"RegExp":r.push(t.toString());break;case"Date":r.push("new Date("+t.getTime()+")");break;case"Array":r.push("Array("+t.length+")"),t.forEach((function(t,n){i.push(e+"["+n+"]="+a(t))}));break;case"Set":r.push("new Set"),i.push(e+"."+Array.from(t).map((function(e){return"add("+a(e)+")"})).join("."));break;case"Map":r.push("new Map"),i.push(e+"."+Array.from(t).map((function(e){var t=e[0],n=e[1];return"set("+a(t)+", "+a(n)+")"})).join("."));break;default:r.push(null===Object.getPrototypeOf(t)?"Object.create(null)":"{}"),Object.keys(t).forEach((function(n){i.push(""+e+function(e){return/^[_$a-zA-Z][_$a-zA-Z0-9]*$/.test(e)?"."+e:"["+kt(JSON.stringify(e))+"]"}(n)+"="+a(t[n]))}))}})),i.push("return "+s),"(function("+o.join(",")+"){"+i.join(";")+"}("+r.join(",")+"))"}return s}function wt(e){return Object(e)!==e}function xt(e){if("string"==typeof e)return function(e){for(var t='"',n=0;n<e.length;n+=1){var a=e.charAt(n),s=a.charCodeAt(0);if('"'===a)t+='\\"';else if(a in bt)t+=bt[a];else if(s>=55296&&s<=57343){var o=e.charCodeAt(n+1);t+=s<=56319&&o>=56320&&o<=57343?a+e[++n]:"\\u"+s.toString(16).toUpperCase()}else t+=a}return t+='"'}(e);if(void 0===e)return"void 0";if(0===e&&1/e<0)return"-0";var t=String(e);return"number"==typeof e?t.replace(/^(-)?0\./,"$1."):t}function _t(e){return Object.prototype.toString.call(e).slice(8,-1)}function Et(e){return bt[e]||e}function kt(e){return e.replace(Ct,Et)}const St=Qe.Readable,Tt=Symbol("buffer"),$t=Symbol("type");class Bt{constructor(){this[$t]="";const e=arguments[0],t=arguments[1],n=[];let a=0;if(e){const t=e,s=Number(t.length);for(let e=0;e<s;e++){const s=t[e];let o;o=s instanceof Buffer?s:ArrayBuffer.isView(s)?Buffer.from(s.buffer,s.byteOffset,s.byteLength):s instanceof ArrayBuffer?Buffer.from(s):s instanceof Bt?s[Tt]:Buffer.from("string"==typeof s?s:String(s)),a+=o.length,n.push(o)}}this[Tt]=Buffer.concat(n);let s=t&&void 0!==t.type&&String(t.type).toLowerCase();s&&!/[^\u0020-\u007E]/.test(s)&&(this[$t]=s)}get size(){return this[Tt].length}get type(){return this[$t]}text(){return Promise.resolve(this[Tt].toString())}arrayBuffer(){const e=this[Tt],t=e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength);return Promise.resolve(t)}stream(){const e=new St;return e._read=function(){},e.push(this[Tt]),e.push(null),e}toString(){return"[object Blob]"}slice(){const e=this.size,t=arguments[0],n=arguments[1];let a,s;a=void 0===t?0:t<0?Math.max(e+t,0):Math.min(t,e),s=void 0===n?e:n<0?Math.max(e+n,0):Math.min(n,e);const o=Math.max(s-a,0),i=this[Tt].slice(a,a+o),r=new Bt([],{type:arguments[2]});return r[Tt]=i,r}}function It(e,t,n){Error.call(this,e),this.message=e,this.type=t,n&&(this.code=this.errno=n.code),Error.captureStackTrace(this,this.constructor)}let Ot;Object.defineProperties(Bt.prototype,{size:{enumerable:!0},type:{enumerable:!0},slice:{enumerable:!0}}),Object.defineProperty(Bt.prototype,Symbol.toStringTag,{value:"Blob",writable:!1,enumerable:!1,configurable:!0}),It.prototype=Object.create(Error.prototype),It.prototype.constructor=It,It.prototype.name="FetchError";try{Ot=require("encoding").convert}catch(e){}const Mt=Symbol("Body internals"),jt=Qe.PassThrough;function Dt(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=n.size;let s=void 0===a?0:a;var o=n.timeout;let i=void 0===o?0:o;null==e?e=null:Pt(e)?e=Buffer.from(e.toString()):Nt(e)||Buffer.isBuffer(e)||("[object ArrayBuffer]"===Object.prototype.toString.call(e)?e=Buffer.from(e):ArrayBuffer.isView(e)?e=Buffer.from(e.buffer,e.byteOffset,e.byteLength):e instanceof Qe||(e=Buffer.from(String(e)))),this[Mt]={body:e,disturbed:!1,error:null},this.size=s,this.timeout=i,e instanceof Qe&&e.on("error",(function(e){const n="AbortError"===e.name?e:new It(`Invalid response body while trying to fetch ${t.url}: ${e.message}`,"system",e);t[Mt].error=n}))}function zt(){var e=this;if(this[Mt].disturbed)return Dt.Promise.reject(new TypeError("body used already for: "+this.url));if(this[Mt].disturbed=!0,this[Mt].error)return Dt.Promise.reject(this[Mt].error);let t=this.body;if(null===t)return Dt.Promise.resolve(Buffer.alloc(0));if(Nt(t)&&(t=t.stream()),Buffer.isBuffer(t))return Dt.Promise.resolve(t);if(!(t instanceof Qe))return Dt.Promise.resolve(Buffer.alloc(0));let n=[],a=0,s=!1;return new Dt.Promise((function(o,i){let r;e.timeout&&(r=setTimeout((function(){s=!0,i(new It(`Response timeout while trying to fetch ${e.url} (over ${e.timeout}ms)`,"body-timeout"))}),e.timeout)),t.on("error",(function(t){"AbortError"===t.name?(s=!0,i(t)):i(new It(`Invalid response body while trying to fetch ${e.url}: ${t.message}`,"system",t))})),t.on("data",(function(t){if(!s&&null!==t){if(e.size&&a+t.length>e.size)return s=!0,void i(new It(`content size at ${e.url} over limit: ${e.size}`,"max-size"));a+=t.length,n.push(t)}})),t.on("end",(function(){if(!s){clearTimeout(r);try{o(Buffer.concat(n,a))}catch(t){i(new It(`Could not create Buffer from response body for ${e.url}: ${t.message}`,"system",t))}}}))}))}function Pt(e){return"object"==typeof e&&"function"==typeof e.append&&"function"==typeof e.delete&&"function"==typeof e.get&&"function"==typeof e.getAll&&"function"==typeof e.has&&"function"==typeof e.set&&("URLSearchParams"===e.constructor.name||"[object URLSearchParams]"===Object.prototype.toString.call(e)||"function"==typeof e.sort)}function Nt(e){return"object"==typeof e&&"function"==typeof e.arrayBuffer&&"string"==typeof e.type&&"function"==typeof e.stream&&"function"==typeof e.constructor&&"string"==typeof e.constructor.name&&/^(Blob|File)$/.test(e.constructor.name)&&/^(Blob|File)$/.test(e[Symbol.toStringTag])}function Rt(e){let t,n,a=e.body;if(e.bodyUsed)throw new Error("cannot clone body after it is used");return a instanceof Qe&&"function"!=typeof a.getBoundary&&(t=new jt,n=new jt,a.pipe(t),a.pipe(n),e[Mt].body=t,a=n),a}function Kt(e){return null===e?null:"string"==typeof e?"text/plain;charset=UTF-8":Pt(e)?"application/x-www-form-urlencoded;charset=UTF-8":Nt(e)?e.type||null:Buffer.isBuffer(e)||"[object ArrayBuffer]"===Object.prototype.toString.call(e)||ArrayBuffer.isView(e)?null:"function"==typeof e.getBoundary?"multipart/form-data;boundary="+e.getBoundary():e instanceof Qe?null:"text/plain;charset=UTF-8"}function Ut(e){const t=e.body;return null===t?0:Nt(t)?t.size:Buffer.isBuffer(t)?t.length:t&&"function"==typeof t.getLengthSync&&(t._lengthRetrievers&&0==t._lengthRetrievers.length||t.hasKnownLength&&t.hasKnownLength())?t.getLengthSync():null}Dt.prototype={get body(){return this[Mt].body},get bodyUsed(){return this[Mt].disturbed},arrayBuffer(){return zt.call(this).then((function(e){return e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}))},blob(){let e=this.headers&&this.headers.get("content-type")||"";return zt.call(this).then((function(t){return Object.assign(new Bt([],{type:e.toLowerCase()}),{[Tt]:t})}))},json(){var e=this;return zt.call(this).then((function(t){try{return JSON.parse(t.toString())}catch(t){return Dt.Promise.reject(new It(`invalid json response body at ${e.url} reason: ${t.message}`,"invalid-json"))}}))},text(){return zt.call(this).then((function(e){return e.toString()}))},buffer(){return zt.call(this)},textConverted(){var e=this;return zt.call(this).then((function(t){return function(e,t){if("function"!=typeof Ot)throw new Error("The package `encoding` must be installed to use the textConverted() function");const n=t.get("content-type");let a,s,o="utf-8";n&&(a=/charset=([^;]*)/i.exec(n));s=e.slice(0,1024).toString(),!a&&s&&(a=/<meta.+?charset=(['"])(.+?)\1/i.exec(s));!a&&s&&(a=/<meta[\s]+?http-equiv=(['"])content-type\1[\s]+?content=(['"])(.+?)\2/i.exec(s),a&&(a=/charset=(.*)/i.exec(a.pop())));!a&&s&&(a=/<\?xml.+?encoding=(['"])(.+?)\1/i.exec(s));a&&(o=a.pop(),"gb2312"!==o&&"gbk"!==o||(o="gb18030"));return Ot(e,"UTF-8",o).toString()}(t,e.headers)}))}},Object.defineProperties(Dt.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},blob:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0}}),Dt.mixIn=function(e){for(const t of Object.getOwnPropertyNames(Dt.prototype))if(!(t in e)){const n=Object.getOwnPropertyDescriptor(Dt.prototype,t);Object.defineProperty(e,t,n)}},Dt.Promise=global.Promise;const Gt=/[^\^_`a-zA-Z\-0-9!#$%&'*+.|~]/,qt=/[^\t\x20-\x7e\x80-\xff]/;function Ft(e){if(e=""+e,Gt.test(e)||""===e)throw new TypeError(e+" is not a legal HTTP header name")}function Lt(e){if(e=""+e,qt.test(e))throw new TypeError(e+" is not a legal HTTP header value")}function Wt(e,t){t=t.toLowerCase();for(const n in e)if(n.toLowerCase()===t)return n}const Ht=Symbol("map");class Vt{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(this[Ht]=Object.create(null),e instanceof Vt){const t=e.raw(),n=Object.keys(t);for(const e of n)for(const n of t[e])this.append(e,n)}else if(null==e);else{if("object"!=typeof e)throw new TypeError("Provided initializer must be an object");{const t=e[Symbol.iterator];if(null!=t){if("function"!=typeof t)throw new TypeError("Header pairs must be iterable");const n=[];for(const t of e){if("object"!=typeof t||"function"!=typeof t[Symbol.iterator])throw new TypeError("Each header pair must be iterable");n.push(Array.from(t))}for(const e of n){if(2!==e.length)throw new TypeError("Each header pair must be a name/value tuple");this.append(e[0],e[1])}}else for(const t of Object.keys(e)){const n=e[t];this.append(t,n)}}}}get(e){Ft(e=""+e);const t=Wt(this[Ht],e);return void 0===t?null:this[Ht][t].join(", ")}forEach(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=Yt(this),a=0;for(;a<n.length;){var s=n[a];const o=s[0],i=s[1];e.call(t,i,o,this),n=Yt(this),a++}}set(e,t){t=""+t,Ft(e=""+e),Lt(t);const n=Wt(this[Ht],e);this[Ht][void 0!==n?n:e]=[t]}append(e,t){t=""+t,Ft(e=""+e),Lt(t);const n=Wt(this[Ht],e);void 0!==n?this[Ht][n].push(t):this[Ht][e]=[t]}has(e){return Ft(e=""+e),void 0!==Wt(this[Ht],e)}delete(e){Ft(e=""+e);const t=Wt(this[Ht],e);void 0!==t&&delete this[Ht][t]}raw(){return this[Ht]}keys(){return Xt(this,"key")}values(){return Xt(this,"value")}[Symbol.iterator](){return Xt(this,"key+value")}}function Yt(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"key+value";const n=Object.keys(e[Ht]).sort();return n.map("key"===t?function(e){return e.toLowerCase()}:"value"===t?function(t){return e[Ht][t].join(", ")}:function(t){return[t.toLowerCase(),e[Ht][t].join(", ")]})}Vt.prototype.entries=Vt.prototype[Symbol.iterator],Object.defineProperty(Vt.prototype,Symbol.toStringTag,{value:"Headers",writable:!1,enumerable:!1,configurable:!0}),Object.defineProperties(Vt.prototype,{get:{enumerable:!0},forEach:{enumerable:!0},set:{enumerable:!0},append:{enumerable:!0},has:{enumerable:!0},delete:{enumerable:!0},keys:{enumerable:!0},values:{enumerable:!0},entries:{enumerable:!0}});const Jt=Symbol("internal");function Xt(e,t){const n=Object.create(Qt);return n[Jt]={target:e,kind:t,index:0},n}const Qt=Object.setPrototypeOf({next(){if(!this||Object.getPrototypeOf(this)!==Qt)throw new TypeError("Value of `this` is not a HeadersIterator");var e=this[Jt];const t=e.target,n=e.kind,a=e.index,s=Yt(t,n);return a>=s.length?{value:void 0,done:!0}:(this[Jt].index=a+1,{value:s[a],done:!1})}},Object.getPrototypeOf(Object.getPrototypeOf([][Symbol.iterator]())));function Zt(e){const t=Object.assign({__proto__:null},e[Ht]),n=Wt(e[Ht],"Host");return void 0!==n&&(t[n]=t[n][0]),t}Object.defineProperty(Qt,Symbol.toStringTag,{value:"HeadersIterator",writable:!1,enumerable:!1,configurable:!0});const en=Symbol("Response internals"),tn=Ze.STATUS_CODES;class nn{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Dt.call(this,e,t);const n=t.status||200,a=new Vt(t.headers);if(null!=e&&!a.has("Content-Type")){const t=Kt(e);t&&a.append("Content-Type",t)}this[en]={url:t.url,status:n,statusText:t.statusText||tn[n],headers:a,counter:t.counter}}get url(){return this[en].url||""}get status(){return this[en].status}get ok(){return this[en].status>=200&&this[en].status<300}get redirected(){return this[en].counter>0}get statusText(){return this[en].statusText}get headers(){return this[en].headers}clone(){return new nn(Rt(this),{url:this.url,status:this.status,statusText:this.statusText,headers:this.headers,ok:this.ok,redirected:this.redirected})}}Dt.mixIn(nn.prototype),Object.defineProperties(nn.prototype,{url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}}),Object.defineProperty(nn.prototype,Symbol.toStringTag,{value:"Response",writable:!1,enumerable:!1,configurable:!0});const an=Symbol("Request internals"),sn=et.parse,on=et.format,rn="destroy"in Qe.Readable.prototype;function ln(e){return"object"==typeof e&&"object"==typeof e[an]}class cn{constructor(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};ln(e)?t=sn(e.url):(t=e&&e.href?sn(e.href):sn(""+e),e={});let a=n.method||e.method||"GET";if(a=a.toUpperCase(),(null!=n.body||ln(e)&&null!==e.body)&&("GET"===a||"HEAD"===a))throw new TypeError("Request with GET/HEAD method cannot have body");let s=null!=n.body?n.body:ln(e)&&null!==e.body?Rt(e):null;Dt.call(this,s,{timeout:n.timeout||e.timeout||0,size:n.size||e.size||0});const o=new Vt(n.headers||e.headers||{});if(null!=s&&!o.has("Content-Type")){const e=Kt(s);e&&o.append("Content-Type",e)}let i=ln(e)?e.signal:null;if("signal"in n&&(i=n.signal),null!=i&&!function(e){const t=e&&"object"==typeof e&&Object.getPrototypeOf(e);return!(!t||"AbortSignal"!==t.constructor.name)}(i))throw new TypeError("Expected signal to be an instanceof AbortSignal");this[an]={method:a,redirect:n.redirect||e.redirect||"follow",headers:o,parsedURL:t,signal:i},this.follow=void 0!==n.follow?n.follow:void 0!==e.follow?e.follow:20,this.compress=void 0!==n.compress?n.compress:void 0===e.compress||e.compress,this.counter=n.counter||e.counter||0,this.agent=n.agent||e.agent}get method(){return this[an].method}get url(){return on(this[an].parsedURL)}get headers(){return this[an].headers}get redirect(){return this[an].redirect}get signal(){return this[an].signal}clone(){return new cn(this)}}function dn(e){Error.call(this,e),this.type="aborted",this.message=e,Error.captureStackTrace(this,this.constructor)}Dt.mixIn(cn.prototype),Object.defineProperty(cn.prototype,Symbol.toStringTag,{value:"Request",writable:!1,enumerable:!1,configurable:!0}),Object.defineProperties(cn.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0}}),dn.prototype=Object.create(Error.prototype),dn.prototype.constructor=dn,dn.prototype.name="AbortError";const An=Qe.PassThrough,un=et.resolve;function pn(e,t){if(!pn.Promise)throw new Error("native promise missing, set fetch.Promise to your favorite alternative");return Dt.Promise=pn.Promise,new pn.Promise((function(n,a){const s=new cn(e,t),o=function(e){const t=e[an].parsedURL,n=new Vt(e[an].headers);if(n.has("Accept")||n.set("Accept","*/*"),!t.protocol||!t.hostname)throw new TypeError("Only absolute URLs are supported");if(!/^https?:$/.test(t.protocol))throw new TypeError("Only HTTP(S) protocols are supported");if(e.signal&&e.body instanceof Qe.Readable&&!rn)throw new Error("Cancellation of streamed requests with AbortSignal is not supported in node < 8");let a=null;if(null==e.body&&/^(POST|PUT)$/i.test(e.method)&&(a="0"),null!=e.body){const t=Ut(e);"number"==typeof t&&(a=String(t))}a&&n.set("Content-Length",a),n.has("User-Agent")||n.set("User-Agent","node-fetch/1.0 (+https://github.com/bitinn/node-fetch)"),e.compress&&!n.has("Accept-Encoding")&&n.set("Accept-Encoding","gzip,deflate");let s=e.agent;return"function"==typeof s&&(s=s(t)),n.has("Connection")||s||n.set("Connection","close"),Object.assign({},t,{method:e.method,headers:Zt(n),agent:s})}(s),i=("https:"===o.protocol?tt:Ze).request,r=s.signal;let l=null;const c=function(){let e=new dn("The user aborted a request.");a(e),s.body&&s.body instanceof Qe.Readable&&s.body.destroy(e),l&&l.body&&l.body.emit("error",e)};if(r&&r.aborted)return void c();const d=function(){c(),p()},A=i(o);let u;function p(){A.abort(),r&&r.removeEventListener("abort",d),clearTimeout(u)}r&&r.addEventListener("abort",d),s.timeout&&A.once("socket",(function(e){u=setTimeout((function(){a(new It("network timeout at: "+s.url,"request-timeout")),p()}),s.timeout)})),A.on("error",(function(e){a(new It(`request to ${s.url} failed, reason: ${e.message}`,"system",e)),p()})),A.on("response",(function(e){clearTimeout(u);const t=function(e){const t=new Vt;for(const n of Object.keys(e))if(!Gt.test(n))if(Array.isArray(e[n]))for(const a of e[n])qt.test(a)||(void 0===t[Ht][n]?t[Ht][n]=[a]:t[Ht][n].push(a));else qt.test(e[n])||(t[Ht][n]=[e[n]]);return t}(e.headers);if(pn.isRedirect(e.statusCode)){const o=t.get("Location"),i=null===o?null:un(s.url,o);switch(s.redirect){case"error":return a(new It("redirect mode is set to error: "+s.url,"no-redirect")),void p();case"manual":if(null!==i)try{t.set("Location",i)}catch(e){a(e)}break;case"follow":if(null===i)break;if(s.counter>=s.follow)return a(new It("maximum redirect reached at: "+s.url,"max-redirect")),void p();const o={headers:new Vt(s.headers),follow:s.follow,counter:s.counter+1,agent:s.agent,compress:s.compress,method:s.method,body:s.body,signal:s.signal,timeout:s.timeout};return 303!==e.statusCode&&s.body&&null===Ut(s)?(a(new It("Cannot follow redirect with body being a readable stream","unsupported-redirect")),void p()):(303!==e.statusCode&&(301!==e.statusCode&&302!==e.statusCode||"POST"!==s.method)||(o.method="GET",o.body=void 0,o.headers.delete("content-length")),n(pn(new cn(i,o))),void p())}}e.once("end",(function(){r&&r.removeEventListener("abort",d)}));let o=e.pipe(new An);const i={url:s.url,status:e.statusCode,statusText:e.statusMessage,headers:t,size:s.size,timeout:s.timeout,counter:s.counter},c=t.get("Content-Encoding");if(!s.compress||"HEAD"===s.method||null===c||204===e.statusCode||304===e.statusCode)return l=new nn(o,i),void n(l);const A={flush:nt.Z_SYNC_FLUSH,finishFlush:nt.Z_SYNC_FLUSH};if("gzip"==c||"x-gzip"==c)return o=o.pipe(nt.createGunzip(A)),l=new nn(o,i),void n(l);if("deflate"!=c&&"x-deflate"!=c){if("br"==c&&"function"==typeof nt.createBrotliDecompress)return o=o.pipe(nt.createBrotliDecompress()),l=new nn(o,i),void n(l);l=new nn(o,i),n(l)}else{e.pipe(new An).once("data",(function(e){o=8==(15&e[0])?o.pipe(nt.createInflate()):o.pipe(nt.createInflateRaw()),l=new nn(o,i),n(l)}))}})),function(e,t){const n=t.body;null===n?e.end():Nt(n)?n.stream().pipe(e):Buffer.isBuffer(n)?(e.write(n),e.end()):n.pipe(e)}(A,s)}))}function hn(e,t){const n=(a=JSON.parse(s.readFileSync(o.join(Xe,"build.json"),"utf-8")),()=>a);var a;const i=(r=mn(Xe),()=>r);var r;const l=s.existsSync(o.join(Xe,"service-worker.js")),{server_routes:c,pages:d}=e,A=e.error;function u(e,t,n){console.error(n);t.statusCode=500,t.end("<pre>Internal server error</pre>")}function p(e,t,n,a){h({pattern:null,parts:[{name:null,component:A}]},e,t,n,a||new Error("Unknown error in preload function"))}async function h(a,s,o,r=200,c=null){const d="/service-worker-index.html"===s.path,A=n();o.setHeader("Content-Type","text/html"),o.setHeader("Cache-Control","max-age=600");let h,m,f,C=Array.isArray(A.assets.main)?A.assets.main:[A.assets.main];if(c||d||a.parts.forEach(e=>{e&&(C=C.concat(A.assets[e.name]))}),"rollup"===A.bundler){const e=C.filter(e=>e&&!e.match(/\.map$/)).map(e=>`<${s.baseUrl}/client/${e}>;rel="modulepreload"`).join(", ");o.setHeader("Link",e)}else{const e=C.filter(e=>e&&!e.match(/\.map$/)).map(e=>{const t=/\.css$/.test(e)?"style":"script";return`<${s.baseUrl}/client/${e}>;rel="preload";as="${t}"`}).join(", ");o.setHeader("Link",e)}try{h=await t(s,o)}catch(e){return u(0,o,e)}const v={redirect:(e,t)=>{if(m&&(m.statusCode!==e||m.location!==t))throw new Error("Conflicting redirects");t=t.replace(/^\//g,""),m={statusCode:e,location:t}},error:(e,t)=>{f={statusCode:e,message:t}},fetch:(e,t)=>{const n=new et.URL(e,`http://127.0.0.1:${process.env.PORT}${s.baseUrl?s.baseUrl+"/":""}`);if("include"===(t=Object.assign({},t)).credentials||"omit"!==t.credentials&&n.origin==="http://127.0.0.1:"+process.env.PORT){t.headers=Object.assign({},t.headers);const e=Object.assign({},mt.parse(s.headers.cookie||""),mt.parse(t.headers.cookie||"")),n=o.getHeader("Set-Cookie");(Array.isArray(n)?n:[n]).forEach(t=>{const n=/([^=]+)=([^;]+)/.exec(t);n&&(e[n[1]]=n[2])});const a=Object.keys(e).map(t=>`${t}=${e[t]}`).join("; ");t.headers.cookie=a,!t.headers.authorization&&s.headers.authorization&&(t.headers.authorization=s.headers.authorization)}return pn(n.href,t)}};let b,g,y;try{const t=e.root_preload?e.root_preload.call(v,{host:s.headers.host,path:s.path,query:s.query,params:{}},h):{};g=c?null:a.pattern.exec(s.path);let n=[t];d||(n=n.concat(a.parts.map(e=>e?(y=e.params?e.params(g):{},e.preload?e.preload.call(v,{host:s.headers.host,path:s.path,query:s.query,params:y},h):{}):null))),b=await Promise.all(n)}catch(e){if(c)return u(0,o,e);f={statusCode:500,message:e},b=[]}try{if(m){const e=et.resolve((s.baseUrl||"")+"/",m.location);return o.statusCode=m.statusCode,o.setHeader("Location",e),void o.end()}if(f)return void p(s,o,f.statusCode,f.message);const e=s.path.split("/").filter(Boolean),t=[e[0]];let n=1;a.parts.forEach((a,s)=>{if(t[n]=e[s+1],!a)return null;n++});const u={stores:{page:{subscribe:z({host:s.headers.host,path:s.path,query:s.query,params:y}).subscribe},preloading:{subscribe:z(null).subscribe},session:z(h)},segments:t,status:c?r:200,error:c?c instanceof Error?c:{message:c}:null,level0:{props:b[0]},level1:{segment:e[0],props:{}}};if(!d){let t=1;for(let n=0;n<a.parts.length;n+=1){const s=a.parts[n];s&&(u["level"+t++]={component:s.component,props:b[n+1]||{},segment:e[n]})}}const{html:C,head:v,css:g}=st.render(u),w={preloaded:`[${b.map(e=>fn(e)).join(",")}]`,session:h&&fn(h,e=>{throw new Error("Failed to serialize session data: "+e.message)}),error:c&&Cn(u.error)};let x=`__SAPPER__={${[c&&`error:${w.error},status:${r}`,`baseUrl:"${s.baseUrl}"`,w.preloaded&&"preloaded:"+w.preloaded,w.session&&"session:"+w.session].filter(Boolean).join(",")}};`;l&&(x+=`if('serviceWorker' in navigator)navigator.serviceWorker.register('${s.baseUrl}/service-worker.js');`);const _=[].concat(A.assets.main).filter(e=>e&&/\.js$/.test(e))[0],E=`${s.baseUrl}/client/${_}`;if("rollup"===A.bundler)if(A.legacy_assets){const e=`${s.baseUrl}/client/legacy/${A.legacy_assets.main}`;x+=`(function(){try{eval("async function x(){}");var main="${E}"}catch(e){main="${e}"};var s=document.createElement("script");try{new Function("if(0)import('')")();s.src=main;s.type="module";s.crossOrigin="use-credentials";}catch(e){s.src="${s.baseUrl}/client/shimport@${A.shimport}.js";s.setAttribute("data-main",main);}document.head.appendChild(s);}());`}else x+=`var s=document.createElement("script");try{new Function("if(0)import('')")();s.src="${E}";s.type="module";s.crossOrigin="use-credentials";}catch(e){s.src="${s.baseUrl}/client/shimport@${A.shimport}.js";s.setAttribute("data-main","${E}")}document.head.appendChild(s)`;else x+=`<\/script><script src="${E}">`;let k;if(A.css&&A.css.main){const e=new Set;A.css.main&&e.add(A.css.main),a.parts.forEach(t=>{if(!t)return;const n=A.css.chunks[t.file];n&&n.forEach(t=>{e.add(t)})}),k=Array.from(e).map(e=>`<link rel="stylesheet" href="client/${e}">`).join("")}else k=g&&g.code?`<style>${g.code}</style>`:"";const S=o.locals&&o.locals.nonce?` nonce="${o.locals.nonce}"`:"",T=i().replace("%sapper.base%",()=>`<base href="${s.baseUrl}/">`).replace("%sapper.scripts%",()=>`<script${S}>${x}<\/script>`).replace("%sapper.html%",()=>C).replace("%sapper.head%",()=>`<noscript id='sapper-head-start'></noscript>${v}<noscript id='sapper-head-end'></noscript>`).replace("%sapper.styles%",()=>k);o.statusCode=r,o.end(T)}catch(e){c?u(0,o,e):p(s,o,500,e)}}return function(e,t,n){if("/service-worker-index.html"!==e.path){for(const n of d)if(n.pattern.test(e.path))return void h(n,e,t);p(e,t,404,"Not found")}else{h(d.find(e=>e.pattern.test("/")),e,t)}}}function mn(e=Xe){return s.readFileSync(e+"/template.html","utf-8")}function fn(e,t){try{return yt(e)}catch(e){return t&&t(e),null}}function Cn(e){if(!e)return null;let t=fn(e);if(!t){const{name:n,message:a,stack:s}=e;t=fn({name:n,message:a,stack:s})}return t||(t="{}"),t}function vn(e={}){const{session:t,ignore:n}=e;let a=!1;return function(e,t){const n=t.length;function a(e,s,o,i){if(e>=n)return i();t[e](s,o,()=>a(e+1,s,o,i))}return e?(t,n,s)=>{!function e(t,n){return Array.isArray(n)?n.some(n=>e(t,n)):n instanceof RegExp?n.test(t):"function"==typeof n?n(t):t.startsWith(47===n.charCodeAt(0)?n:"/"+n)}(t.path,e)?a(0,t,n,s):s()}:(e,t,n)=>a(0,e,t,n)}(n,[(e,t,n)=>{if(void 0===e.baseUrl){let{originalUrl:t}=e;"/"===e.url&&"/"!==t[t.length-1]&&(t+="/"),e.baseUrl=t?t.slice(0,-e.url.length):""}!a&&process.send&&(process.send({__sapper__:!0,event:"basepath",basepath:e.baseUrl}),a=!0),void 0===e.path&&(e.path=e.url.replace(/\?.*/,"")),n()},s.existsSync(o.join(Xe,"service-worker.js"))&&bn({pathname:"/service-worker.js",cache_control:"no-cache, no-store, must-revalidate"}),s.existsSync(o.join(Xe,"service-worker.js.map"))&&bn({pathname:"/service-worker.js.map",cache_control:"no-cache, no-store, must-revalidate"}),bn({prefix:"/client/",cache_control:"max-age=31536000, immutable"}),rt(Je.server_routes),hn(Je,t||gn)].filter(Boolean))}function bn({prefix:e,pathname:t,cache_control:n}){const a=t?e=>e.path===t:t=>t.path.startsWith(e),i=new Map,r=e=>(i.has(e)?i:i.set(e,s.readFileSync(o.join(Xe,e)))).get(e);return(e,t,s)=>{if(a(e)){const a=it.getType(e.path);try{const s=o.posix.normalize(decodeURIComponent(e.path)),i=r(s);t.setHeader("Content-Type",a),t.setHeader("Cache-Control",n),t.end(i)}catch(e){t.statusCode=404,t.end("not found")}}else s()}}function gn(){}pn.isRedirect=function(e){return 301===e||302===e||303===e||307===e||308===e},pn.Promise=global.Promise;var yn=n(27),wn=n.n(yn),xn=n(28),_n=n.n(xn),En=n(29),kn=n.n(En),Sn=n(30),Tn=n.n(Sn);const{PORT:$n,NODE_ENV:Bn,TOKEN_ENCRYPT:In}=process.env,On="development"===Bn,Mn=n(15),jn=n(36),Dn=n(37),zn=n(38),Pn=n(39),Nn=(n(23),n(14)),{pgListen:Rn}=n(41),{SocketIO:Kn}=n(42),{Token:Un}=n(6);class Gn extends Mn{constructor({credentials:e,cluster:t,listen_notification_list:a}){let s;super(),a&&a.length>0&&new Rn(a).on("notification",e=>{this.emit("pgNotify",e)}),this.token=new Un,this.socketio=()=>{},this.app=jn(),this.app.use(zn("dev")),this.app.use(Pn(In)),this.app.use(jn.json({strict:!1,limit:1e8})),this.app.use(jn.urlencoded({limit:"100mb",extended:!0})),this.app.use(Dn({secret:In,resave:!0,saveUninitialized:!0,cookie:{maxAge:72e5,httpOnly:!0,sameSite:!0}})),this.app.use(Nn.initialize()),n(44),this.app.use(kn.a),this.app.use(Tn.a),this.app.use(_n()({threshold:0}),wn()("static",{dev:On}),vn({session:(e,t)=>{let n;try{n=this.token.getUserFromRequest(e)}catch(e){console.trace(e)}return{user:n}}})),process.env.LOCAL_SERVER?(s=n(16).createServer(e,this.app),console.log("Usando HTTPS")):(s=n(9).createServer(this.app),console.log("Usando HTTP")),s&&(this.socketio=Kn(s),s.on("error",e=>{console.trace(e)}),s.listen($n,()=>{t?console.log("App listening on port "+$n+" "+t.worker.id):console.log("App listening on port "+$n)}))}get clients(){return this.socketio.sockets.sockets}}},function(e,t){e.exports=require("sirv")},function(e,t){e.exports=require("compression")},function(e,t,n){const a=n(18),s=n(19),o=new a,{Token:i}=n(6),{CustomResponse:r}=n(52);o.all("/pgapi/*",async(e,t)=>{!async function(e,t){const n=new r,a=new i;let o=await a.getUserFromRequest(e);const l=new URL("https://"+e.hostname+e.originalUrl);let c=e.headers["x-forwarded-for"]||e.connection.remoteAddress,d={cookies:e.cookies,body:e.body,query:e.query,method:e.method,pathname:l.pathname,ipclient:c,headers:e.headers,user:o};try{let a={name:d.method,text:"SELECT api.fn_access_point($1::JSON)",values:[JSON.stringify(d)]},o=await s.query(a);if(o.rows.length>0){let a=o.rows[0].fn_access_point;"401"==a.status?(t.cookie("TOKEN_USER",{},{expire:1}),t.status(401).location("/").end()):a.data&&a.data.EXECUTE?n.execute(a.data.EXECUTE,a.data,e,t):t.status(a.status).json(a.data)}else t.status(204).json([])}catch(e){t.status(500).json(e)}}(e,t)}),e.exports=o},function(e,t,n){n(4).config({override:!0});const a=n(18),s=n(14),o=new a,{Token:i}=n(6),r=new i;o.post("/login",s.authenticate("easyseguridad",{session:!1}),(async function(e,t){try{let n=e.user.user,a=await r.token(e,n.username,n.fullname,n.multilogin,n.profile,n.payload);a?(t.cookie("TOKEN_USER",a,{expire:15768e8}),t.json(e.user)):t.status(500).json({message:"Token not generated"})}catch(e){console.error(e),t.status(500).json(e)}})),o.get("/tokens",(e,t)=>{let n=r.all();t.status(200).json(n)}),o.get("/token/verify",(e,t)=>{let n=!1;r.verify(e.query.token)&&(n=!0),t.status(200).json({verify:n})}),o.get("/logout",(e,t)=>{r.delete(e.cookies.TOKEN_USER),e.logout(),t.cookie("TOKEN_USER",{},{expire:1}),t.redirect("/")}),o.get("/secure_path",r.validateAsMiddleware,(e,t)=>{t.status(200).json({ok:!0})}),o.get("/push",async(e,t)=>{console.log("pushSubscription2 =>> "+pushSubscription),t.status(200).json({pushSubscription:pushSubscription})}),e.exports=o},function(e,t,n){n(4).config({override:!0});const{WITH_NODE_CLUSTER:a}=process.env;console.log("WITH_NODE_CLUSTER: "+a),n("true"===a?32:51)},function(e,t,n){"use strict";n.r(t);n(49);var a=n(0),s=n.n(a);n(4).config({override:!0});const{Token:o}=n(6),{Server:i}=n(26),r=n(46),l=n(24).Telegraf,{FetchDataNode:c}=n(25);n(23);var d={key:s.a.readFileSync("./certs/selfsigned.key","utf8"),cert:s.a.readFileSync("./certs/selfsigned.crt","utf8"),requestCert:!1};let A=new o,u=new l;new c;if(r.isMaster&&(A.deleteAll(),u.launch()),r.isMaster)for(var p=n(50).cpus().length,h=0;h<p;h+=1){r.fork()}else{let e=new i({credentials:d,cluster:r,listen_notification_list:["events.data","test"]}),t={test:e=>{console.log("NOTIFY TEST",e)}};t["events.data"]=async t=>{try{let n=JSON.parse(t.payload);if(n&&n.idevent&&n.idevent>0){let t=await l.getEventById(n.idevent);l.EmitEventToNameSpace(e.socketio,t)}else console.error("pgNotifyProcess - El evento no es v√°lido",t)}catch(e){console.log("ServerInstance Error: ",e)}},e.on("pgNotify",e=>{t[e.channel](e)}),l.CreateSocketIONameSpace(e.socketio)}r.on("exit",(function(e){console.log("Worker %d died :(",e.id),r.fork()}))},function(e,t){e.exports=require("jsonwebtoken")},function(e,t,n){const{Connection:a,Request:s,TYPES:o}=n(21);e.exports.MSSql=class{constructor(e){this.config={server:e.server||"localhost",options:{encrypt:e.options.encrypt||!1,database:e.options.database||"msdb",requestTimeout:e.options.requestTimeout||15e3,useColumnNames:e.options.useColumnNames||!0,rowCollectionOnDone:e.options.rowCollectionOnDone||!0,trustServerCertificate:e.options.trustServerCertificate||!1,rowCollectionOnRequestCompletion:e.options.rowCollectionOnRequestCompletion||!0},authentication:{type:"default",options:{password:e.authentication.options.password||"pwd",userName:e.authentication.options.userName||"user"}}}}execSql(e,t){return new Promise((n,o)=>{let i=new a(this.config);i.on("end",(function(){console.log("mssql tedious finalizado")})),i.on("connect",(function(a){if(a)console.log(a),i.close(),o(a);else{let a=new s(e,(function(e,t,a){if(e)console.log(e),o(e);else if(i.close(),a&&a.length>0){let e=a.map(e=>{let t={};return Object.keys(e).forEach(n=>{t[n]=e[n].value}),t});n({rows:e})}else n({rows:[]})}));t&&t.length>0&&t.forEach(e=>{a.addParameter(e.name,e.type,e.value)}),i.execSql(a)}})),i.connect()})}}},function(e,t){e.exports=require("mssql")},function(e,t){e.exports=require("express")},function(e,t){e.exports=require("express-session")},function(e,t){e.exports=require("morgan")},function(e,t){e.exports=require("cookie-parser")},function(e,t){const{OMS_USER:n,OMS_PASSWORD:a}=process.env;e.exports=function(){return"Basic "+Buffer.from(n+":"+a).toString("base64")}},function(e,t,n){"use strict";n.r(t),n.d(t,"pgListen",(function(){return i}));n(4).config();const a=process.env.DATABASE_URL,s=n(15),{Client:o}=n(20);class i extends s{constructor(e){if(super(),e&&e.length>0){let t=e.map(e=>'LISTEN "'+e+'";');this.query=t.join(" "),this.client=new o({connectionString:a,ssl:{rejectUnauthorized:!1}}),this.connect()}}connect(){this.client.connect(),this.client.query(this.query).then(e=>{console.log("START LISTEN")}).catch(e=>{console.trace(e.stack)}),this.client.on("error",e=>{console.trace(e.stack)}),this.client.on("notification",e=>{this.emit("notification",e)})}}},function(e,t,n){"use strict";function a(e){let t=n(43)(e,{allowEIO3:!0});return t.on("error",e=>{console.trace(e)}),t.engine.on("connection_error",e=>{console.log(e.code),console.log(e.message),console.log(e.context)}),t}n.r(t),n.d(t,"SocketIO",(function(){return a}))},function(e,t){e.exports=require("socket.io")},function(e,t,n){const{WS_WSEASYLOGIN:a}=process.env,s=n(19),o=n(14),i=n(45);var r=n(22);o.use("local-pg",new i({usernameField:"user",passwordField:"pwd",passReqToCallback:!0},async(e,t,n,a)=>{try{let e={name:"login",text:"SELECT users.fn_login($1::TEXT, $2::TEXT)",values:[t,n]},o=await s.query(e);if(o.rows.length>0){let e=o.rows[0].fn_login;return e.login?a(null,e):a(null,e,{message:e.message})}return a(null,!1,{message:"No se pudo"})}catch(e){return a(e)}})),o.serializeUser((e,t)=>{t(null,e)}),o.deserializeUser((e,t)=>{t(null,e)}),o.use("local",new i({usernameField:"user",passwordField:"pwd",passReqToCallback:!0},(e,t,n,a)=>{let s={message:"Bienvenid@ demo",login:!0,user:{profile:null,username:"demo",fullname:"Usuario DEMO",multilogin:!0,payload:{iduser:1,rowkey:999}}};try{return"demo"==t&&"demo"==n?a(null,s):(s.login=!1,s.message="Acceso no permitido",a(null,s,{message:"No tiene acceso"}))}catch(e){return a(e)}})),o.use("easyseguridad",new i({usernameField:"user",passwordField:"pwd",passReqToCallback:!0},(e,t,n,s)=>{try{var o={_UserName:t,_Password:n};r.createClient(a,(function(e,n){n.ADSIAuthenticate(o,(function(e,n){return console.log(n),n={message:n.strMessage,login:n.ADSIAuthenticateResult,user:{profile:null,username:t,fullname:t,multilogin:!1,payload:{}}},s(null,n)}))}))}catch(e){return s(e)}}))},function(e,t){e.exports=require("passport-local")},function(e,t){e.exports=require("cluster")},function(e,t){e.exports=require("telegraf")},function(e,t){class n{forceReply(e=!0){return this.force_reply=e,this}removeKeyboard(e=!0){return this.remove_keyboard=e,this}selective(e=!0){return this.selective=e,this}extra(e){return{reply_markup:{...this},...e}}keyboard(e,t){const n=a(e,{columns:1,...t});return n&&n.length>0&&(this.keyboard=n),this}resize(e=!0){return this.resize_keyboard=e,this}oneTime(e=!0){return this.one_time_keyboard=e,this}inlineKeyboard(e,t){const n=a(e,{columns:e.length,...t});return n&&n.length>0&&(this.inline_keyboard=n),this}button(e,t){return n.button(e,t)}contactRequestButton(e,t){return n.contactRequestButton(e,t)}locationRequestButton(e,t){return n.locationRequestButton(e,t)}urlButton(e,t,a){return n.urlButton(e,t,a)}callbackButton(e,t,a){return n.callbackButton(e,t,a)}switchToChatButton(e,t,a){return n.switchToChatButton(e,t,a)}switchToCurrentChatButton(e,t,a){return n.switchToCurrentChatButton(e,t,a)}gameButton(e,t){return n.gameButton(e,t)}payButton(e,t){return n.payButton(e,t)}loginButton(e,t,a,s){return n.loginButton(e,t,a,s)}static removeKeyboard(e){return(new n).removeKeyboard(e)}static forceReply(e){return(new n).forceReply(e)}static keyboard(e,t){return(new n).keyboard(e,t)}static inlineKeyboard(e,t){return(new n).inlineKeyboard(e,t)}static resize(e=!0){return(new n).resize(e)}static selective(e=!0){return(new n).selective(e)}static oneTime(e=!0){return(new n).oneTime(e)}static button(e,t=!1){return{text:e,hide:t}}static contactRequestButton(e,t=!1){return{text:e,request_contact:!0,hide:t}}static locationRequestButton(e,t=!1){return{text:e,request_location:!0,hide:t}}static pollRequestButton(e,t,n=!1){return{text:e,request_poll:{type:t},hide:n}}static urlButton(e,t,n=!1){return{text:e,url:t,hide:n}}static callbackButton(e,t,n=!1){return{text:e,callback_data:t,hide:n}}static switchToChatButton(e,t,n=!1){return{text:e,switch_inline_query:t,hide:n}}static switchToCurrentChatButton(e,t,n=!1){return{text:e,switch_inline_query_current_chat:t,hide:n}}static gameButton(e,t=!1){return{text:e,callback_game:{},hide:t}}static payButton(e,t=!1){return{text:e,pay:!0,hide:t}}static loginButton(e,t,n={},a=!1){return{text:e,login_url:{...n,url:t},hide:a}}static formatHTML(e="",t=[]){const n=[...e],a=[...t],s=[],o=[];for(let e=0;e<n.length;e++){for(;;){const t=a.findIndex(t=>t.offset===e);if(-1===t)break;const n=a[t];switch(n.type){case"bold":o.push("<b>");break;case"italic":o.push("<i>");break;case"code":o.push("<code>");break;case"pre":n.language?o.push(`<pre><code class="language-${n.language}">`):o.push("<pre>");break;case"strikethrough":o.push("<s>");break;case"underline":o.push("<u>");break;case"text_mention":o.push(`<a href="tg://user?id=${n.user.id}">`);break;case"text_link":o.push(`<a href="${n.url}">`)}s.unshift(n),a.splice(t,1)}for(o.push(n[e]);;){const t=s.findIndex(t=>t.offset+t.length-1===e);if(-1===t)break;const n=s[t];switch(n.type){case"bold":o.push("</b>");break;case"italic":o.push("</i>");break;case"code":o.push("</code>");break;case"pre":n.language?o.push("</code></pre>"):o.push("</pre>");break;case"strikethrough":o.push("</s>");break;case"underline":o.push("</u>");break;case"text_mention":case"text_link":o.push("</a>")}s.splice(t,1)}}return o.join("")}}function a(e,t){const n=[];if(!Array.isArray(e))return n;if(e.find(Array.isArray))return e.map(e=>e.filter(e=>!e.hide));const a=t.wrap?t.wrap:(e,n,a)=>a.length>=t.columns;let s=[],o=0;for(const t of e.filter(e=>!e.hide))a(t,o,s)&&s.length>0&&(n.push(s),s=[]),s.push(t),o++;return s.length>0&&n.push(s),n}e.exports=n},function(e,t){e.exports=require("console")},function(e,t){e.exports=require("os")},function(e,t,n){"use strict";n.r(t);var a=n(0),s=n.n(a);n(4).config({override:!0});const{Token:o}=n(6),{Server:i}=n(26),r=n(24).Telegraf;var l={key:s.a.readFileSync("./certs/selfsigned.key","utf8"),cert:s.a.readFileSync("./certs/selfsigned.crt","utf8"),requestCert:!1};(new o).deleteAll();let c=new r;c.launch();let d=new i({credentials:l,listen_notification_list:["events.data","test"]});r.CreateSocketIONameSpace(d.socketio),d.on("pgNotify",e=>{console.log(e),c.ProcessPgNotification(d.socketio,e)})},function(e,t,n){"use strict";n.r(t),n.d(t,"CustomResponse",(function(){return v}));var a=n(8);class s{constructor(){}GroupByNumberItems(e,t,n){Object(a.a)(e,t).forEach(e=>{e.reduce((e,t,a)=>e.then(()=>n(t)),Promise.resolve())})}ByNumberBlocks(e,t,n){let a=Math.ceil(e.length/t);this.GroupByNumberItems(e,a,n)}}const{CNX_SERVER_159_JSON:o,SAP_USER:i,SAP_PWD:r,CNX_SERVER_159:l,TANDI_CONSULTA_ESTADO_DOCUMENTOS:c,RUC_FARMA:d,SERVICIO_INTEGRADOR_FARMA_PRD:A}=process.env,{TYPES:u}=n(21),p=n(34),h=n(12),m=n(35);var f=n(22);const C=n(13);class v extends class{constructor(){}execute(e,t,n,a){try{this[e](t,n,a)}catch(t){a.status(500).json({error:t,function_name:e})}}Test(e,t,n){n.status(200).json({ok:"Personalizado y llamado por pgapi"})}}{constructor(){super()}async EnviarAutorizacionesSAP(e,t,n){let a=t.body.autorizacion_sri,s=t.body.mensaje_sri,o=t.body.fecha_autorizacion,i=t.body.estado;if(i)try{let e=await b(a,s,o,i);n.status(200).json(e)}catch(e){n.status(500).json(e)}else n.status(500).json({error:"autorizacion_sri, mensaje_sri, fecha_autorizacion, estado son requeridas"})}async EnviarAutorizacionesCAR(e,t,n){let a=t.body.autorizacion_sri,s=(t.body.mensaje_sri,t.body.fecha_autorizacion,t.body.estado);if(s)try{let e=await(o=a,l=C()+"/farma/wsdl/SI_Actfactelectronica_Sync_OutService.wsdl",new Promise((e,t)=>{f.createClient(l,(n,a)=>{if(n)t(n);else{a.setSecurity(new f.BasicAuthSecurity(i,r));var s={attributes:{},Transaccion:o};a.SI_Actfactelectronica_Sync_OutService.HTTP_Port.SI_Actfactelectronica_Sync_Out(s,(n,a)=>{n?t(n):e(a.Transaccion)})}})}));n.status(200).json(e)}catch(e){n.status(500).json(e)}else n.status(500).json({error:"autorizacion_sri, mensaje_sri, fecha_autorizacion, estado son requeridas"});var o,l}async Exec_pa_CambiarEstadoFactReserv(e,t,n){let a=t.query.procedimiento,s=t.query.lsp_id;if(a&&s){let e=`\n            USE [EasygestionEmpresarial];\n            UPDATE [sap].[tbl_LogSeguimientoSAP] set lsp_revision=lsp_revision+' OK' where lsp_proceso='VentasMatriz' and lsp_estado='ERROR' and\n            lsp_id in (${s});\n            ${a}\n            `;try{await m.connect(l);const t=await m.query(e);t.recordsets.length>0?n.status(200).json(t.recordsets[0]):n.status(200).json([])}catch(e){n.status(500).json(e)}}else n.status(500).json({error:"No ha definido procedimiento o lsp_id"})}async DriverMsSql(e,t,n){try{let t=e.query_parameters.map((e,t)=>{let n=u.Text;switch(e.type){case"BigInt":n=u.BigInt;break;case"Time":n=u.Time;break;case"TinyInt":n=u.TinyInt;break;case"UDT":n=u.UDT;break;case"UniqueIdentifier":n=u.UniqueIdentifier;break;case"VarBinary":n=u.VarBinary;break;case"VarChar":n=u.VarChar;break;case"Xml":n=u.Xml;case"Date":n=u.Date;break;case"DateTime":n=u.DateTime;break;case"Decimal":n=u.Decimal;break;case"Float":n=u.Float;break;case"Money":n=u.Money;break;case"Numeric":n=u.Numeric;break;case"SmallDateTime":n=u.SmallDateTime;break;case"SmallInt":n=u.SmallInt;break;case"Int":n=u.Int;break;case"NVarChar":n=u.NVarChar;break;case"Char":n=u.Char;break;case"NChar":n=u.NChar}return{name:e.name,type:n,value:e.value}}),a=e.query,s=new p.MSSql(e.connection_string);const o=await s.execSql(a,t);n.status(200).json(o.rows)}catch(e){console.log(e),n.status(500).json(e)}}async ConsultarCabInconsistencias(e,t,n){try{let e=t.body.inconsistencias,a=e.map((e,t)=>"@paramId"+t),s=e.map((e,t)=>({name:"paramId"+t,type:u.BigInt,value:e.trim()})),i=`\nSELECT o.Nombre, o.ofi_codigo_auxiliar, ip.ip_red, cab.* FROM [LNK_SRV10].[farmaInconsistencias].[dbo].[tbl_inco_bodega] cab WITH(NOLOCK) \nINNER JOIN [EasygestionEmpresarial].[dbo].[Oficina] o WITH(NOLOCK) ON cab.id_farmacia = o.Oficina COLLATE Modern_Spanish_CI_AS\nINNER JOIN [LNK_SRV10].[bdgeneral].[dbo].[OFICINA_IP_SERVER] ip WITH(NOLOCK) ON o.Oficina COLLATE Modern_Spanish_CI_AS = ip.oficina\nWHERE id_inco_bodega in (${a.join(",")});\n        `,r=new p.MSSql(JSON.parse(o));const l=await r.execSql(i,s);n.status(200).json(l.rows)}catch(e){n.status(500).json(e)}}async ConsultarLogInconsistencia(e,t,n){try{let e=`\n            SELECT TOP 1000 * FROM [EasyGestionEmpresarial].[sap].[tbl_LogSeguimientoSAP] WITH(NOLOCK) WHERE lsp_identificador = '${t.query.num_inconsistencia}' AND lsp_estado = 'OK'\n            AND lsp_respuesta like 'Enviado: se envi√≥ la inconsistencia correctamente a sap:%'\n        `,a=new p.MSSql(JSON.parse(o));const s=await a.execSql(e);n.status(200).json(s.rows)}catch(e){console.log(e),n.status(500).json(e)}}async ConsultarDetInconsistencias(e,t,n){try{let e=`\n            WITH detalle AS (\n                select *, CASE WHEN id_motivo = 1 THEN 'INCF'+CAST(id_inco_bodega AS varchar) WHEN id_motivo = 2 THEN 'INCS'+CAST(id_inco_bodega AS varchar)   ELSE 'NODEFINIDO' END AS num_inconsistencia from [LNK_SRV10].[farmaInconsistencias].[dbo].[tbl_detalle_inco_bodega] with(nolock) \n                where id_inco_bodega  = '${t.query.inconsistencia}'\n                )\n                SELECT * FROM detalle\n        `,a=new p.MSSql(JSON.parse(o));const s=await a.execSql(e);n.status(200).json(s.rows)}catch(e){n.status(500).json(e)}}async Consultartbl_MovimientoInventarioSapIncon(e,t,n){try{let e=`select * from ITE_IntegradorSap.inv.tbl_MovimientoInventarioSap with (nolock) WHERE mis_texto_cabecera_doc='${t.query.inconsistencia||"0000"}' AND mis_material = '${t.query.material||"0000"}'`,a=new p.MSSql(JSON.parse(o));const s=await a.execSql(e);n.status(200).json(s.rows)}catch(e){n.status(500).json(e)}}async Consultar_v_tbl_movinvent_Inco(e,t,n){try{let e=t.query.id_producto||"0000",a=t.query.id_inconsistencia||"0000",s={server:t.query.ip,options:{requestTimeout:9e4},authentication:{options:{password:"sqlfarma",userName:"sa"}}},o=`\n            use EasyGestionEmpresarial;\n            select top(1000) cantidad,cantidad_total as total, fecha_mov,tipo_mov, Serie_Factura, *\n            from v_tbl_movinvent(nolock) mv\n            where codigo_producto='${e}'\n            AND tx_referencia LIKE 'INCONSISTENCIA%${a}%'\n            `,i=new p.MSSql(s);const r=await i.execSql(o);n.status(200).json(r.rows)}catch(e){n.status(500).json(e)}}async ServicioIntegradorPRD_servicioconsumo_ObtenerDepositosFarmacias(e,t,n){if(!t.query.Cuenta||t.query.Cuenta.length<2)n.status(200).json([]);else{var a={attributes:{},dato:{I115Datos:{Sociedad:"1000",Cuenta:t.query.Cuenta,Asignacion:t.query.Asignacion,FechaDocumento:t.query.Fecha}}};f.createClient(A,(e,t)=>{e?n.status(500).json(e):t.ObtenerDepositosFarmacias(a,(e,t)=>{if(e)n.status(500).json(e);else try{n.status(200).json(t.ObtenerDepositosFarmaciasResult.DatosDepositos.DatosDepositos)}catch(e){console.error(e),n.status(200).json([])}})})}}async ServicioIntegradorPRD_servicioconsumo_StockInventarioOnLine(e,t,n){if(console.log(t.body),!t.body.tiendas||t.body.tiendas.length<1)n.status(200).json([]);else{var a={attributes:{},datos:[{Tiendas:t.body.tiendas.map(e=>({string:e})),Articulos:t.body.articulos.map(e=>({string:e})),Almacen:"X"}]};console.dir(a),f.createClient(A,(e,t)=>{e?n.status(500).json(e):t.StockInventarioOnLine(a,(e,a)=>{if(console.log(t.lastRequest),e)n.status(500).json(e);else try{console.log(a),n.status(200).json(a.StockInventarioOnLineResult)}catch(e){n.status(500).json(e)}})})}}async ReenviarDocumentosPVSinAutorizarCAR(e,t,n){let a=t.body.series.map(e=>"'"+e+"'");try{let e=`\n            DELETE FROM [LNK_SRV38].[FacturacionElectronica].[fac].[tbl_RespuestaEnvioAutCAR]\n            WHERE serie_documento IN\n            (\n                ${a.join(",")}\n            );\n            INSERT INTO [LNK_SRV38].[FacturacionElectronica].[dbo].[GEN_TMP_AutorizacionDocumentos]\n            SELECT TOP(100000) * FROM [LNK_SRV38].[FacturacionElectronica].[dbo].[GEN_LOG_AutorizacionDocumentos] WITH(NOLOCK) WHERE gla_serie_factura IN\n            (\n                ${a.join(",")}\n            );\n            SELECT GETDATE();\n        `,t=new p.MSSql(JSON.parse(o));const s=await t.execSql(e);n.status(200).json(s.rows)}catch(e){n.status(500).json(e)}}async CambiarEstadoInconsistencia(e,t,n){try{let e=t.body,a=`\n            BEGIN TRANSACTION;\n            UPDATE [LNK_SRV10].[farmaInconsistencias].[dbo].[tbl_inco_bodega] SET fecha_cierre='${e.fecha_cab}',\testado='C' where id_inco_bodega='${e.id_inco_bodega}';\n            `;a=a+"\n"+g(e.id_inco_bodega,e.motivo1)+"\n"+g(e.id_inco_bodega,e.motivo2),a+="\nSELECT GETDATE()\nCOMMIT;",console.log(a),await m.connect(l);const s=await m.query("SELECT GETDATE();");console.dir(s),n.status(200).json({query:a})}catch(e){console.log(e),n.status(500).json(e)}}async ConsultarEstadoDocumentosSRIDocSAP(e,t,n){let a=new s;try{if(Array.isArray(e.documentos)){let t=e.documentos.map(e=>{let t="";switch(e.tip_documento){case"Nota de Cr√©dito":t="04";break;case"Factura":t="01";break;case"Comprobante de Retenci√≥n":t="07";break;default:t=e.tip_documento}return{clave_acceso:e.clave_acceso,ruc:d,tipo_documento_sri:t,establecimiento:e.factura_legal_ecuador.substring(0,3),punto_emision:e.factura_legal_ecuador.substring(3,6),secuencial:e.factura_legal_ecuador.substring(6,20),Sucursal:"004",num_doc_sap:e.num_doc_sap}});a.ByNumberBlocks(t,10,async e=>{let t=await function(e){return new Promise((t,n)=>{f.createClient(c,(a,s)=>{if(a)n(a);else{var o={ruc:e.ruc,tipoDocumento:e.tipo_documento_sri,establecimiento:e.establecimiento,puntoEmision:e.punto_emision,secuencial:e.secuencial,codigoSucursal:e.Sucursal};try{s.searchAuthorization(o,(e,a)=>{e?n(e):t(a)})}catch(e){n(e)}}})})}(e),n={},a=t.ActualizarDocumento;"A"===a.estado&&a.autorizacion_sri==e.clave_acceso?n=await b(a.autorizacion_sri,a.mensaje_sri,a.fecha_autorizacion,a.estado):a.serieFactura&&a.serieFactura.length>0?n=await b(a.serieFactura,a.mensaje_sri,a.fecha_autorizacion,a.estado):"R"===a.estado&&""===a.serieFactura&&e.clave_acceso&&!a.mensaje_sri.includes("Documento no se encuentra registrado")&&(n=await b(e.clave_acceso,a.mensaje_sri,a.fecha_autorizacion,a.estado));let s={...t,num_doc_sap:e.num_doc_sap,sap:n},o=await h(C()+"/pgapi/farma/fact_elect_sap/actualiza_estado_doc_sap",{method:"POST",body:JSON.stringify(s),headers:{"Content-Type":"application/json"}});return await o.json()}),n.status(200).json({ok:"Consutando estado en segundo plano."})}else n.status(200).json({})}catch(e){n.status(500).json(e)}}async ConsultarEstadoDocumentosSRIPV(e,t,n){let a=new s;try{if(Array.isArray(e.documentos)){let t=e.documentos.map(e=>{let t="";switch(e.tip_documento){case"Nota de Cr√©dito":t="04";break;case"Factura":t="01";break;case"Comprobante de Retenci√≥n":t="07";break;default:t=e.tip_documento}return{ruc:d,tipo_documento_sri:t,establecimiento:e.factura_legal_ecuador.substring(0,3),punto_emision:e.factura_legal_ecuador.substring(3,6),secuencial:e.factura_legal_ecuador.substring(6,20),Sucursal:"004",num_doc_sap:e.num_doc_sap}});a.ByNumberBlocks(t,20,ConsultarEstadoSRIDocSAP),n.status(200).json({ok:"ok"})}else n.status(200).json({})}catch(e){n.status(500).json(e)}}}function b(e,t,n,a){var s=C()+"/farma/wsdl/SI_Autorizadocumentos_Sync_Out.wsdl";return new Promise((o,l)=>{f.createClient(s,(s,c)=>{if(s)l(s);else{c.setSecurity(new f.BasicAuthSecurity(i,r));var d={attributes:{},autorizacion_sri:e,mensaje_sri:t,fecha_autorizacion:n,estado:a};c.SI_Autorizadocumentos_Sync_OutService.SI_Autorizadocumentos_Sync_OutPort.SI_Autorizadocumentos_Sync_Out(d,(e,t)=>{e?(console.log(e),l(e)):o(t)})}})})}function g(e,t){if(t&&t.length>0){return`\n  UPDATE [LNK_SRV10].[farmaInconsistencias].[dbo].[tbl_detalle_inco_bodega] SET solucion='A',nota='',num_ing_egr='N.I. #SN - N.E. #${t[0].log_inconsistencia[0].lsp_respuesta.match(/[0-9]+/gu)[0]}' WHERE id_inco_bodega='${e}' and id_producto in (\n${t.map(e=>"'"+e.id_producto+"'").join(",")}\n);\n    `}return""}}]);